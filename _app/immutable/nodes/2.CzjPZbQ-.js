var Fo=Object.defineProperty;var Lo=(i,s,e)=>s in i?Fo(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var ce=(i,s,e)=>Lo(i,typeof s!="symbol"?s+"":s,e);import{d as ja,e as Oo,a as ie,t as le,c as lt,b as Ks}from"../chunks/disclose-version.DT5DBYf1.js";import{i as rn}from"../chunks/legacy.D60tDIkT.js";import{A as No,b as Ys,aA as Xs,h as Ce,F as Pt,G as zt,v as Zo,_ as er,a9 as Bo,aa as Va,W as bi,c as An,aB as Dt,ab as nr,a as da,ac as jo,L as Vo,C as Oi,aC as ma,aD as za,aE as pa,aF as zo,K as Uo,aG as Go,d as tr,B as ir,X as Ho,O as ar,aH as Qo,af as Jo,a3 as Ua,aI as $o,U as sr,Y as Wo,V as Ko,M as Ga,N as Ha,a8 as Yo,aJ as Xo,aK as el,aL as nl,aM as tl,j as Xe,ae as il,p as Je,aN as Le,aO as gt,f as an,e as $e,x as N,z as Q,y as F,w as we,l as T,H as de,aP as Ae,m as He,aQ as tn,aR as Ai,o as en,aS as Wn,aT as al,J as Ye}from"../chunks/runtime.DZX78rV8.js";import{p as X,i as Pe,b as st,l as Qa,s as rr,e as Ni,f as Ct,g as Zi,c as sl,h as rl,a as qe,r as kt}from"../chunks/legacy-client.DcG2d_cG.js";import{a as ol,i as ll,c as ul,d as cl,b as dl,n as ml,e as pl,l as fl,f as ae,s as Te,r as gl}from"../chunks/render.CQ5KavVX.js";import{c as Yt,o as hl,a as yl}from"../chunks/index-client.CtLvALtV.js";import{w as or}from"../chunks/index.CG4OQBo_.js";function kn(i,s){return s}function vl(i,s,e,n){for(var t=[],a=s.length,r=0;r<a;r++)zo(s[r].e,t,!0);var o=a>0&&t.length===0&&e!==null;if(o){var l=e.parentNode;Uo(l),l.append(e),n.clear(),cn(i,s[0].prev,s[a-1].next)}Go(t,()=>{for(var u=0;u<a;u++){var c=s[u];o||(n.delete(c.k),cn(i,c.prev,c.next)),tr(c.e,!o)}})}function Rn(i,s,e,n,t,a=null){var r=i,o={flags:s,items:new Map,first:null},l=(s&Xs)!==0;if(l){var u=i;r=Ce?Pt(ir(u)):u.appendChild(No())}Ce&&zt();var c=null,d=!1;Ys(()=>{var m=e(),p=Zo(m)?m:m==null?[]:er(m),f=p.length;if(d&&f===0)return;d=f===0;let g=!1;if(Ce){var y=r.data===Bo;y!==(f===0)&&(r=Va(),Pt(r),bi(!1),g=!0)}if(Ce){for(var v=null,b,_=0;_<f;_++){if(An.nodeType===8&&An.data===Ho){r=An,g=!0,bi(!1);break}var C=p[_],A=n(C,_);b=lr(An,o,v,null,C,A,_,t,s),o.items.set(A,b),v=b}f>0&&Pt(Va())}if(!Ce){var x=ar;bl(p,o,r,t,s,(x.f&Dt)!==0,n)}a!==null&&(f===0?c?nr(c):c=da(()=>a(r)):c!==null&&jo(c,()=>{c=null})),g&&bi(!0),e()}),Ce&&(r=An)}function bl(i,s,e,n,t,a,r,o){var ge,M,I,E;var l=(t&Qo)!==0,u=(t&(ma|pa))!==0,c=i.length,d=s.items,m=s.first,p=m,f,g=null,y,v=[],b=[],_,C,A,x;if(l)for(x=0;x<c;x+=1)_=i[x],C=r(_,x),A=d.get(C),A!==void 0&&((ge=A.a)==null||ge.measure(),(y??(y=new Set)).add(A));for(x=0;x<c;x+=1){if(_=i[x],C=r(_,x),A=d.get(C),A===void 0){var D=p?p.e.nodes_start:e;g=lr(D,s,g,g===null?s.first:g.next,_,C,x,n,t),d.set(C,g),v=[],b=[],p=g.next;continue}if(u&&Al(A,_,x,t),A.e.f&Dt&&(nr(A.e),l&&((M=A.a)==null||M.unfix(),(y??(y=new Set)).delete(A))),A!==p){if(f!==void 0&&f.has(A)){if(v.length<b.length){var R=b[0],j;g=R.prev;var O=v[0],se=v[v.length-1];for(j=0;j<v.length;j+=1)Ja(v[j],R,e);for(j=0;j<b.length;j+=1)f.delete(b[j]);cn(s,O.prev,se.next),cn(s,g,O),cn(s,se,R),p=R,g=se,x-=1,v=[],b=[]}else f.delete(A),Ja(A,p,e),cn(s,A.prev,A.next),cn(s,A,g===null?s.first:g.next),cn(s,g,A),g=A;continue}for(v=[],b=[];p!==null&&p.k!==C;)(a||!(p.e.f&Dt))&&(f??(f=new Set)).add(p),b.push(p),p=p.next;if(p===null)continue;A=p}v.push(A),g=A,p=A.next}if(p!==null||f!==void 0){for(var Z=f===void 0?[]:er(f);p!==null;)(a||!(p.e.f&Dt))&&Z.push(p),p=p.next;var oe=Z.length;if(oe>0){var J=t&Xs&&c===0?e:null;if(l){for(x=0;x<oe;x+=1)(I=Z[x].a)==null||I.measure();for(x=0;x<oe;x+=1)(E=Z[x].a)==null||E.fix()}vl(s,Z,J,d)}}l&&Vo(()=>{var L;if(y!==void 0)for(A of y)(L=A.a)==null||L.apply()}),Oi.first=s.first&&s.first.e,Oi.last=g&&g.e}function Al(i,s,e,n){n&ma&&za(i.v,s),n&pa?za(i.i,e):i.i=e}function lr(i,s,e,n,t,a,r,o,l,u){var c=(l&ma)!==0,d=(l&$o)===0,m=c?d?Jo(t):Ua(t):t,p=l&pa?Ua(r):r,f={i:p,v:m,k:a,a:null,e:null,prev:e,next:n};try{return f.e=da(()=>o(i,m,p),Ce),f.e.prev=e&&e.e,f.e.next=n&&n.e,e===null?s.first=f:(e.next=f,e.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{}}function Ja(i,s,e){for(var n=i.next?i.next.e.nodes_start:e,t=s?s.e.nodes_start:e,a=i.e.nodes_start;a!==n;){var r=sr(a);t.before(a),a=r}}function cn(i,s,e){s===null?i.first=e:(s.next=e,s.e.next=e&&e.e),e!==null&&(e.prev=s,e.e.prev=s&&s.e)}function ur(i,s,e,n,t){var a=i,r="",o;Ys(()=>{if(r===(r=s()??"")){Ce&&zt();return}o!==void 0&&(tr(o),o=void 0),r!==""&&(o=da(()=>{if(Ce){An.data;for(var l=zt(),u=l;l!==null&&(l.nodeType!==8||l.data!=="");)u=l,l=sr(l);if(l===null)throw Wo(),Ko;ja(An,u),a=Pt(l);return}var c=r+"",d=Oo(c);ja(ir(d),d.lastChild),a.before(d)}))})}function cr(i,s,e,n,t){var o;Ce&&zt();var a=(o=s.$$slots)==null?void 0:o[e],r=!1;a===!0&&(a=s.children,r=!0),a===void 0?t!==null&&t(i):a(i,r?()=>n:n)}function dr(i){var s,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var t=i.length;for(s=0;s<t;s++)i[s]&&(e=dr(i[s]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function wl(){for(var i,s,e=0,n="",t=arguments.length;e<t;e++)(i=arguments[e])&&(s=dr(i))&&(n&&(n+=" "),n+=s);return n}function Bi(i){return typeof i=="object"?wl(i):i??""}function mr(i){if(Ce){var s=!1,e=()=>{if(!s){if(s=!0,i.hasAttribute("value")){var n=i.value;sn(i,"value",null),i.value=n}if(i.hasAttribute("checked")){var t=i.checked;sn(i,"checked",null),i.checked=t}}};i.__on_r=e,Xo(e),ol()}}function Sl(i,s){s?i.hasAttribute("selected")||i.setAttribute("selected",""):i.removeAttribute("selected")}function sn(i,s,e,n){var t=i.__attributes??(i.__attributes={});Ce&&(t[s]=i.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&i.nodeName==="LINK")||t[s]!==(t[s]=e)&&(s==="style"&&"__styles"in i&&(i.__styles={}),s==="loading"&&(i[el]=e),e==null?i.removeAttribute(s):typeof e!="string"&&fa(i).includes(s)?i[s]=e:i.setAttribute(s,e))}function gn(i,s,e){var n=ar,t=Oi;Ga(null),Ha(null);try{(ji.has(i.nodeName)||customElements.get(i.tagName.toLowerCase())?fa(i).includes(s):e&&typeof e=="object")?i[s]=e:sn(i,s,e==null?e:String(e))}finally{Ga(n),Ha(t)}}function Tl(i,s,e,n,t=!1,a=!1,r=!1){var o=s||{},l=i.tagName==="OPTION";for(var u in s)u in e||(e[u]=null);e.class&&(e.class=Bi(e.class)),e.class=e.class?e.class+" "+n:n;var c=fa(i),d=i.__attributes??(i.__attributes={});for(const v in e){let b=e[v];if(l&&v==="value"&&b==null){i.value=i.__value="",o[v]=b;continue}var m=o[v];if(b!==m){o[v]=b;var p=v[0]+v[1];if(p!=="$$"){if(p==="on"){const _={},C="$$"+v;let A=v.slice(2);var f=pl(A);if(ll(A)&&(A=A.slice(0,-7),_.capture=!0),!f&&m){if(b!=null)continue;i.removeEventListener(A,o[C],_),o[C]=null}if(b!=null)if(f)i[`__${A}`]=b,cl([A]);else{let x=function(D){o[v].call(this,D)};o[C]=ul(A,i,x,_)}else f&&(i[`__${A}`]=void 0)}else if(v==="style"&&b!=null)i.style.cssText=b+"";else if(v==="autofocus")dl(i,!!b);else if(v==="__value"||v==="value"&&b!=null)i.value=i[v]=i.__value=b;else if(v==="selected"&&l)Sl(i,b);else{var g=v;t||(g=ml(g));var y=g==="defaultValue"||g==="defaultChecked";if(b==null&&!a&&!y)if(d[v]=null,g==="value"||g==="checked"){let _=i;if(g==="value"){let C=_.defaultValue;_.removeAttribute(g),_.defaultValue=C}else{let C=_.defaultChecked;_.removeAttribute(g),_.defaultChecked=C}}else i.removeAttribute(v);else y||c.includes(g)&&(a||typeof b!="string")?i[g]=b:typeof b!="function"&&(Ce&&(g==="src"||g==="href"||g==="srcset")||sn(i,g,b))}v==="style"&&"__styles"in i&&(i.__styles={})}}}return o}var ji=new Map;function fa(i){var s=ji.get(i.nodeName);if(s)return s;ji.set(i.nodeName,s=[]);for(var e,n=i,t=Element.prototype;t!==n;){e=nl(n);for(var a in e)e[a].set&&s.push(a);n=Yo(n)}return s}function $a(i,s,e){var n=i.__className,t=Cl(s,e);Ce&&i.className===t?i.__className=t:(n!==t||Ce&&i.className!==t)&&(i.className=t,i.__className=t)}function Cl(i,s){return(i??"")+(" "+s)}function Vi(i,s,e=s){var n=tl();fl(i,"input",t=>{var a=t?i.defaultValue:i.value;if(a=wi(i)?Si(a):a,e(a),n&&a!==(a=s())){var r=i.selectionStart,o=i.selectionEnd;i.value=a??"",o!==null&&(i.selectionStart=r,i.selectionEnd=Math.min(o,i.value.length))}}),(Ce&&i.defaultValue!==i.value||Xe(s)==null&&i.value)&&e(wi(i)?Si(i.value):i.value),il(()=>{var t=s();wi(i)&&t===Si(i.value)||i.type==="date"&&!t&&!i.value||t!==i.value&&(i.value=t??"")})}function wi(i){var s=i.type;return s==="number"||s==="range"}function Si(i){return i===""?null:+i}const kl=!1,Rl=!0,Ip=Object.freeze(Object.defineProperty({__proto__:null,prerender:Rl,ssr:kl},Symbol.toStringTag,{value:"Module"}));var _l=le('<button style="width: 100%;padding: 0.3rem;background-color: #cecece; border: none; cursor: pointer;">Clean AI Filter</button>'),Il=le('<li style="padding: 0; border-bottom: 1px solid #ccc; list-style-type: none;" class="svelte-rqnjm4"><button type="button" style="cursor: pointer; padding: 8px; width: 100%; text-align: left; border: none; background: none;"><strong> </strong> <p> </p></button></li>'),xl=le('<div style="align-content:center"><input id="search" type="text" placeholder="Search by ID, category, or description" class="svelte-rqnjm4"> <!></div> <ul style="list-style-type: none; padding: 0;"></ul>',1);function El(i,s){Je(s,!1);let e=X(s,"nonConformities",24,()=>[]),n=X(s,"num",12,0),t=X(s,"nonConformitiesFilter",28,()=>[]),a=Ae([]);const r=Yt();let o=Ae("");function l(g){r("select",{item:g})}Le(()=>(He(e()),T(o),He(t())),()=>{de(a,e().filter(g=>{const y=T(o).toLowerCase();return g.nc_event_id.toLowerCase().includes(y)||g.ATA_category.toLowerCase().includes(y)||JSON.stringify(g.analysis_history).toLowerCase().includes(y)}).filter(g=>t().length>0?t().some(y=>y.doc===g.nc_event_id):!0).sort((g,y)=>new Date(y.nc_event_date)-new Date(g.nc_event_date)))}),Le(()=>T(a),()=>{n(T(a).length)}),Le(()=>He(t()),()=>{console.log(t())}),gt(),rn();var u=xl(),c=an(u),d=N(c);mr(d);var m=Q(d,2);{var p=g=>{var y=_l();ae("click",y,()=>t([])),ie(g,y)};Pe(m,g=>{t().length>0&&g(p)})}F(c);var f=Q(c,2);Rn(f,5,()=>T(a),kn,(g,y)=>{var v=Il(),b=N(v),_=N(b),C=N(_);we(()=>Te(C,`${T(y).ATA_code??""} - ${T(y).ATA_category??""} - ${T(y).nc_event_date.slice(0,10)??""}`)),F(_);var A=Q(_,2),x=N(A);we(()=>Te(x,`${T(y).analysis_history["000"][0].label.slice(0,100)??""}...`)),F(A),F(b),F(v),ae("click",b,()=>l(T(y))),ae("keypress",b,D=>D.key==="Enter"&&l(T(y))),ie(g,v)}),F(f),Vi(d,()=>T(o),g=>de(o,g)),ie(i,u),$e()}function ga(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let En=ga();function pr(i){En=i}const rt={exec:()=>null};function ue(i,s=""){let e=typeof i=="string"?i:i.source;const n={replace:(t,a)=>{let r=typeof a=="string"?a:a.source;return r=r.replace(ke.caret,"$1"),e=e.replace(t,r),n},getRegex:()=>new RegExp(e,s)};return n}const ke={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},Ml=/^(?:[ \t]*(?:\n|$))+/,ql=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Pl=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ht=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Dl=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,fr=/(?:[*+-]|\d{1,9}[.)])/,gr=ue(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,fr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ha=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Fl=/^[^\n]+/,ya=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ll=ue(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ya).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ol=ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,fr).getRegex(),Xt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",va=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nl=ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",va).replace("tag",Xt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),hr=ue(ha).replace("hr",ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt).getRegex(),Zl=ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",hr).getRegex(),ba={blockquote:Zl,code:ql,def:Ll,fences:Pl,heading:Dl,hr:ht,html:Nl,lheading:gr,list:Ol,newline:Ml,paragraph:hr,table:rt,text:Fl},Wa=ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt).getRegex(),Bl={...ba,table:Wa,paragraph:ue(ha).replace("hr",ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Wa).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xt).getRegex()},jl={...ba,html:ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",va).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ue(ha).replace("hr",ht).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gr).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zl=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,yr=/^( {2,}|\\)\n(?!\s*$)/,Ul=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ei=/[\p{P}\p{S}]/u,Aa=/[\s\p{P}\p{S}]/u,vr=/[^\s\p{P}\p{S}]/u,Gl=ue(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Aa).getRegex(),Hl=/(?!~)[\p{P}\p{S}]/u,Ql=/(?!~)[\s\p{P}\p{S}]/u,Jl=/(?:[^\s\p{P}\p{S}]|~)/u,$l=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Wl=ue(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,ei).getRegex(),br="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Kl=ue(br,"gu").replace(/notPunctSpace/g,vr).replace(/punctSpace/g,Aa).replace(/punct/g,ei).getRegex(),Yl=ue(br,"gu").replace(/notPunctSpace/g,Jl).replace(/punctSpace/g,Ql).replace(/punct/g,Hl).getRegex(),Xl=ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vr).replace(/punctSpace/g,Aa).replace(/punct/g,ei).getRegex(),eu=ue(/\\(punct)/,"gu").replace(/punct/g,ei).getRegex(),nu=ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tu=ue(va).replace("(?:-->|$)","-->").getRegex(),iu=ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tu).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ut=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,au=ue(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ut).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ar=ue(/^!?\[(label)\]\[(ref)\]/).replace("label",Ut).replace("ref",ya).getRegex(),wr=ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",ya).getRegex(),su=ue("reflink|nolink(?!\\()","g").replace("reflink",Ar).replace("nolink",wr).getRegex(),wa={_backpedal:rt,anyPunctuation:eu,autolink:nu,blockSkip:$l,br:yr,code:zl,del:rt,emStrongLDelim:Wl,emStrongRDelimAst:Kl,emStrongRDelimUnd:Xl,escape:Vl,link:au,nolink:wr,punctuation:Gl,reflink:Ar,reflinkSearch:su,tag:iu,text:Ul,url:rt},ru={...wa,link:ue(/^!?\[(label)\]\((.*?)\)/).replace("label",Ut).getRegex(),reflink:ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ut).getRegex()},zi={...wa,emStrongRDelimAst:Yl,url:ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ou={...zi,br:ue(yr).replace("{2,}","*").getRegex(),text:ue(zi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Rt={normal:ba,gfm:Bl,pedantic:jl},Kn={normal:wa,gfm:zi,breaks:ou,pedantic:ru},lu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ka=i=>lu[i];function Ue(i,s){if(s){if(ke.escapeTest.test(i))return i.replace(ke.escapeReplace,Ka)}else if(ke.escapeTestNoEncode.test(i))return i.replace(ke.escapeReplaceNoEncode,Ka);return i}function Ya(i){try{i=encodeURI(i).replace(ke.percentDecode,"%")}catch{return null}return i}function Xa(i,s){var a;const e=i.replace(ke.findPipe,(r,o,l)=>{let u=!1,c=o;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),n=e.split(ke.splitPipe);let t=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),s)if(n.length>s)n.splice(s);else for(;n.length<s;)n.push("");for(;t<n.length;t++)n[t]=n[t].trim().replace(ke.slashPipe,"|");return n}function Yn(i,s,e){const n=i.length;if(n===0)return"";let t=0;for(;t<n&&(i.charAt(n-t-1)===s&&!e);)t++;return i.slice(0,n-t)}function uu(i,s){if(i.indexOf(s[1])===-1)return-1;let e=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===s[0])e++;else if(i[n]===s[1]&&(e--,e<0))return n;return-1}function es(i,s,e,n,t){const a=s.href,r=s.title||null,o=i[1].replace(t.other.outputLinkReplace,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:e,href:a,title:r,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:e,href:a,title:r,text:o}}function cu(i,s,e){const n=i.match(e.other.indentCodeCompensation);if(n===null)return s;const t=n[1];return s.split(`
`).map(a=>{const r=a.match(e.other.beginningSpace);if(r===null)return a;const[o]=r;return o.length>=t.length?a.slice(t.length):a}).join(`
`)}class Gt{constructor(s){ce(this,"options");ce(this,"rules");ce(this,"lexer");this.options=s||En}space(s){const e=this.rules.block.newline.exec(s);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(s){const e=this.rules.block.code.exec(s);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Yn(n,`
`)}}}fences(s){const e=this.rules.block.fences.exec(s);if(e){const n=e[0],t=cu(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:t}}}heading(s){const e=this.rules.block.heading.exec(s);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const t=Yn(n,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(n=t.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(s){const e=this.rules.block.hr.exec(s);if(e)return{type:"hr",raw:Yn(e[0],`
`)}}blockquote(s){const e=this.rules.block.blockquote.exec(s);if(e){let n=Yn(e[0],`
`).split(`
`),t="",a="";const r=[];for(;n.length>0;){let o=!1;const l=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);const c=l.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");t=t?`${t}
${c}`:c,a=a?`${a}
${d}`:d;const m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,r,!0),this.lexer.state.top=m,n.length===0)break;const p=r.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const f=p,g=f.raw+`
`+n.join(`
`),y=this.blockquote(g);r[r.length-1]=y,t=t.substring(0,t.length-f.raw.length)+y.raw,a=a.substring(0,a.length-f.text.length)+y.text;break}else if((p==null?void 0:p.type)==="list"){const f=p,g=f.raw+`
`+n.join(`
`),y=this.list(g);r[r.length-1]=y,t=t.substring(0,t.length-p.raw.length)+y.raw,a=a.substring(0,a.length-f.raw.length)+y.raw,n=g.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:t,tokens:r,text:a}}}list(s){let e=this.rules.block.list.exec(s);if(e){let n=e[1].trim();const t=n.length>1,a={type:"list",raw:"",ordered:t,start:t?+n.slice(0,-1):"",loose:!1,items:[]};n=t?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=t?n:"[*+-]");const r=this.rules.other.listItemRegex(n);let o=!1;for(;s;){let u=!1,c="",d="";if(!(e=r.exec(s))||this.rules.block.hr.test(s))break;c=e[0],s=s.substring(c.length);let m=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),p=s.split(`
`,1)[0],f=!m.trim(),g=0;if(this.options.pedantic?(g=2,d=m.trimStart()):f?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,d=m.slice(g),g+=e[1].length),f&&this.rules.other.blankLine.test(p)&&(c+=p+`
`,s=s.substring(p.length+1),u=!0),!u){const b=this.rules.other.nextBulletRegex(g),_=this.rules.other.hrRegex(g),C=this.rules.other.fencesBeginRegex(g),A=this.rules.other.headingBeginRegex(g),x=this.rules.other.htmlBeginRegex(g);for(;s;){const D=s.split(`
`,1)[0];let R;if(p=D,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),R=p):R=p.replace(this.rules.other.tabCharGlobal,"    "),C.test(p)||A.test(p)||x.test(p)||b.test(p)||_.test(p))break;if(R.search(this.rules.other.nonSpaceChar)>=g||!p.trim())d+=`
`+R.slice(g);else{if(f||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(m)||A.test(m)||_.test(m))break;d+=`
`+p}!f&&!p.trim()&&(f=!0),c+=D+`
`,s=s.substring(D.length+1),m=R.slice(g)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let y=null,v;this.options.gfm&&(y=this.rules.other.listIsTask.exec(d),y&&(v=y[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:c,task:!!y,checked:v,loose:!1,text:d,tokens:[]}),a.raw+=c}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){const c=a.items[u].tokens.filter(m=>m.type==="space"),d=c.length>0&&c.some(m=>this.rules.other.anyLine.test(m.raw));a.loose=d}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(s){const e=this.rules.block.html.exec(s);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(s){const e=this.rules.block.def.exec(s);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),t=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:t,title:a}}}table(s){var o;const e=this.rules.block.table.exec(s);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=Xa(e[1]),t=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===t.length){for(const l of t)this.rules.other.tableAlignRight.test(l)?r.align.push("right"):this.rules.other.tableAlignCenter.test(l)?r.align.push("center"):this.rules.other.tableAlignLeft.test(l)?r.align.push("left"):r.align.push(null);for(let l=0;l<n.length;l++)r.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:r.align[l]});for(const l of a)r.rows.push(Xa(l,r.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:r.align[c]})));return r}}lheading(s){const e=this.rules.block.lheading.exec(s);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(s){const e=this.rules.block.paragraph.exec(s);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(s){const e=this.rules.block.text.exec(s);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(s){const e=this.rules.inline.escape.exec(s);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(s){const e=this.rules.inline.tag.exec(s);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(s){const e=this.rules.inline.link.exec(s);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const r=Yn(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{const r=uu(e[2],"()");if(r>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+r;e[2]=e[2].substring(0,r),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let t=e[2],a="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(t);r&&(t=r[1],a=r[3])}else a=e[3]?e[3].slice(1,-1):"";return t=t.trim(),this.rules.other.startAngleBracket.test(t)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?t=t.slice(1):t=t.slice(1,-1)),es(e,{href:t&&t.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(s,e){let n;if((n=this.rules.inline.reflink.exec(s))||(n=this.rules.inline.nolink.exec(s))){const t=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[t.toLowerCase()];if(!a){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return es(n,a,n[0],this.lexer,this.rules)}}emStrong(s,e,n=""){let t=this.rules.inline.emStrongLDelim.exec(s);if(!t||t[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(t[1]||t[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const r=[...t[0]].length-1;let o,l,u=r,c=0;const d=t[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*s.length+r);(t=d.exec(e))!=null;){if(o=t[1]||t[2]||t[3]||t[4]||t[5]||t[6],!o)continue;if(l=[...o].length,t[3]||t[4]){u+=l;continue}else if((t[5]||t[6])&&r%3&&!((r+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const m=[...t[0]][0].length,p=s.slice(0,r+t.index+m+l);if(Math.min(r,l)%2){const g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(s){const e=this.rules.inline.code.exec(s);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const t=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return t&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(s){const e=this.rules.inline.br.exec(s);if(e)return{type:"br",raw:e[0]}}del(s){const e=this.rules.inline.del.exec(s);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(s){const e=this.rules.inline.autolink.exec(s);if(e){let n,t;return e[2]==="@"?(n=e[1],t="mailto:"+n):(n=e[1],t=n),{type:"link",raw:e[0],text:n,href:t,tokens:[{type:"text",raw:n,text:n}]}}}url(s){var n;let e;if(e=this.rules.inline.url.exec(s)){let t,a;if(e[2]==="@")t=e[0],a="mailto:"+t;else{let r;do r=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(r!==e[0]);t=e[0],e[1]==="www."?a="http://"+e[0]:a=e[0]}return{type:"link",raw:e[0],text:t,href:a,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(s){const e=this.rules.inline.text.exec(s);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}}class Oe{constructor(s){ce(this,"tokens");ce(this,"options");ce(this,"state");ce(this,"tokenizer");ce(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=s||En,this.options.tokenizer=this.options.tokenizer||new Gt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:ke,block:Rt.normal,inline:Kn.normal};this.options.pedantic?(e.block=Rt.pedantic,e.inline=Kn.pedantic):this.options.gfm&&(e.block=Rt.gfm,this.options.breaks?e.inline=Kn.breaks:e.inline=Kn.gfm),this.tokenizer.rules=e}static get rules(){return{block:Rt,inline:Kn}}static lex(s,e){return new Oe(e).lex(s)}static lexInline(s,e){return new Oe(e).inlineTokens(s)}lex(s){s=s.replace(ke.carriageReturn,`
`),this.blockTokens(s,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const n=this.inlineQueue[e];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(s,e=[],n=!1){var t,a,r;for(this.options.pedantic&&(s=s.replace(ke.tabCharGlobal,"    ").replace(ke.spaceLine,""));s;){let o;if((a=(t=this.options.extensions)==null?void 0:t.block)!=null&&a.some(u=>(o=u.call({lexer:this},s,e))?(s=s.substring(o.raw.length),e.push(o),!0):!1))continue;if(o=this.tokenizer.space(s)){s=s.substring(o.raw.length);const u=e.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:e.push(o);continue}if(o=this.tokenizer.code(s)){s=s.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):e.push(o);continue}if(o=this.tokenizer.fences(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.heading(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.hr(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.blockquote(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.list(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.html(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.def(s)){s=s.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(s)){s=s.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.lheading(s)){s=s.substring(o.raw.length),e.push(o);continue}let l=s;if((r=this.options.extensions)!=null&&r.startBlock){let u=1/0;const c=s.slice(1);let d;this.options.extensions.startBlock.forEach(m=>{d=m.call({lexer:this},c),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(l=s.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const u=e.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):e.push(o),n=l.length!==s.length,s=s.substring(o.raw.length);continue}if(o=this.tokenizer.text(s)){s=s.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):e.push(o);continue}if(s){const u="Infinite loop on byte: "+s.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,e}inline(s,e=[]){return this.inlineQueue.push({src:s,tokens:e}),e}inlineTokens(s,e=[]){var o,l,u;let n=s,t=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(t=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(t[0].slice(t[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(t=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(t=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,t.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a=!1,r="";for(;s;){a||(r=""),a=!1;let c;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(m=>(c=m.call({lexer:this},s,e))?(s=s.substring(c.raw.length),e.push(c),!0):!1))continue;if(c=this.tokenizer.escape(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.tag(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.link(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.reflink(s,this.tokens.links)){s=s.substring(c.raw.length);const m=e.at(-1);c.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=c.raw,m.text+=c.text):e.push(c);continue}if(c=this.tokenizer.emStrong(s,n,r)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.codespan(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.br(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.del(s)){s=s.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.autolink(s)){s=s.substring(c.raw.length),e.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(s))){s=s.substring(c.raw.length),e.push(c);continue}let d=s;if((u=this.options.extensions)!=null&&u.startInline){let m=1/0;const p=s.slice(1);let f;this.options.extensions.startInline.forEach(g=>{f=g.call({lexer:this},p),typeof f=="number"&&f>=0&&(m=Math.min(m,f))}),m<1/0&&m>=0&&(d=s.substring(0,m+1))}if(c=this.tokenizer.inlineText(d)){s=s.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(r=c.raw.slice(-1)),a=!0;const m=e.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=c.raw,m.text+=c.text):e.push(c);continue}if(s){const m="Infinite loop on byte: "+s.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return e}}class Ht{constructor(s){ce(this,"options");ce(this,"parser");this.options=s||En}space(s){return""}code({text:s,lang:e,escaped:n}){var r;const t=(r=(e||"").match(ke.notSpaceStart))==null?void 0:r[0],a=s.replace(ke.endingNewline,"")+`
`;return t?'<pre><code class="language-'+Ue(t)+'">'+(n?a:Ue(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Ue(a,!0))+`</code></pre>
`}blockquote({tokens:s}){return`<blockquote>
${this.parser.parse(s)}</blockquote>
`}html({text:s}){return s}heading({tokens:s,depth:e}){return`<h${e}>${this.parser.parseInline(s)}</h${e}>
`}hr(s){return`<hr>
`}list(s){const e=s.ordered,n=s.start;let t="";for(let o=0;o<s.items.length;o++){const l=s.items[o];t+=this.listitem(l)}const a=e?"ol":"ul",r=e&&n!==1?' start="'+n+'"':"";return"<"+a+r+`>
`+t+"</"+a+`>
`}listitem(s){var n;let e="";if(s.task){const t=this.checkbox({checked:!!s.checked});s.loose?((n=s.tokens[0])==null?void 0:n.type)==="paragraph"?(s.tokens[0].text=t+" "+s.tokens[0].text,s.tokens[0].tokens&&s.tokens[0].tokens.length>0&&s.tokens[0].tokens[0].type==="text"&&(s.tokens[0].tokens[0].text=t+" "+Ue(s.tokens[0].tokens[0].text),s.tokens[0].tokens[0].escaped=!0)):s.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(s.tokens,!!s.loose),`<li>${e}</li>
`}checkbox({checked:s}){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>
`}table(s){let e="",n="";for(let a=0;a<s.header.length;a++)n+=this.tablecell(s.header[a]);e+=this.tablerow({text:n});let t="";for(let a=0;a<s.rows.length;a++){const r=s.rows[a];n="";for(let o=0;o<r.length;o++)n+=this.tablecell(r[o]);t+=this.tablerow({text:n})}return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow({text:s}){return`<tr>
${s}</tr>
`}tablecell(s){const e=this.parser.parseInline(s.tokens),n=s.header?"th":"td";return(s.align?`<${n} align="${s.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:s}){return`<strong>${this.parser.parseInline(s)}</strong>`}em({tokens:s}){return`<em>${this.parser.parseInline(s)}</em>`}codespan({text:s}){return`<code>${Ue(s,!0)}</code>`}br(s){return"<br>"}del({tokens:s}){return`<del>${this.parser.parseInline(s)}</del>`}link({href:s,title:e,tokens:n}){const t=this.parser.parseInline(n),a=Ya(s);if(a===null)return t;s=a;let r='<a href="'+s+'"';return e&&(r+=' title="'+Ue(e)+'"'),r+=">"+t+"</a>",r}image({href:s,title:e,text:n}){const t=Ya(s);if(t===null)return Ue(n);s=t;let a=`<img src="${s}" alt="${n}"`;return e&&(a+=` title="${Ue(e)}"`),a+=">",a}text(s){return"tokens"in s&&s.tokens?this.parser.parseInline(s.tokens):"escaped"in s&&s.escaped?s.text:Ue(s.text)}}class Sa{strong({text:s}){return s}em({text:s}){return s}codespan({text:s}){return s}del({text:s}){return s}html({text:s}){return s}text({text:s}){return s}link({text:s}){return""+s}image({text:s}){return""+s}br(){return""}}class Ne{constructor(s){ce(this,"options");ce(this,"renderer");ce(this,"textRenderer");this.options=s||En,this.options.renderer=this.options.renderer||new Ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Sa}static parse(s,e){return new Ne(e).parse(s)}static parseInline(s,e){return new Ne(e).parseInline(s)}parse(s,e=!0){var t,a;let n="";for(let r=0;r<s.length;r++){const o=s[r];if((a=(t=this.options.extensions)==null?void 0:t.renderers)!=null&&a[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){n+=c||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let u=l,c=this.renderer.text(u);for(;r+1<s.length&&s[r+1].type==="text";)u=s[++r],c+=`
`+this.renderer.text(u);e?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):n+=c;continue}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(s,e=this.renderer){var t,a;let n="";for(let r=0;r<s.length;r++){const o=s[r];if((a=(t=this.options.extensions)==null?void 0:t.renderers)!=null&&a[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=u||"";continue}}const l=o;switch(l.type){case"escape":{n+=e.text(l);break}case"html":{n+=e.html(l);break}case"link":{n+=e.link(l);break}case"image":{n+=e.image(l);break}case"strong":{n+=e.strong(l);break}case"em":{n+=e.em(l);break}case"codespan":{n+=e.codespan(l);break}case"br":{n+=e.br(l);break}case"del":{n+=e.del(l);break}case"text":{n+=e.text(l);break}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}}class ot{constructor(s){ce(this,"options");ce(this,"block");this.options=s||En}preprocess(s){return s}postprocess(s){return s}processAllTokens(s){return s}provideLexer(){return this.block?Oe.lex:Oe.lexInline}provideParser(){return this.block?Ne.parse:Ne.parseInline}}ce(ot,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class du{constructor(...s){ce(this,"defaults",ga());ce(this,"options",this.setOptions);ce(this,"parse",this.parseMarkdown(!0));ce(this,"parseInline",this.parseMarkdown(!1));ce(this,"Parser",Ne);ce(this,"Renderer",Ht);ce(this,"TextRenderer",Sa);ce(this,"Lexer",Oe);ce(this,"Tokenizer",Gt);ce(this,"Hooks",ot);this.use(...s)}walkTokens(s,e){var t,a;let n=[];for(const r of s)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const o=r;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,e));for(const l of o.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,e));break}case"list":{const o=r;n=n.concat(this.walkTokens(o.items,e));break}default:{const o=r;(a=(t=this.defaults.extensions)==null?void 0:t.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...s){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return s.forEach(n=>{const t={...n};if(t.async=this.defaults.async||t.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const r=e.renderers[a.name];r?e.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=r.apply(this,o)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=e[a.level];r?r.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),t.extensions=e),n.renderer){const a=this.defaults.renderer||new Ht(this.defaults);for(const r in n.renderer){if(!(r in a))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const o=r,l=n.renderer[o],u=a[o];a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d||""}}t.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new Gt(this.defaults);for(const r in n.tokenizer){if(!(r in a))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const o=r,l=n.tokenizer[o],u=a[o];a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d}}t.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new ot;for(const r in n.hooks){if(!(r in a))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const o=r,l=n.hooks[o],u=a[o];ot.passThroughHooks.has(r)?a[o]=c=>{if(this.defaults.async)return Promise.resolve(l.call(a,c)).then(m=>u.call(a,m));const d=l.call(a,c);return u.call(a,d)}:a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d}}t.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,r=n.walkTokens;t.walkTokens=function(o){let l=[];return l.push(r.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...t}}),this}setOptions(s){return this.defaults={...this.defaults,...s},this}lexer(s,e){return Oe.lex(s,e??this.defaults)}parser(s,e){return Ne.parse(s,e??this.defaults)}parseMarkdown(s){return(n,t)=>{const a={...t},r={...this.defaults,...a},o=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=s);const l=r.hooks?r.hooks.provideLexer():s?Oe.lex:Oe.lexInline,u=r.hooks?r.hooks.provideParser():s?Ne.parse:Ne.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(c=>l(c,r)).then(c=>r.hooks?r.hooks.processAllTokens(c):c).then(c=>r.walkTokens?Promise.all(this.walkTokens(c,r.walkTokens)).then(()=>c):c).then(c=>u(c,r)).then(c=>r.hooks?r.hooks.postprocess(c):c).catch(o);try{r.hooks&&(n=r.hooks.preprocess(n));let c=l(n,r);r.hooks&&(c=r.hooks.processAllTokens(c)),r.walkTokens&&this.walkTokens(c,r.walkTokens);let d=u(c,r);return r.hooks&&(d=r.hooks.postprocess(d)),d}catch(c){return o(c)}}}onError(s,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const t="<p>An error occurred:</p><pre>"+Ue(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}}const _n=new du;function re(i,s){return _n.parse(i,s)}re.options=re.setOptions=function(i){return _n.setOptions(i),re.defaults=_n.defaults,pr(re.defaults),re};re.getDefaults=ga;re.defaults=En;re.use=function(...i){return _n.use(...i),re.defaults=_n.defaults,pr(re.defaults),re};re.walkTokens=function(i,s){return _n.walkTokens(i,s)};re.parseInline=_n.parseInline;re.Parser=Ne;re.parser=Ne.parse;re.Renderer=Ht;re.TextRenderer=Sa;re.Lexer=Oe;re.lexer=Oe.lex;re.Tokenizer=Gt;re.Hooks=ot;re.parse=re;re.options;re.setOptions;re.use;re.walkTokens;re.parseInline;Ne.parse;Oe.lex;var mu=le('<button style="width: 100%;padding: 0.3rem;background-color: #cecece; border: none; cursor: pointer;">Clean AI Filter</button>'),pu=le('<li style="padding: 0; border-bottom: 1px solid #ccc; list-style-type: none;" class="svelte-m42v9g"><button type="button" style="cursor: pointer; padding: 8px; width: 100%; text-align: left; border: none; background: none;"><strong> </strong> <p> </p></button></li>'),fu=le('<div><!></div> <ul style="list-style-type: none; padding: 0;"></ul>',1);function gu(i,s){Je(s,!1);let e=X(s,"documentsList",28,()=>[]);const n=Yt();function t(c){n("doc",{doc:c})}rn();var a=fu(),r=an(a),o=N(r);{var l=c=>{var d=mu();ae("click",d,()=>e([])),ie(c,d)};Pe(o,c=>{e().length>0&&c(l)})}F(r);var u=Q(r,2);Rn(u,5,e,kn,(c,d)=>{var m=pu(),p=N(m),f=N(p),g=N(f,!0);F(f);var y=Q(f,2),v=N(y);we(()=>Te(v,`${T(d).chunk.slice(0,100)??""}...`)),F(y),F(p),F(m),we(()=>Te(g,T(d).doc)),ae("click",p,()=>t(T(d).doc)),ae("keypress",p,b=>b.key==="Enter"&&t(T(d))),ie(c,m)}),F(u),ie(i,a),$e()}var hu=le('<button type="button" style="cursor: pointer; padding: 0px; width: 100%; text-align: left; border: none; background: #eee;"><h3><span style="padding: 0 8px;"> </span> </h3></button>'),yu=le('<li style="padding: 8px; border-bottom: 1px solid #eee;" class="svelte-1h1hm5q"><h4> </h4> <div><!></div></li>'),vu=le('<div style="padding: 0; border-bottom: 1px solid #eee; margin-top:-2px; list-style-type: none;"><!> <!></div>');function Zn(i,s){Je(s,!1);let e=X(s,"task",8),n=X(s,"history",8),t=X(s,"expand",12);rn();var a=vu(),r=N(a);{var o=c=>{var d=hu(),m=N(d),p=N(m),f=N(p,!0);F(p);var g=Q(p);F(m),F(d),we(()=>{Te(f,t()?"-":"+"),Te(g,` ${e()??""}`)}),ae("click",d,()=>{t(!t())}),ae("keypress",d,y=>y.key==="Enter"&&selectItem(item)),ie(c,d)};Pe(r,c=>{e()&&c(o)})}var l=Q(r,2);{var u=c=>{var d=lt(),m=an(d);Rn(m,1,n,kn,(p,f)=>{var g=yu(),y=N(g),v=N(y);we(()=>Te(v,`${T(f).label??""} - ${T(f).date.replace(/:..\..*/,"")??""}`)),F(y);var b=Q(y,2),_=N(b);ur(_,()=>re(T(f).description.replace(/###/g,"####"))),F(b),F(g),ie(p,g)}),ie(c,d)};Pe(l,c=>{n()&&t()&&c(u)})}F(a),ie(i,a),$e()}var bu=le('<div style="padding-left: 16px;padding-right: 8px; background-color: #f9f9f9;"><button type="button" style="cursor: pointer; padding: 8px; width: 100%; text-align: left; border: none; background: none;"><h2><span style="margin-left:-16px; padding: 0 8px; color: #aaa" title="close"></span> </h2></button> <p><strong> </strong></p> <h3>Status History:</h3> <!> <!> <!> <!> <!> <!></div> <div style="padding-left: 16px;padding-right: 8px; text-align: right; background-color: #f9f9f9;"><button style="padding: 0.5rem 1rem; background-color: #6200ee; color: white; border: none; border-radius: 4px; cursor: pointer;">Back to List</button></div>',1);function Au(i,s){Je(s,!1);let e=X(s,"selectedItem",8);const n=Yt();function t(){n("closeDetail")}rn();var a=bu(),r=an(a),o=N(r),l=N(o),u=Q(N(l));we(()=>Te(u,` ${e().ATA_category??""} - ${e().nc_event_id??""} - ${e().nc_event_date.replace(/:..\..*/,"")??""}`)),F(l),F(o);var c=Q(o,2),d=N(c),m=N(d,!0);F(d),F(c);var p=Q(c,4);Zn(p,{expand:!0,task:"Non-Conformity Report",get history(){return e().analysis_history["000"]}});var f=Q(p,2);Zn(f,{task:"Task 100 - Analysis",get history(){return e().analysis_history[100]}});var g=Q(f,2);Zn(g,{task:"Task 200 - Analysis Validation",get history(){return e().analysis_history[200]}});var y=Q(g,2);Zn(y,{task:"Task 300 - Stress Analysis",get history(){return e().analysis_history[300]}});var v=Q(y,2);Zn(v,{task:"Task 400 - Stress Analysis Validation",get history(){return e().analysis_history[400]}});var b=Q(v,2);Zn(b,{expand:!0,task:"Task 500 - Final Analysis Validation",get history(){return e().analysis_history[500]}}),F(r);var _=Q(r,2),C=N(_);F(_),we(()=>Te(m,e().analysis_history["000"][0].label)),ae("click",o,t),ae("keypress",o,A=>A.key==="Enter"&&t),ae("click",C,t),ie(i,a),$e()}function wu(i){}var Su=le('<div class="input-wrapper svelte-1u1z2e9"><span class="size-measure svelte-1u1z2e9"></span> <input type="text" class="editable-input svelte-1u1z2e9"></div>'),Tu=le('<div class="markdown-wrapper svelte-1u1z2e9"><!></div>'),Cu=le('<textarea style="height: 100px;" class="svelte-1u1z2e9"></textarea>'),ku=le('<div class="editable-container svelte-1u1z2e9"><label class="svelte-1u1z2e9"> </label> <!></div>');function nn(i,s){Je(s,!1);let e=X(s,"label",8,""),n=X(s,"value",12,""),t=Ae(!1),a=X(s,"markdown",8,!1),r=Ae(),o=Ae(),l=Ae();const u=()=>{de(t,!T(t))},c=()=>{a()||T(r)&&T(o)&&(tn(r,T(r).textContent=n()||" "),tn(o,T(o).style.width=`${T(r).offsetWidth+4}px`))},d=()=>{T(l)&&(tn(l,T(l).style.height="auto"),tn(l,T(l).style.height=`${T(l).scrollHeight}px`))};hl(()=>c()),Le(()=>T(l),()=>{T(l)&&d()&&setTimeout(()=>{T(l).focus()},"150")}),Le(()=>He(n()),()=>{n()&&c()}),gt(),rn();var m=ku(),p=N(m),f=N(p,!0);F(p);var g=Q(p,2);{var y=b=>{var _=Su(),C=N(_);st(C,x=>de(r,x),()=>T(r));var A=Q(C,2);mr(A),st(A,x=>de(o,x),()=>T(o)),F(_),Vi(A,n),ae("input",A,c),ae("blur",A,u),ie(b,_)},v=b=>{var _=lt(),C=an(_);{var A=D=>{var R=Tu(),j=N(R);ur(j,()=>re(n()&&n().replace(/###/,"####")||"")),F(R),ae("click",R,u),ie(D,R)},x=D=>{var R=Cu();gl(R),st(R,j=>de(l,j),()=>T(l)),ae("blur",R,u),Vi(R,n),ie(D,R)};Pe(C,D=>{T(t)?D(x,!1):D(A)},!0)}ie(b,_)};Pe(g,b=>{a()?b(v,!1):b(y)})}F(m),we(()=>{sn(m,"style",a()?"width: 100%!important":""),Te(f,e())}),ie(i,m),$e()}function Qn(i,s,e,n){function t(a){return a instanceof e?a:new e(function(r){r(a)})}return new(e||(e=Promise))(function(a,r){function o(c){try{u(n.next(c))}catch(d){r(d)}}function l(c){try{u(n.throw(c))}catch(d){r(d)}}function u(c){c.done?a(c.value):t(c.value).then(o,l)}u((n=n.apply(i,s||[])).next())})}function Jn(i,s){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,t,a,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=o(0),r.throw=o(1),r.return=o(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(e=0)),e;)try{if(n=1,t&&(a=u[0]&2?t.return:u[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,u[1])).done)return a;switch(t=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,t=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=s.call(i,e)}catch(c){u=[6,c],t=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ns(i,s){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),t,a=[],r;try{for(;(s===void 0||s-- >0)&&!(t=n.next()).done;)a.push(t.value)}catch(o){r={error:o}}finally{try{t&&!t.done&&(e=n.return)&&e.call(n)}finally{if(r)throw r.error}}return a}function ts(i,s,e){if(e||arguments.length===2)for(var n=0,t=s.length,a;n<t;n++)(a||!(n in s))&&(a||(a=Array.prototype.slice.call(s,0,n)),a[n]=s[n]);return i.concat(a||Array.prototype.slice.call(s))}var Ru=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function yt(i,s){var e=_u(i);if(typeof e.path!="string"){var n=i.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof s=="string"?s:typeof n=="string"&&n.length>0?n:i.name,writable:!1,configurable:!1,enumerable:!0})}return e}function _u(i){var s=i.name,e=s&&s.lastIndexOf(".")!==-1;if(e&&!i.type){var n=s.split(".").pop().toLowerCase(),t=Ru.get(n);t&&Object.defineProperty(i,"type",{value:t,writable:!1,configurable:!1,enumerable:!0})}return i}var Iu=[".DS_Store","Thumbs.db"];function xu(i){return Qn(this,void 0,void 0,function(){return Jn(this,function(s){return Qt(i)&&Eu(i.dataTransfer)?[2,Du(i.dataTransfer,i.type)]:Mu(i)?[2,qu(i)]:Array.isArray(i)&&i.every(function(e){return"getFile"in e&&typeof e.getFile=="function"})?[2,Pu(i)]:[2,[]]})})}function Eu(i){return Qt(i)}function Mu(i){return Qt(i)&&Qt(i.target)}function Qt(i){return typeof i=="object"&&i!==null}function qu(i){return Ui(i.target.files).map(function(s){return yt(s)})}function Pu(i){return Qn(this,void 0,void 0,function(){var s;return Jn(this,function(e){switch(e.label){case 0:return[4,Promise.all(i.map(function(n){return n.getFile()}))];case 1:return s=e.sent(),[2,s.map(function(n){return yt(n)})]}})})}function Du(i,s){return Qn(this,void 0,void 0,function(){var e,n;return Jn(this,function(t){switch(t.label){case 0:return i.items?(e=Ui(i.items).filter(function(a){return a.kind==="file"}),s!=="drop"?[2,e]:[4,Promise.all(e.map(Fu))]):[3,2];case 1:return n=t.sent(),[2,is(Sr(n))];case 2:return[2,is(Ui(i.files).map(function(a){return yt(a)}))]}})})}function is(i){return i.filter(function(s){return Iu.indexOf(s.name)===-1})}function Ui(i){if(i===null)return[];for(var s=[],e=0;e<i.length;e++){var n=i[e];s.push(n)}return s}function Fu(i){if(typeof i.webkitGetAsEntry!="function")return as(i);var s=i.webkitGetAsEntry();return s&&s.isDirectory?Tr(s):as(i)}function Sr(i){return i.reduce(function(s,e){return ts(ts([],ns(s),!1),ns(Array.isArray(e)?Sr(e):[e]),!1)},[])}function as(i){var s=i.getAsFile();if(!s)return Promise.reject("".concat(i," is not a File"));var e=yt(s);return Promise.resolve(e)}function Lu(i){return Qn(this,void 0,void 0,function(){return Jn(this,function(s){return[2,i.isDirectory?Tr(i):Ou(i)]})})}function Tr(i){var s=i.createReader();return new Promise(function(e,n){var t=[];function a(){var r=this;s.readEntries(function(o){return Qn(r,void 0,void 0,function(){var l,u,c;return Jn(this,function(d){switch(d.label){case 0:if(o.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(t)];case 2:return l=d.sent(),e(l),[3,4];case 3:return u=d.sent(),n(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(o.map(Lu)),t.push(c),a(),d.label=6;case 6:return[2]}})})},function(o){n(o)})}a()})}function Ou(i){return Qn(this,void 0,void 0,function(){return Jn(this,function(s){return[2,new Promise(function(e,n){i.file(function(t){var a=yt(t,i.fullPath);e(a)},function(t){n(t)})})]})})}function Nu(i,s){if(i&&s){const e=Array.isArray(s)?s:s.split(","),n=i.name||"",t=(i.type||"").toLowerCase(),a=t.replace(/\/.*$/,"");return e.some(r=>{const o=r.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):t===o})}return!0}const Zu="file-invalid-type",Bu="file-too-large",ju="file-too-small",Vu="too-many-files",zu=i=>{i=Array.isArray(i)&&i.length===1?i[0]:i;const s=Array.isArray(i)?`one of ${i.join(", ")}`:i;return{code:Zu,message:`File type must be ${s}`}},ss=i=>({code:Bu,message:`File is larger than ${i} bytes`}),rs=i=>({code:ju,message:`File is smaller than ${i} bytes`}),Uu={code:Vu,message:"Too many files"};function Gu(i,s){const e=i.type==="application/x-moz-file"||Nu(i,s);return[e,e?null:zu(s)]}function Hu(i,s,e){if(Xn(i.size))if(Xn(s)&&Xn(e)){if(i.size>e)return[!1,ss(e)];if(i.size<s)return[!1,rs(s)]}else{if(Xn(s)&&i.size<s)return[!1,rs(s)];if(Xn(e)&&i.size>e)return[!1,ss(e)]}return[!0,null]}function Xn(i){return i!=null}function os(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function _t(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,s=>s==="Files"||s==="application/x-moz-file"):!!i.target&&!!i.target.files}function Qu(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function Ju(i){return i.indexOf("Edge/")!==-1}function $u(i=window.navigator.userAgent){return Qu(i)||Ju(i)}var Wu=le("<p> </p>"),Ku=le('<div><input type="file" autocomplete="off" tabindex="-1" style="display: none;"> <!></div>');function Yu(i,s){const e=Qa(s,["children","$$slots","$$events","$$legacy"]),n=Qa(e,["accept","disabled","getFilesFromEvent","maxSize","minSize","multiple","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","containerClasses","containerStyles","disableDefaultStyles","name","inputElement","required"]);Je(s,!1);const t=Ae(),a=Ae(),r=Ae(),o=Ae();let l=X(s,"accept",8,void 0),u=X(s,"disabled",8,!1),c=X(s,"getFilesFromEvent",8,xu),d=X(s,"maxSize",8,1/0),m=X(s,"minSize",8,0),p=X(s,"multiple",8,!0),f=X(s,"preventDropOnDocument",8,!0),g=X(s,"noClick",8,!1),y=X(s,"noKeyboard",8,!1),v=X(s,"noDrag",8,!1),b=X(s,"noDragEventsBubbling",8,!1),_=X(s,"containerClasses",8,""),C=X(s,"containerStyles",8,""),A=X(s,"disableDefaultStyles",8,!1),x=X(s,"name",8,""),D=X(s,"inputElement",12,void 0),R=X(s,"required",8,!1);const j=Yt();let O={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},se=Ae();function Z(){O.isFileDialogActive=!1,O.isDragActive=!1,O.draggedFiles=[],O.acceptedFiles=[],O.fileRejections=[]}function oe(){D()&&(D(D().value=null,!0),O.isFileDialogActive=!0,D().click())}function J(q){!T(se)||!T(se).isEqualNode(q.target)||(q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),oe())}function ge(){O.isFocused=!0}function M(){O.isFocused=!1}function I(){g()||($u()?setTimeout(oe,0):oe())}function E(q){q.preventDefault(),ee(q),he=[...he,q.target],_t(q)&&Promise.resolve(c()(q)).then(te=>{os(q)&&!b()||(O.draggedFiles=te,O.isDragActive=!0,j("dragenter",{dragEvent:q}))})}function L(q){if(q.preventDefault(),ee(q),q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return _t(q)&&j("dragover",{dragEvent:q}),!1}function H(q){q.preventDefault(),ee(q);const te=he.filter(ln=>T(se)&&T(se).contains(ln)),Me=te.indexOf(q.target);Me!==-1&&te.splice(Me,1),he=te,!(te.length>0)&&(O.isDragActive=!1,O.draggedFiles=[],_t(q)&&j("dragleave",{dragEvent:q}))}function G(q){q.preventDefault(),ee(q),he=[],_t(q)&&(j("filedropped",{event:q}),Promise.resolve(c()(q)).then(te=>{if(os(q)&&!b())return;const Me=[],ln=[];te.forEach(Nn=>{const[xo,Eo]=Gu(Nn,l()),[Mo,qo]=Hu(Nn,m(),d());if(xo&&Mo)Me.push(Nn);else{const Po=[Eo,qo].filter(Do=>Do);ln.push({file:Nn,errors:Po})}}),!p()&&Me.length>1&&(Me.forEach(Nn=>{ln.push({file:Nn,errors:[Uu]})}),Me.splice(0)),q.dataTransfer&&D(D().files=q.dataTransfer.files,!0),O.acceptedFiles=Me,O.fileRejections=ln,j("drop",{acceptedFiles:Me,fileRejections:ln,event:q}),ln.length>0&&j("droprejected",{fileRejections:ln,event:q}),Me.length>0&&j("dropaccepted",{acceptedFiles:Me,event:q})})),Z()}function ee(q){b()&&q.stopPropagation()}function pe(q){f()&&q.preventDefault()}let he=[];function We(q){f()&&(T(se)&&T(se).contains(q.target)||(q.preventDefault(),he=[]))}function Ve(){O.isFileDialogActive&&setTimeout(()=>{if(D()){const{files:q}=D();q.length||(O.isFileDialogActive=!1,j("filedialogcancel"))}},300)}yl(()=>{D(null)});function Ke(q){q.stopPropagation()}Le(()=>He(u()),()=>{de(t,q=>u()?null:q)}),Le(()=>(He(y()),T(t)),()=>{de(a,q=>y()?null:T(t)(q))}),Le(()=>(He(v()),T(t)),()=>{de(r,q=>v()?null:T(t)(q))}),Le(()=>He(p()),()=>{de(o,p()?"Drag 'n' drop some files here, or click to select files":"Drag 'n' drop a file here, or click to select a file")}),gt(),rn();var Ee=Ku();ae("focus",Ai,Ve),ae("dragover",Ai,pe),ae("drop",Ai,We);var Ao=en(()=>T(a)(J)),wo=en(()=>T(a)(ge)),So=en(()=>T(a)(M)),To=en(()=>T(t)(I)),Co=en(()=>T(r)(E)),ko=en(()=>T(r)(L)),Ro=en(()=>T(r)(H)),_o=en(()=>T(r)(G));let Ba;var on=N(Ee);we(()=>{var q;return sn(on,"accept",(q=l())==null?void 0:q.toString())}),st(on,q=>D(q),()=>D());var Io=Q(on,2);cr(Io,s,"default",{},q=>{var te=Wu(),Me=N(te,!0);F(te),we(()=>Te(Me,T(o))),ie(q,te)}),F(Ee),st(Ee,q=>de(se,q),()=>T(se)),we(()=>{Ba=Tl(Ee,Ba,{tabindex:"0",role:"button",class:`${(A()?"":"dropzone")??""}
  ${_()??""}`,style:C(),...n},"svelte-817dg2"),on.multiple=p(),on.required=R(),sn(on,"name",x())}),ae("change",on,G),ae("click",on,Ke),ae("keydown",Ee,function(...q){var te;(te=T(Ao))==null||te.apply(this,q)}),ae("focus",Ee,function(...q){var te;(te=T(wo))==null||te.apply(this,q)}),ae("blur",Ee,function(...q){var te;(te=T(So))==null||te.apply(this,q)}),ae("click",Ee,function(...q){var te;(te=T(To))==null||te.apply(this,q)}),ae("dragenter",Ee,function(...q){var te;(te=T(Co))==null||te.apply(this,q)}),ae("dragover",Ee,function(...q){var te;(te=T(ko))==null||te.apply(this,q)}),ae("dragleave",Ee,function(...q){var te;(te=T(Ro))==null||te.apply(this,q)}),ae("drop",Ee,function(...q){var te;(te=T(_o))==null||te.apply(this,q)}),ie(i,Ee),$e()}var Xu=le('<button type="button" style="cursor: pointer; padding: 0px; width: 100%; text-align: left; border: none; background: #eee;" class="svelte-19p4yi4"><h3><span style="padding: 0 8px;"> </span> </h3></button>'),ec=le('<li style="padding: 8px; border-bottom: 1px solid #eee;" class="svelte-19p4yi4"><h4><!> - <!></h4> <!> - <!> <br><br> <div><!></div></li>'),nc=le('<div class="img-container svelte-19p4yi4"><img class="preview-img svelte-19p4yi4"> <br> <button class="svelte-19p4yi4">Remove</button></div>'),tc=le('<div class="image-preview svelte-19p4yi4"></div>'),ic=le('<div style="padding: 0; border-bottom: 1px solid #eee; margin-top:-2px; list-style-type: none;"><!> <div class="container svelte-19p4yi4"><div class="left-column svelte-19p4yi4"><!></div> <div class="right-column svelte-19p4yi4"><!></div></div></div>');function Bn(i,s){Je(s,!1);let e=X(s,"task",8),n=X(s,"history",28,()=>[]),t=X(s,"expand",12),a=X(s,"dropzone",8,!1);X(s,"image",8);let r={label:"<Please provide a short label for non-conformity>",description:"Please provide a concise and precise description for this task",name:"Eric Roy",role:"Quality Controller",date:new Date().toISOString()},o=Ae({accepted:[],rejected:[]});function l(C){const{acceptedFiles:A,fileRejections:x}=C.detail;tn(o,T(o).accepted=[...T(o).accepted,...A]),tn(o,T(o).rejected=[...T(o).rejected,...x]),console.log(T(o).accepted)}function u(C,A){T(o).accepted.splice(A,1),tn(o,T(o).accepted=[...T(o).accepted])}Le(()=>(He(t()),He(n())),()=>{t()&&n().length===0&&n(n()[0]=r,!0)}),gt(),rn();var c=ic(),d=N(c);{var m=C=>{var A=Xu(),x=N(A),D=N(x),R=N(D,!0);F(D);var j=Q(D);F(x),F(A),we(()=>{Te(R,t()?"-":"+"),Te(j,` ${e()??""}`)}),ae("click",A,()=>{t(!t())}),ae("keypress",A,O=>O.key==="Enter"&&t(!t())),ie(C,A)};Pe(d,C=>{e()&&C(m)})}var p=Q(d,2),f=N(p),g=N(f);{var y=C=>{var A=lt(),x=an(A);Rn(x,1,n,kn,(D,R,j)=>{var O=ec(),se=N(O),Z=N(se);nn(Z,{label:"Label",get value(){return T(R).label},set value(E){T(R).label=E,Wn(()=>n())},$$legacy:!0});var oe=Q(Z,2);nn(oe,{label:"Date",get value(){return T(R).date},set value(E){T(R).date=E,Wn(()=>n())},$$legacy:!0}),F(se);var J=Q(se,2);nn(J,{label:"Role",get value(){return T(R).role},set value(E){T(R).role=E,Wn(()=>n())},$$legacy:!0});var ge=Q(J,2);nn(ge,{label:"Author",get value(){return T(R).name},set value(E){T(R).name=E,Wn(()=>n())},$$legacy:!0});var M=Q(ge,5),I=N(M);nn(I,{label:"Description",markdown:!0,get value(){return T(R).description},set value(E){T(R).description=E,Wn(()=>n())},$$legacy:!0}),F(M),F(O),ie(D,O)}),ie(C,A)};Pe(g,C=>{n()&&n().length&&t()&&C(y)})}F(f);var v=Q(f,2),b=N(v);{var _=C=>{var A=lt(),x=an(A);{var D=j=>{var O=tc();Rn(O,5,()=>T(o).accepted,kn,(se,Z,oe)=>{var J=nc(),ge=N(J);we(()=>sn(ge,"src",URL.createObjectURL(T(Z))));var M=Q(ge,4);F(J),we(()=>sn(ge,"alt",`Preview of ${T(Z).name}`)),ae("click",M,()=>u(null,oe)),ie(se,J)}),F(O),ie(j,O)},R=j=>{Yu(j,{accept:["image/*"],$$events:{drop:l},children:(O,se)=>{al();var Z=Ks("Drag 'n' drop some image here, or click to select files");ie(O,Z)},$$slots:{default:!0}})};Pe(x,j=>{T(o).accepted.length>0?j(D):j(R,!1)})}ie(C,A)};Pe(b,C=>{a()&&C(_)})}F(v),F(p),F(c),ie(i,c),$e()}const un=or(null),Cr=or(null);var ac=le('<div style="padding-left: 16px;padding-right: 8px; background-color: #f9f9f9;"><button type="button" style="cursor: pointer; padding: 8px; width: 100%; text-align: left; border: none; background: none;"><h2><span style="margin-left:-16px; padding: 0 8px; color: #aaa" title="close"></span> <!> - <!></h2> <!> - <!></button> <h3>Tasks:</h3> <!> <!> <!> <!> <!> <!></div>');function sc(i,s){Je(s,!1);const e=rr(),n=()=>Zi(un,"$createdItem",e),t=()=>Zi(Cr,"$updateCreatedItem",e);let a=Ae([]),r=Ae([]),o=Ae([]),l=Ae([]),u=Ae([]),c=Ae([]);Ni(un,{ATA_code:"ATA-28",part_num:"ATA-281-15553-102",nc_event_id:"ATA-28-xxx",role:"Quality Controler",name:"Eric Roy",nc_event_date:new Date().toISOString().replace(/T.*/,""),analysis_history:{"000":T(a),100:T(r),200:T(o),300:T(l),400:T(u),500:T(c)}}),Le(()=>t(),()=>{t()&&t().role==="000"&&(tn(a,T(a)[0].label=t().label),tn(a,T(a)[0].description=t().description))}),Le(()=>(n(),T(a),T(r),T(o),T(l),T(u),T(c)),()=>{(n().part_num||n().nc_event_id||n().nc_event_date||T(a)||T(r)||T(o)||T(l)||T(u)||T(c))&&Ni(un,n())}),gt(),rn();var d=ac(),m=N(d),p=N(m),f=Q(N(p),2);nn(f,{label:"Part Number",get value(){return n().part_num},set value(R){Ct(un,Xe(n).part_num=R,Xe(n))},$$legacy:!0});var g=Q(f,2);nn(g,{label:"Date",get value(){return n().nc_event_date},set value(R){Ct(un,Xe(n).nc_event_date=R,Xe(n))},$$legacy:!0}),F(p);var y=Q(p,2);nn(y,{label:"Role",get value(){return n().role},set value(R){Ct(un,Xe(n).role=R,Xe(n))},$$legacy:!0});var v=Q(y,2);nn(v,{label:"Author",get value(){return n().name},set value(R){Ct(un,Xe(n).name=R,Xe(n))},$$legacy:!0}),F(m);var b=Q(m,4);Bn(b,{dropzone:!0,expand:!0,task:"Non-Conformity Report",get history(){return T(a)},set history(R){de(a,R)},$$legacy:!0});var _=Q(b,2);Bn(_,{task:"Task 100 - Analysis",get history(){return T(r)},set history(R){de(r,R)},$$legacy:!0});var C=Q(_,2);Bn(C,{task:"Task 200 - Analysis Validation",get history(){return T(o)},set history(R){de(o,R)},$$legacy:!0});var A=Q(C,2);Bn(A,{task:"Task 300 - Stress Analysis",get history(){return T(l)},set history(R){de(l,R)},$$legacy:!0});var x=Q(A,2);Bn(x,{task:"Task 400 - Stress Analysis Validation",get history(){return T(u)},set history(R){de(u,R)},$$legacy:!0});var D=Q(x,2);Bn(D,{task:"Task 500 - Final Analysis Validation",get history(){return T(c)},set history(R){de(c,R)},$$legacy:!0}),F(d),ie(i,d),$e()}function rc(i,s){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=ka(i))||s){e&&(i=e);var n=0,t=function(){};return{s:t,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(u){throw u},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,r=!0,o=!1;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return r=u.done,u},e:function(u){o=!0,a=u},f:function(){try{r||e.return==null||e.return()}finally{if(o)throw a}}}}function Gi(i){var s=typeof Map=="function"?new Map:void 0;return Gi=function(n){if(n===null||!lc(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(n))return s.get(n);s.set(n,t)}function t(){return oc(n,arguments,ut(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),ct(t,n)},Gi(i)}function oc(i,s,e){if(Ta())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,s);var t=new(i.bind.apply(i,n));return e&&ct(t,e.prototype),t}function lc(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}function z(i,s,e){return s=ut(s),uc(i,Ta()?Reflect.construct(s,e||[],ut(i).constructor):s.apply(i,e))}function uc(i,s){if(s&&(B(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(i)}function Un(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ta(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ta=function(){return!!i})()}function ut(i){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ut(i)}function U(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&ct(i,s)}function ct(i,s){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ct(i,s)}function Ca(i,s){return mc(i)||dc(i,s)||ka(i,s)||cc()}function cc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(i,s){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,t,a,r,o=[],l=!0,u=!1;try{if(a=(e=e.call(i)).next,s!==0)for(;!(l=(n=a.call(e)).done)&&(o.push(n.value),o.length!==s);l=!0);}catch(c){u=!0,t=c}finally{try{if(!l&&e.return!=null&&(r=e.return(),Object(r)!==r))return}finally{if(u)throw t}}return o}}function mc(i){if(Array.isArray(i))return i}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return s};var i,s={},e=Object.prototype,n=e.hasOwnProperty,t=Object.defineProperty||function(M,I,E){M[I]=E.value},a=typeof Symbol=="function"?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(M,I,E){return Object.defineProperty(M,I,{value:E,enumerable:!0,configurable:!0,writable:!0}),M[I]}try{u({},"")}catch{u=function(E,L,H){return E[L]=H}}function c(M,I,E,L){var H=I&&I.prototype instanceof v?I:v,G=Object.create(H.prototype),ee=new J(L||[]);return t(G,"_invoke",{value:O(M,E,ee)}),G}function d(M,I,E){try{return{type:"normal",arg:M.call(I,E)}}catch(L){return{type:"throw",arg:L}}}s.wrap=c;var m="suspendedStart",p="suspendedYield",f="executing",g="completed",y={};function v(){}function b(){}function _(){}var C={};u(C,r,function(){return this});var A=Object.getPrototypeOf,x=A&&A(A(ge([])));x&&x!==e&&n.call(x,r)&&(C=x);var D=_.prototype=v.prototype=Object.create(C);function R(M){["next","throw","return"].forEach(function(I){u(M,I,function(E){return this._invoke(I,E)})})}function j(M,I){function E(H,G,ee,pe){var he=d(M[H],M,G);if(he.type!=="throw"){var We=he.arg,Ve=We.value;return Ve&&B(Ve)=="object"&&n.call(Ve,"__await")?I.resolve(Ve.__await).then(function(Ke){E("next",Ke,ee,pe)},function(Ke){E("throw",Ke,ee,pe)}):I.resolve(Ve).then(function(Ke){We.value=Ke,ee(We)},function(Ke){return E("throw",Ke,ee,pe)})}pe(he.arg)}var L;t(this,"_invoke",{value:function(G,ee){function pe(){return new I(function(he,We){E(G,ee,he,We)})}return L=L?L.then(pe,pe):pe()}})}function O(M,I,E){var L=m;return function(H,G){if(L===f)throw Error("Generator is already running");if(L===g){if(H==="throw")throw G;return{value:i,done:!0}}for(E.method=H,E.arg=G;;){var ee=E.delegate;if(ee){var pe=se(ee,E);if(pe){if(pe===y)continue;return pe}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(L===m)throw L=g,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);L=f;var he=d(M,I,E);if(he.type==="normal"){if(L=E.done?g:p,he.arg===y)continue;return{value:he.arg,done:E.done}}he.type==="throw"&&(L=g,E.method="throw",E.arg=he.arg)}}}function se(M,I){var E=I.method,L=M.iterator[E];if(L===i)return I.delegate=null,E==="throw"&&M.iterator.return&&(I.method="return",I.arg=i,se(M,I),I.method==="throw")||E!=="return"&&(I.method="throw",I.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var H=d(L,M.iterator,I.arg);if(H.type==="throw")return I.method="throw",I.arg=H.arg,I.delegate=null,y;var G=H.arg;return G?G.done?(I[M.resultName]=G.value,I.next=M.nextLoc,I.method!=="return"&&(I.method="next",I.arg=i),I.delegate=null,y):G:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,y)}function Z(M){var I={tryLoc:M[0]};1 in M&&(I.catchLoc=M[1]),2 in M&&(I.finallyLoc=M[2],I.afterLoc=M[3]),this.tryEntries.push(I)}function oe(M){var I=M.completion||{};I.type="normal",delete I.arg,M.completion=I}function J(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(Z,this),this.reset(!0)}function ge(M){if(M||M===""){var I=M[r];if(I)return I.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var E=-1,L=function H(){for(;++E<M.length;)if(n.call(M,E))return H.value=M[E],H.done=!1,H;return H.value=i,H.done=!0,H};return L.next=L}}throw new TypeError(B(M)+" is not iterable")}return b.prototype=_,t(D,"constructor",{value:_,configurable:!0}),t(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,l,"GeneratorFunction"),s.isGeneratorFunction=function(M){var I=typeof M=="function"&&M.constructor;return!!I&&(I===b||(I.displayName||I.name)==="GeneratorFunction")},s.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,_):(M.__proto__=_,u(M,l,"GeneratorFunction")),M.prototype=Object.create(D),M},s.awrap=function(M){return{__await:M}},R(j.prototype),u(j.prototype,o,function(){return this}),s.AsyncIterator=j,s.async=function(M,I,E,L,H){H===void 0&&(H=Promise);var G=new j(c(M,I,E,L),H);return s.isGeneratorFunction(I)?G:G.next().then(function(ee){return ee.done?ee.value:G.next()})},R(D),u(D,l,"Generator"),u(D,r,function(){return this}),u(D,"toString",function(){return"[object Generator]"}),s.keys=function(M){var I=Object(M),E=[];for(var L in I)E.push(L);return E.reverse(),function H(){for(;E.length;){var G=E.pop();if(G in I)return H.value=G,H.done=!1,H}return H.done=!0,H}},s.values=ge,J.prototype={constructor:J,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(oe),!I)for(var E in this)E.charAt(0)==="t"&&n.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=i)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var E=this;function L(We,Ve){return ee.type="throw",ee.arg=I,E.next=We,Ve&&(E.method="next",E.arg=i),!!Ve}for(var H=this.tryEntries.length-1;H>=0;--H){var G=this.tryEntries[H],ee=G.completion;if(G.tryLoc==="root")return L("end");if(G.tryLoc<=this.prev){var pe=n.call(G,"catchLoc"),he=n.call(G,"finallyLoc");if(pe&&he){if(this.prev<G.catchLoc)return L(G.catchLoc,!0);if(this.prev<G.finallyLoc)return L(G.finallyLoc)}else if(pe){if(this.prev<G.catchLoc)return L(G.catchLoc,!0)}else{if(!he)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return L(G.finallyLoc)}}}},abrupt:function(I,E){for(var L=this.tryEntries.length-1;L>=0;--L){var H=this.tryEntries[L];if(H.tryLoc<=this.prev&&n.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var G=H;break}}G&&(I==="break"||I==="continue")&&G.tryLoc<=E&&E<=G.finallyLoc&&(G=null);var ee=G?G.completion:{};return ee.type=I,ee.arg=E,G?(this.method="next",this.next=G.finallyLoc,y):this.complete(ee)},complete:function(I,E){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&E&&(this.next=E),y},finish:function(I){for(var E=this.tryEntries.length-1;E>=0;--E){var L=this.tryEntries[E];if(L.finallyLoc===I)return this.complete(L.completion,L.afterLoc),oe(L),y}},catch:function(I){for(var E=this.tryEntries.length-1;E>=0;--E){var L=this.tryEntries[E];if(L.tryLoc===I){var H=L.completion;if(H.type==="throw"){var G=H.arg;oe(L)}return G}}throw Error("illegal catch attempt")},delegateYield:function(I,E,L){return this.delegate={iterator:ge(I),resultName:E,nextLoc:L},this.method==="next"&&(this.arg=i),y}},s}function ls(i,s,e,n,t,a,r){try{var o=i[a](r),l=o.value}catch(u){return void e(u)}o.done?s(l):Promise.resolve(l).then(n,t)}function k(i){return function(){var s=this,e=arguments;return new Promise(function(n,t){var a=i.apply(s,e);function r(l){ls(a,n,t,r,o,"next",l)}function o(l){ls(a,n,t,r,o,"throw",l)}r(void 0)})}}function ni(i){return gc(i)||fc(i)||ka(i)||pc()}function pc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ka(i,s){if(i){if(typeof i=="string")return Hi(i,s);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Hi(i,s):void 0}}function fc(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function gc(i){if(Array.isArray(i))return Hi(i)}function Hi(i,s){(s==null||s>i.length)&&(s=i.length);for(var e=0,n=Array(s);e<s;e++)n[e]=i[e];return n}function us(i,s){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);s&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),e.push.apply(e,n)}return e}function ne(i){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?us(Object(e),!0).forEach(function(n){Jt(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):us(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function Jt(i,s,e){return(s=kr(s))in i?Object.defineProperty(i,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[s]=e,i}function B(i){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},B(i)}function w(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function cs(i,s){for(var e=0;e<s.length;e++){var n=s[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,kr(n.key),n)}}function S(i,s,e){return s&&cs(i.prototype,s),e&&cs(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function kr(i){var s=hc(i,"string");return B(s)=="symbol"?s:s+""}function hc(i,s){if(B(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,s||"default");if(B(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}var yc=function(){function i(){w(this,i)}return S(i,null,[{key:"render",value:function(e,n){var t=document.createElement("div");t.id="error-view",t.innerText=n,e.replaceChildren(t)}}])}(),vc=function(){function i(){w(this,i)}return S(i,null,[{key:"onLoad",value:function(e){e.innerHTML='<div id="loading-validate-key-property"></div>'}},{key:"createElements",value:function(){var e=document.createElement("div");return e.id="validate-property-key-view",e}},{key:"render",value:function(e,n,t){var a=i.createElements(),r={onSuccess:n,onFail:yc.render.bind(this,e,"Your 'key' has failed authentication"),onLoad:i.onLoad.bind(this,a)};t.key&&t.verifyKey(t.key,r),e.replaceChildren(a)}}])}(),Se=function(){function i(){w(this,i)}return S(i,null,[{key:"unsetStyle",value:function(e,n){var t=Object.keys(n).reduce(function(a,r){return a[r]="",a},{});Object.assign(e.style,t)}},{key:"unsetActivityCSSMouseStates",value:function(e,n){n.click&&i.unsetStyle(e,n.click),n.hover&&i.unsetStyle(e,n.hover)}},{key:"unsetAllCSSMouseStates",value:function(e,n){i.unsetActivityCSSMouseStates(e,n),n.default&&i.unsetStyle(e,n.default)}},{key:"processStateful",value:function(e,n,t){var a=e.default||{},r=Object.assign(JSON.parse(JSON.stringify(ne(ne({},a),n))),e==null?void 0:e.hover),o=Object.assign(JSON.parse(JSON.stringify(ne(ne({},r),t))),e==null?void 0:e.click);return{default:a,hover:r,click:o}}},{key:"mergeStatefulStyles",value:function(e){var n={default:{},hover:{},click:{}};return e.forEach(function(t){n.default=Object.assign(n.default,t.default),n.hover=Object.assign(n.hover,t.hover),n.click=Object.assign(n.click,t.click)}),n}},{key:"overwriteDefaultWithAlreadyApplied",value:function(e,n){Object.keys(e.default||[]).forEach(function(t){var a,r=t;n.style[r]&&(a=e.default)!=null&&a[r]&&(e.default[t]=n.style[r])})}},{key:"applyToStyleIfNotDefined",value:function(e,n){for(var t in n){var a=n[t];e[t]===""&&a&&(e[t]=a)}}}])}(),Qi=function(){function i(){w(this,i)}return S(i,null,[{key:"attemptAppendStyleSheetToHead",value:function(e){if(!(e.fontFamily&&e.fontFamily!==i.DEFAULT_FONT_FAMILY)){var n=document.getElementsByTagName("head")[0];if(!Array.from(n.getElementsByTagName("link")).some(function(a){return a.getAttribute("href")===i.FONT_URL})){var t=document.createElement("link");t.rel="stylesheet",t.href=i.FONT_URL,n.appendChild(t)}}}}])}();Qi.FONT_URL="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap",Qi.DEFAULT_FONT_FAMILY="'Inter', sans-serif, Avenir, Helvetica, Arial";var Rr=Qi,_r=function(){function i(){w(this,i)}return S(i,null,[{key:"apply",value:function(e,n){if(n)try{i.applyStyleSheet(e,n)}catch{i.addStyleElement(e,n)}}},{key:"applyStyleSheet",value:function(e,n){var t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets.push(t)}},{key:"addStyleElement",value:function(e,n){var t=document.createElement("style");t.innerHTML=e,n.appendChild(t)}},{key:"applyDefaultStyleToComponent",value:function(e,n){n&&Se.applyToStyleIfNotDefined(e,n),Se.applyToStyleIfNotDefined(e,i.DEFAULT_COMPONENT_STYLE)}}])}();_r.DEFAULT_COMPONENT_STYLE={height:"350px",width:"320px",borderTop:"1px solid #cacaca",borderRight:"1px solid #cacaca",borderLeft:"1px solid #cacaca",borderBottom:"1px solid #cacaca",fontFamily:Rr.DEFAULT_FONT_FAMILY,fontSize:"0.9rem",backgroundColor:"white",position:"relative",overflow:"hidden"};var Ti=_r,It,Gn=(It=S(function i(){w(this,i)}),It.IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),It.IS_CHROMIUM=window.chrome,It),be=function(i){return i.ESCAPE="Escape",i.ENTER="Enter",i.TAB="Tab",i.ARROW_UP="ArrowUp",i.ARROW_DOWN="ArrowDown",i.ARROW_RIGHT="ArrowRight",i.ARROW_LEFT="ArrowLeft",i.BACKSPACE="Backspace",i.DELETE="Delete",i.META="Meta",i.CONTROL="Control",i}(be||{}),Ir=function(){function i(){w(this,i)}return S(i,null,[{key:"add",value:function(e,n,t,a){t!==void 0&&e.addEventListener("keydown",i.onKeyDown.bind(this,t)),e.oninput=i.onInput.bind(this,t,a),e.addEventListener("paste",function(r){var o;r.preventDefault(),(o=r.clipboardData)!=null&&o.files.length&&n.addFilesToAnyType(Array.from(r.clipboardData.files))})}},{key:"onKeyDown",value:function(e,n){var t=n.target.textContent;t&&t.length>=e&&!i.PERMITTED_KEYS.has(n.key)&&!i.isKeyCombinationPermitted(n)&&n.preventDefault()}},{key:"isKeyCombinationPermitted",value:function(e){return e.key==="a"?e.ctrlKey||e.metaKey:!1}},{key:"onInput",value:function(e,n,t){var a=t.target,r=a.textContent||"";e!==void 0&&r.length>e&&(a.textContent=r.substring(0,e),Ra.focusEndOfInput(a)),n==null||n()}}])}();Ir.PERMITTED_KEYS=new Set([be.BACKSPACE,be.DELETE,be.ARROW_RIGHT,be.ARROW_LEFT,be.ARROW_DOWN,be.ARROW_UP,be.META,be.CONTROL,be.ENTER]);var bc=Ir,Ac=function(){function i(){w(this,i)}return S(i,null,[{key:"sanitizePastedTextContent",value:function(e){var n,t;e.preventDefault();var a=(n=e.clipboardData)==null?void 0:n.getData("text/plain");a&&((t=document.execCommand)==null||t.call(document,"insertText",!1,a))}}])}(),xr=function(){function i(s,e,n){var t=this;w(this,i);var a,r,o=i.processConfig(e,s.textInput);this.elementRef=i.createContainerElement((a=o==null?void 0:o.styles)==null?void 0:a.container),this._config=o,this.inputElementRef=this.createInputElement(),this.elementRef.appendChild(this.inputElementRef),s.setPlaceholderText=this.setPlaceholderText.bind(this),s.setPlaceholderText(((r=this._config.placeholder)==null?void 0:r.text)||"Ask me anything!"),setTimeout(function(){bc.add(t.inputElementRef,n,t._config.characterLimit,s._validationHandler)})}return S(i,[{key:"clear",value:function(){var e,n=window.scrollY;this.inputElementRef.classList.contains("text-input-disabled")||(Object.assign(this.inputElementRef.style,(e=this._config.placeholder)==null?void 0:e.style),this.inputElementRef.textContent="",Ra.focusEndOfInput(this.inputElementRef)),Gn.IS_CHROMIUM&&window.scrollTo({top:n})}},{key:"createInputElement",value:function(){var e,n,t,a,r=document.createElement("div");return r.id=i.TEXT_INPUT_ID,r.classList.add("text-input-styling"),Gn.IS_CHROMIUM&&i.preventAutomaticScrollUpOnNewLine(r),typeof this._config.disabled=="boolean"&&this._config.disabled===!0?(r.contentEditable="false",r.classList.add("text-input-disabled")):(r.contentEditable="true",this.addEventListeners(r)),Object.assign(r.style,(e=this._config.styles)==null?void 0:e.text),Object.assign(r.style,(n=this._config.placeholder)==null?void 0:n.style),(a=(t=this._config.placeholder)==null?void 0:t.style)!=null&&a.color||r.setAttribute("textcolor",""),r}},{key:"removePlaceholderStyle",value:function(){var e,n,t,a;!this.inputElementRef.classList.contains("text-input-disabled")&&(e=this._config.placeholder)!=null&&e.style&&(Se.unsetStyle(this.inputElementRef,(n=this._config.placeholder)==null?void 0:n.style),Object.assign(this.inputElementRef.style,(a=(t=this._config)==null?void 0:t.styles)==null?void 0:a.text))}},{key:"addEventListeners",value:function(e){var n=this,t,a;(t=this._config.styles)!=null&&t.focus&&(e.onfocus=function(){var r;return Object.assign(n.elementRef.style,(r=n._config.styles)==null?void 0:r.focus)},e.onblur=this.onBlur.bind(this,this._config.styles.focus,(a=this._config.styles)==null?void 0:a.container)),e.addEventListener("keydown",this.onKeydown.bind(this)),e.addEventListener("input",this.onInput.bind(this)),e.addEventListener("paste",Ac.sanitizePastedTextContent)}},{key:"onBlur",value:function(e,n){Se.unsetStyle(this.elementRef,e),n&&Object.assign(this.elementRef.style,n)}},{key:"onKeydown",value:function(e){var n;e.key===be.ENTER&&!e.ctrlKey&&!e.shiftKey&&(e.preventDefault(),(n=this.submit)==null||n.call(this))}},{key:"onInput",value:function(){var e;this.isTextInputEmpty()?Object.assign(this.inputElementRef.style,(e=this._config.placeholder)==null?void 0:e.style):this.removePlaceholderStyle()}},{key:"setPlaceholderText",value:function(e){this.inputElementRef.setAttribute("deep-chat-placeholder-text",e)}},{key:"isTextInputEmpty",value:function(){return this.inputElementRef.textContent===""}}],[{key:"processConfig",value:function(e,n){var t,a,r,o,l;return(t=n)!==null&&t!==void 0||(n={}),(a=n.disabled)!==null&&a!==void 0||(n.disabled=e.isTextInputDisabled),(r=n.placeholder)!==null&&r!==void 0||(n.placeholder={}),(o=(l=n.placeholder).text)!==null&&o!==void 0||(l.text=e.textInputPlaceholderText),n}},{key:"createContainerElement",value:function(e){var n=document.createElement("div");return n.id="text-input-container",Object.assign(n.style,e),n}},{key:"preventAutomaticScrollUpOnNewLine",value:function(e){var n;e.addEventListener("keydown",function(){n=window.scrollY}),e.addEventListener("input",function(){n!==window.scrollY&&window.scrollTo({top:n})})}}])}();xr.TEXT_INPUT_ID="text-input";var Er=xr,Ra=function(){function i(){w(this,i)}return S(i,null,[{key:"focusEndOfInput",value:function(e){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var t=window.getSelection();t==null||t.removeAllRanges(),t==null||t.addRange(n)}},{key:"focusFromParentElement",value:function(e){var n=e.querySelector("#".concat(Er.TEXT_INPUT_ID));n&&(Gn.IS_SAFARI&&n.focus(),i.focusEndOfInput(n))}}])}();function ds(i){return i.charAt(0).toUpperCase()+i.slice(1)}function wc(i){return i&&JSON.stringify(i)}function _a(i,s,e,n){var t=`
`.concat(ds(s)," message: ").concat(JSON.stringify(i),` 
`),a=e?"".concat(ds(s)," message after interceptor: ").concat(wc(n),` 
`):"";return t+a}function Sc(i,s,e,n){return"".concat(_a(i,s,e,n),"Make sure the ").concat(s,` message is using the Response format: https://deepchat.dev/docs/connect/#Response 
You can also augment it using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor`)}function Tc(i,s,e){var n="response";return"".concat(_a(i,n,s,e),"Make sure the ").concat(n,' message is using the {text: string} format, e.g: {text: "Model Response"}')}function Cc(i,s){var e="request";return"".concat(_a(i,e,s),"Make sure the ").concat(e,' message is using the {body: {text: string}} format, e.g: {body: {text: "Model Response"}}')}var ms=`Make sure the events are using {text: string} or {html: string} format.
You can also augment them using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor`,fe={INVALID_KEY:"Invalid API Key",CONNECTION_FAILED:"Failed to connect",INVALID_RESPONSE:Sc,INVALID_MODEL_REQUEST:Cc,INVALID_MODEL_RESPONSE:Tc,INVALID_STREAM_EVENT:ms,INVALID_STREAM_EVENT_MIX:"Cannot mix {text: string} and {html: string} responses.",NO_VALID_STREAM_EVENTS_SENT:`No valid stream events were sent.
`.concat(ms)},Mr=function(){function i(){w(this,i)}return S(i,null,[{key:"addElements",value:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];t.forEach(function(r){return e.appendChild(r)})}},{key:"isScrollbarAtBottomOfElement",value:function(e){var n=e.scrollHeight,t=e.clientHeight,a=e.scrollTop,r=n-t;return a>=r-i.CODE_SNIPPET_GENERATION_JUMP}},{key:"cloneElement",value:function(e){var n=e.cloneNode(!0);return e.parentNode.replaceChild(n,e),n}},{key:"scrollToBottom",value:function(e){e.scrollTop=e.scrollHeight}},{key:"scrollToTop",value:function(e){e.scrollTop=0}}])}();Mr.CODE_SNIPPET_GENERATION_JUMP=.5;var Ze=Mr,qr=function(){function i(){w(this,i)}return S(i,null,[{key:"speak",value:function(e,n){if(window.SpeechSynthesisUtterance){var t=new SpeechSynthesisUtterance(e);Object.assign(t,n),speechSynthesis.speak(t)}}},{key:"processConfig",value:function(e,n){var t={};setTimeout(function(){if(B(e)=="object"&&(e.lang&&(t.lang=e.lang),e.pitch&&(t.pitch=e.pitch),e.rate&&(t.rate=e.rate),e.volume&&(t.volume=e.volume),e.voiceName)){var a=window.speechSynthesis.getVoices().find(function(r){var o;return r.name.toLocaleLowerCase()===((o=e.voiceName)==null?void 0:o.toLocaleLowerCase())});a&&(t.voice=a)}n(t)},i.LOAD_VOICES_MS)}}])}();qr.LOAD_VOICES_MS=200;var Ft=qr,Ji=function(){function i(){w(this,i)}return S(i,null,[{key:"colorToHex",value:function(e){var n=document.createElement("div");return n.style.color=e,document.body.appendChild(n),"#".concat(window.getComputedStyle(n).color.match(/\d+/g).map(function(t){return parseInt(t).toString(16).padStart(2,"0")}).join(""))}},{key:"setDots",value:function(e,n){var t,a,r,o;if((o=(r=(a=(t=n==null?void 0:n.loading)==null?void 0:t.message)==null?void 0:a.styles)==null?void 0:r.bubble)!=null&&o.color){var l=i.colorToHex(n.loading.message.styles.bubble.color);e.style.setProperty("--loading-message-color",l),e.style.setProperty("--loading-message-color-fade","".concat(l,"33"))}else e.style.setProperty("--loading-message-color","#848484"),e.style.setProperty("--loading-message-color-fade","#55555533")}},{key:"setRing",value:function(e,n){var t=n||{},a=t.color,r=t.width,o=t.height,l=t.margin,u=t.border;if(a){var c=i.colorToHex(a);e.style.setProperty("--loading-history-color",c)}else e.style.setProperty("--loading-history-color","#dbdbdb");e.style.setProperty("--loading-history-height",o||"57px"),e.style.setProperty("--loading-history-width",r||"57px"),e.style.setProperty("--loading-history-margin",l||"7px"),e.style.setProperty("--loading-history-border",u||"6px solid")}}])}();Ji.BUBBLE_CLASS="deep-chat-loading-message-bubble",Ji.DOTS_CONTAINER_CLASS="deep-chat-loading-message-dots-container";var wn=Ji,$i=function(){function i(){w(this,i)}return S(i,null,[{key:"setElementProps",value:function(e,n,t,a){var r;t!=="loading"&&(e.applyCustomStyles(n,a,!0,(r=e.messageStyles)==null?void 0:r[t]),n.bubbleElement.classList.add(i.FILE_BUBBLE_CLASS))}},{key:"addMessage",value:function(e,n,t,a,r){i.setElementProps(e,n,t,a),r||(e.elementRef.appendChild(n.outerContainer),e.elementRef.scrollTop=e.elementRef.scrollHeight)}},{key:"wrapInLink",value:function(e,n,t){var a=document.createElement("a");return a.href=n,a.download=t||i.DEFAULT_FILE_NAME,a.target="_blank",a.appendChild(e),a}},{key:"isNonLinkableDataUrl",value:function(e,n){return!n.startsWith("data")||e==="image"?!1:e==="any"&&n.startsWith("data:text/javascript")||!n.startsWith("data:image")&&!n.startsWith("data:application")}},{key:"processContent",value:function(e,n,t,a){return!t||i.isNonLinkableDataUrl(e,t)?n:i.wrapInLink(n,t,a)}},{key:"waitToLoadThenScroll",value:function(e){setTimeout(function(){e.scrollTop=e.scrollHeight},60)}},{key:"scrollDownOnImageLoad",value:function(e,n){if(e.startsWith("data"))i.waitToLoadThenScroll(n);else try{fetch(e,{mode:"no-cors"}).catch(function(){}).finally(function(){i.waitToLoadThenScroll(n)})}catch{n.scrollTop=n.scrollHeight}}},{key:"reAddFileRefToObject",value:function(e,n){var t;(t=e.files)==null||t.forEach(function(a,r){var o;a.ref&&(o=n.message.files)!=null&&o[r]&&(n.message.files[r].ref=a.ref)})}},{key:"removeFileRef",value:function(e){var n=ne({},e);return delete n.ref,n}},{key:"isAudioFile",value:function(e){var n=/\.(mp3|ogg|wav|aac|webm|4a)$/i,t=e.type,a=e.src;return t==="audio"||(a==null?void 0:a.startsWith("data:audio"))||a&&n.test(a)}},{key:"isImageFile",value:function(e){var n=e.type,t=e.src;return n==="image"||(t==null?void 0:t.startsWith("data:image"))||t&&i.isImageFileExtension(t)}},{key:"isImageFileExtension",value:function(e){return/\.(jpg|jpeg|png|gif|bmp)$/i.test(e)}}])}();$i.DEFAULT_FILE_NAME="file",$i.FILE_BUBBLE_CLASS="file-message";var _e=$i,xe=function(){function i(){w(this,i)}return S(i,null,[{key:"checkForContainerStyles",value:function(e,n){var t=e.containerStyle;t&&(Object.assign(n.style,t),console.error("The containerStyle property is deprecated since version 1.3.14."),console.error("Please change to using the style property instead: https://deepchat.dev/docs/styles#style"))}},{key:"handleResponseProperty",value:function(e){return console.error("The {result: ....} response object type is deprecated since version 1.3.0."),console.error("Please change to using the new response object: https://deepchat.dev/docs/connect#Response"),e.result}},{key:"processHistory",value:function(e){var n=e.initialMessages;if(n)return console.error("The initialMessages property is deprecated since version 2.0.0."),console.error("Please change to using the history property instead: https://deepchat.dev/docs/messages/#history"),n}},{key:"processHistoryFile",value:function(e){var n=e.file;n&&(console.error("The file property in MessageContent is deprecated since version 1.3.17."),console.error("Please change to using the files array property: https://deepchat.dev/docs/messages/#MessageContent"),e.files=[n])}},{key:"processValidateInput",value:function(e){var n=e.validateMessageBeforeSending;if(n)return console.error("The validateMessageBeforeSending property is deprecated since version 1.3.24."),console.error("Please change to using validateInput: https://deepchat.dev/docs/interceptors#validateInput"),n}},{key:"processSubmitUserMessage",value:function(e){return console.error("The submitUserMessage(text: string) argument string type is deprecated since version 1.4.4."),console.error("Please change to using the new argument type: https://deepchat.dev/docs/methods#submitUserMessage"),{text:e}}},{key:"flagHTMLUpdateClass",value:function(e){var n;(n=e.children[0])!=null&&n.classList.contains("deep-chat-update-message")&&(console.error('The "deep-chat-update-message" html class is deprecated since version 1.4.4.'),console.error("Please change to using {..., overwrite: true} object: https://deepchat.dev/docs/connect#Response"))}},{key:"processConnect",value:function(e){var n=e;n.request&&(n.connect?Object.assign(n.connect,n.request):n.connect=n.request,console.error("The request property is deprecated since version 2.0.0."),console.error("Please see the connect object: https://deepchat.dev/docs/connect#connect-1"))}},{key:"checkForStream",value:function(e){var n=e.stream;if(n)return console.error("The stream property has been moved to the connect object in version 2.0.0."),console.error("Please see the connect object: https://deepchat.dev/docs/connect#connect-1"),n}},{key:"fireOnNewMessage",value:function(e,n){var t,a=e;a.onNewMessage&&(console.error("The onNewMessage event has been deprecated since version 2.0.0."),console.error("Please see the onMessage event: https://deepchat.dev/docs/events#onMessage"),(t=a.onNewMessage)==null||t.call(a,n)),e.dispatchEvent(new CustomEvent("new-message",{detail:n}))}},{key:"processFileConfigConnect",value:function(e){var n=e;n.request&&(console.error("The request property in file configuration is deprecated since version 2.0.0."),console.error("Please use the connect property instead: https://deepchat.dev/docs/files"),n.connect||(n.connect=n.request))}},{key:"processMessageStyles",value:function(e){if(e){var n=structuredClone(e),t=n.loading;return t&&(t.outerContainer||t.innerContainer||t.bubble||t.media)&&(console.error("The loading message styles are defined using LoadingMessageStyles interface since version 2.1.0."),console.error("Check it out here: https://deepchat.dev/docs/messages/styles#LoadingMessageStyles"),n.loading={message:{styles:t}}),n}}},{key:"processDemo",value:function(e){return typeof e=="boolean"||e.displayLoadingBubble&&(console.error("The demo displayLoadingBubble property is deprecated since version 2.1.0."),console.error("Please use displayLoading instead: https://deepchat.dev/docs/demo#demo"),e.displayLoading={message:!0}),e}}])}(),Pr=function(){function i(){w(this,i)}return S(i,null,[{key:"mouseUp",value:function(e,n){Se.unsetAllCSSMouseStates(e,n),Object.assign(e.style,n.default),Object.assign(e.style,n.hover)}},{key:"mouseDown",value:function(e,n){Object.assign(e.style,n.click)}},{key:"mouseLeave",value:function(e,n){Se.unsetAllCSSMouseStates(e,n),Object.assign(e.style,n.default)}},{key:"mouseEnter",value:function(e,n){Object.assign(e.style,n.hover)}},{key:"add",value:function(e,n){e.addEventListener("mouseenter",i.mouseEnter.bind(this,e,n)),e.addEventListener("mouseleave",i.mouseLeave.bind(this,e,n)),e.addEventListener("mousedown",i.mouseDown.bind(this,e,n)),e.addEventListener("mouseup",i.mouseUp.bind(this,e,n))}}])}(),kc="deep-chat-temporary-message",Rc="deep-chat-suggestion-button",Wi={"deep-chat-button":{styles:{default:{backgroundColor:"white",padding:"5px",paddingLeft:"7px",paddingRight:"7px",border:"1px solid #c2c2c2",borderRadius:"6px",cursor:"pointer"},hover:{backgroundColor:"#fafafa"},click:{backgroundColor:"#f1f1f1"}}}},ps=Object.keys(Wi),dt=function(){function i(){w(this,i)}return S(i,null,[{key:"applySuggestionEvent",value:function(e,n){setTimeout(function(){n.addEventListener("click",function(){var t,a;(a=e.submitUserMessage)==null||a.call(e,{text:((t=n.textContent)==null?void 0:t.trim())||""})})})}},{key:"isElementTemporary",value:function(e){var n;return e?(n=e.bubbleElement.children[0])==null?void 0:n.classList.contains(kc):!1}},{key:"doesElementContainDeepChatClass",value:function(e){return ps.find(function(n){return e.classList.contains(n)})}},{key:"applyEvents",value:function(e,n){var t=Wi[n].events;Object.keys(t||[]).forEach(function(a){e.addEventListener(a,t==null?void 0:t[a])})}},{key:"getProcessedStyles",value:function(e,n,t){var a=Array.from(n.classList).reduce(function(u,c){var d,m=(d=e[c])==null?void 0:d.styles;return m&&e[c].styles&&u.push(m),u},[]),r=Wi[t].styles;if(r){var o=JSON.parse(JSON.stringify(r));o.default&&Se.overwriteDefaultWithAlreadyApplied(o,n),a.unshift(o)}var l=Se.mergeStatefulStyles(a);return Se.processStateful(l,{},{})}},{key:"applyDeepChatUtilities",value:function(e,n,t){ps.forEach(function(r){var o=t.getElementsByClassName(r);Array.from(o||[]).forEach(function(l){var u=i.getProcessedStyles(n,l,r);Hn.applyStylesToElement(l,u),i.applyEvents(l,r)})});var a=t.getElementsByClassName(Rc);Array.from(a).forEach(function(r){return i.applySuggestionEvent(e,r)})}}])}(),Hn=function(){function i(){w(this,i)}return S(i,null,[{key:"applyStylesToElement",value:function(e,n){var t=Se.processStateful(n,{},{});Pr.add(e,t),Object.assign(e.style,t.default)}},{key:"applyEventsToElement",value:function(e,n){Object.keys(n).forEach(function(t){var a=n[t];a&&e.addEventListener(t,a)})}},{key:"applyClassUtilitiesToElement",value:function(e,n){var t=n.events,a=n.styles;t&&i.applyEventsToElement(e,t),a&&!dt.doesElementContainDeepChatClass(e)&&i.applyStylesToElement(e,a)}},{key:"applyCustomClassUtilities",value:function(e,n){Object.keys(e).forEach(function(t){var a=n.getElementsByClassName(t);Array.from(a).forEach(function(r){e[t]&&i.applyClassUtilitiesToElement(r,e[t])})})}},{key:"apply",value:function(e,n){dt.applyDeepChatUtilities(e,e.htmlClassUtilities,n),i.applyCustomClassUtilities(e.htmlClassUtilities,n)}},{key:"traverseNodes",value:function(e,n){e.nodeType===Node.ELEMENT_NODE&&n.push(e.outerHTML),e.childNodes.forEach(function(t){i.traverseNodes(t,n)})}},{key:"splitHTML",value:function(e){var n=new DOMParser().parseFromString(e,"text/html"),t=[];return n.body.childNodes.forEach(function(a){i.traverseNodes(a,t)}),t}}])}(),Dr=function(){function i(){w(this,i)}return S(i,null,[{key:"addElement",value:function(e,n){e.elementRef.appendChild(n),e.elementRef.scrollTop=e.elementRef.scrollHeight}},{key:"createElements",value:function(e,n,t,a){var r=e.createMessageElementsOnOrientation("",t,a);return r.bubbleElement.classList.add(i.HTML_BUBBLE_CLASS),r.bubbleElement.innerHTML=n,r}},{key:"overwriteElements",value:function(e,n,t){t.bubbleElement.innerHTML=n,Hn.apply(e,t.outerContainer),xe.flagHTMLUpdateClass(t.bubbleElement)}},{key:"overwrite",value:function(e,n,t,a){var r=e.messageToElements,o=V.overwriteMessage(r,a,n,t,"html",i.HTML_BUBBLE_CLASS);return o&&i.overwriteElements(e,n,o),o}},{key:"create",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r,o=i.createElements(e,n,t,a);return V.fillEmptyMessageElement(o.bubbleElement,n),Hn.apply(e,o.outerContainer),xe.flagHTMLUpdateClass(o.bubbleElement),e.applyCustomStyles(o,t,!1,(r=e.messageStyles)==null?void 0:r.html),o}},{key:"add",value:function(e,n,t,a,r){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(r!=null&&r.status){var l=this.overwrite(e,n,t,a);if(l)return l;r.status=!1}var u=i.create(e,n,t,o);return o||i.addElement(e,u.outerContainer),u}}])}();Dr.HTML_BUBBLE_CLASS="html-message";var dn=Dr,xt;function Fr(i){return xt=xt||document.createElement("textarea"),xt.innerHTML="&"+i+";",xt.value}var _c=Object.prototype.hasOwnProperty;function Ic(i,s){return i?_c.call(i,s):!1}function Lr(i){var s=[].slice.call(arguments,1);return s.forEach(function(e){if(e){if(B(e)!="object")throw new TypeError(e+"must be object");Object.keys(e).forEach(function(n){i[n]=e[n]})}}),i}var xc=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function mt(i){return i.indexOf("\\")<0?i:i.replace(xc,"$1")}function Or(i){return!(i>=55296&&i<=57343||i>=64976&&i<=65007||(i&65535)===65535||(i&65535)===65534||i>=0&&i<=8||i===11||i>=14&&i<=31||i>=127&&i<=159||i>1114111)}function Ki(i){if(i>65535){i-=65536;var s=55296+(i>>10),e=56320+(i&1023);return String.fromCharCode(s,e)}return String.fromCharCode(i)}var Ec=/&([a-z#][a-z0-9]{1,31});/gi,Mc=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function qc(i,s){var e=0,n=Fr(s);return s!==n?n:s.charCodeAt(0)===35&&Mc.test(s)&&(e=s[1].toLowerCase()==="x"?parseInt(s.slice(2),16):parseInt(s.slice(1),10),Or(e))?Ki(e):i}function In(i){return i.indexOf("&")<0?i:i.replace(Ec,qc)}var Pc=/[&<>"]/,Dc=/[&<>"]/g,Fc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Lc(i){return Fc[i]}function Ie(i){return Pc.test(i)?i.replace(Dc,Lc):i}var P={};P.blockquote_open=function(){return`<blockquote>
`};P.blockquote_close=function(i,s){return"</blockquote>"+Mn(i,s)};P.code=function(i,s){return i[s].block?"<pre><code>"+Ie(i[s].content)+"</code></pre>"+Mn(i,s):"<code>"+Ie(i[s].content)+"</code>"};P.fence=function(i,s,e,n,t){var a=i[s],r="",o=e.langPrefix,l="",u,c,d;if(a.params){if(u=a.params.split(/\s+/g),c=u.join(" "),Ic(t.rules.fence_custom,u[0]))return t.rules.fence_custom[u[0]](i,s,e,n,t);l=Ie(In(mt(c))),r=' class="'+o+l+'"'}return e.highlight?d=e.highlight.apply(e.highlight,[a.content].concat(u))||Ie(a.content):d=Ie(a.content),"<pre><code"+r+">"+d+"</code></pre>"+Mn(i,s)};P.fence_custom={};P.heading_open=function(i,s){return"<h"+i[s].hLevel+">"};P.heading_close=function(i,s){return"</h"+i[s].hLevel+`>
`};P.hr=function(i,s,e){return(e.xhtmlOut?"<hr />":"<hr>")+Mn(i,s)};P.bullet_list_open=function(){return`<ul>
`};P.bullet_list_close=function(i,s){return"</ul>"+Mn(i,s)};P.list_item_open=function(){return"<li>"};P.list_item_close=function(){return`</li>
`};P.ordered_list_open=function(i,s){var e=i[s],n=e.order>1?' start="'+e.order+'"':"";return"<ol"+n+`>
`};P.ordered_list_close=function(i,s){return"</ol>"+Mn(i,s)};P.paragraph_open=function(i,s){return i[s].tight?"":"<p>"};P.paragraph_close=function(i,s){var e=!(i[s].tight&&s&&i[s-1].type==="inline"&&!i[s-1].content);return(i[s].tight?"":"</p>")+(e?Mn(i,s):"")};P.link_open=function(i,s,e){var n=i[s].title?' title="'+Ie(In(i[s].title))+'"':"",t=e.linkTarget?' target="'+e.linkTarget+'"':"";return'<a href="'+Ie(i[s].href)+'"'+n+t+">"};P.link_close=function(){return"</a>"};P.image=function(i,s,e){var n=' src="'+Ie(i[s].src)+'"',t=i[s].title?' title="'+Ie(In(i[s].title))+'"':"",a=' alt="'+(i[s].alt?Ie(In(mt(i[s].alt))):"")+'"',r=e.xhtmlOut?" /":"";return"<img"+n+a+t+r+">"};P.table_open=function(){return`<table>
`};P.table_close=function(){return`</table>
`};P.thead_open=function(){return`<thead>
`};P.thead_close=function(){return`</thead>
`};P.tbody_open=function(){return`<tbody>
`};P.tbody_close=function(){return`</tbody>
`};P.tr_open=function(){return"<tr>"};P.tr_close=function(){return`</tr>
`};P.th_open=function(i,s){var e=i[s];return"<th"+(e.align?' style="text-align:'+e.align+'"':"")+">"};P.th_close=function(){return"</th>"};P.td_open=function(i,s){var e=i[s];return"<td"+(e.align?' style="text-align:'+e.align+'"':"")+">"};P.td_close=function(){return"</td>"};P.strong_open=function(){return"<strong>"};P.strong_close=function(){return"</strong>"};P.em_open=function(){return"<em>"};P.em_close=function(){return"</em>"};P.del_open=function(){return"<del>"};P.del_close=function(){return"</del>"};P.ins_open=function(){return"<ins>"};P.ins_close=function(){return"</ins>"};P.mark_open=function(){return"<mark>"};P.mark_close=function(){return"</mark>"};P.sub=function(i,s){return"<sub>"+Ie(i[s].content)+"</sub>"};P.sup=function(i,s){return"<sup>"+Ie(i[s].content)+"</sup>"};P.hardbreak=function(i,s,e){return e.xhtmlOut?`<br />
`:`<br>
`};P.softbreak=function(i,s,e){return e.breaks?e.xhtmlOut?`<br />
`:`<br>
`:`
`};P.text=function(i,s){return Ie(i[s].content)};P.htmlblock=function(i,s){return i[s].content};P.htmltag=function(i,s){return i[s].content};P.abbr_open=function(i,s){return'<abbr title="'+Ie(In(i[s].title))+'">'};P.abbr_close=function(){return"</abbr>"};P.footnote_ref=function(i,s){var e=Number(i[s].id+1).toString(),n="fnref"+e;return i[s].subId>0&&(n+=":"+i[s].subId),'<sup class="footnote-ref"><a href="#fn'+e+'" id="'+n+'">['+e+"]</a></sup>"};P.footnote_block_open=function(i,s,e){var n=e.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return n+`<section class="footnotes">
<ol class="footnotes-list">
`};P.footnote_block_close=function(){return`</ol>
</section>
`};P.footnote_open=function(i,s){var e=Number(i[s].id+1).toString();return'<li id="fn'+e+'"  class="footnote-item">'};P.footnote_close=function(){return`</li>
`};P.footnote_anchor=function(i,s){var e=Number(i[s].id+1).toString(),n="fnref"+e;return i[s].subId>0&&(n+=":"+i[s].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'};P.dl_open=function(){return`<dl>
`};P.dt_open=function(){return"<dt>"};P.dd_open=function(){return"<dd>"};P.dl_close=function(){return`</dl>
`};P.dt_close=function(){return`</dt>
`};P.dd_close=function(){return`</dd>
`};function Nr(i,s){return++s>=i.length-2?s:i[s].type==="paragraph_open"&&i[s].tight&&i[s+1].type==="inline"&&i[s+1].content.length===0&&i[s+2].type==="paragraph_close"&&i[s+2].tight?Nr(i,s+2):s}var Mn=P.getBreak=function(i,s){return s=Nr(i,s),s<i.length&&i[s].type==="list_item_close"?"":`
`};function Ia(){this.rules=Lr({},P),this.getBreak=P.getBreak}Ia.prototype.renderInline=function(i,s,e){for(var n=this.rules,t=i.length,a=0,r="";t--;)r+=n[i[a].type](i,a++,s,e,this);return r};Ia.prototype.render=function(i,s,e){for(var n=this.rules,t=i.length,a=-1,r="";++a<t;)i[a].type==="inline"?r+=this.renderInline(i[a].children,s,e):r+=n[i[a].type](i,a,s,e,this);return r};function Fe(){this.__rules__=[],this.__cache__=null}Fe.prototype.__find__=function(i){for(var s=this.__rules__.length,e=-1;s--;)if(this.__rules__[++e].name===i)return e;return-1};Fe.prototype.__compile__=function(){var i=this,s=[""];i.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(n){s.indexOf(n)<0&&s.push(n)})}),i.__cache__={},s.forEach(function(e){i.__cache__[e]=[],i.__rules__.forEach(function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||i.__cache__[e].push(n.fn))})})};Fe.prototype.at=function(i,s,e){var n=this.__find__(i),t=e||{};if(n===-1)throw new Error("Parser rule not found: "+i);this.__rules__[n].fn=s,this.__rules__[n].alt=t.alt||[],this.__cache__=null};Fe.prototype.before=function(i,s,e,n){var t=this.__find__(i),a=n||{};if(t===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(t,0,{name:s,enabled:!0,fn:e,alt:a.alt||[]}),this.__cache__=null};Fe.prototype.after=function(i,s,e,n){var t=this.__find__(i),a=n||{};if(t===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(t+1,0,{name:s,enabled:!0,fn:e,alt:a.alt||[]}),this.__cache__=null};Fe.prototype.push=function(i,s,e){var n=e||{};this.__rules__.push({name:i,enabled:!0,fn:s,alt:n.alt||[]}),this.__cache__=null};Fe.prototype.enable=function(i,s){i=Array.isArray(i)?i:[i],s&&this.__rules__.forEach(function(e){e.enabled=!1}),i.forEach(function(e){var n=this.__find__(e);if(n<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[n].enabled=!0},this),this.__cache__=null};Fe.prototype.disable=function(i){i=Array.isArray(i)?i:[i],i.forEach(function(s){var e=this.__find__(s);if(e<0)throw new Error("Rules manager: invalid rule name "+s);this.__rules__[e].enabled=!1},this),this.__cache__=null};Fe.prototype.getRules=function(i){return this.__cache__===null&&this.__compile__(),this.__cache__[i]||[]};function Oc(i){i.inlineMode?i.tokens.push({type:"inline",content:i.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):i.block.parse(i.src,i.options,i.env,i.tokens)}function qn(i,s,e,n,t){this.src=i,this.env=n,this.options=e,this.parser=s,this.tokens=t,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}qn.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};qn.prototype.push=function(i){this.pending&&this.pushPending(),this.tokens.push(i),this.pendingLevel=this.level};qn.prototype.cacheSet=function(i,s){for(var e=this.cache.length;e<=i;e++)this.cache.push(0);this.cache[i]=s};qn.prototype.cacheGet=function(i){return i<this.cache.length?this.cache[i]:0};function pt(i,s){var e,n,t,a=-1,r=i.posMax,o=i.pos,l=i.isInLabel;if(i.isInLabel)return-1;if(i.labelUnmatchedScopes)return i.labelUnmatchedScopes--,-1;for(i.pos=s+1,i.isInLabel=!0,e=1;i.pos<r;){if(t=i.src.charCodeAt(i.pos),t===91)e++;else if(t===93&&(e--,e===0)){n=!0;break}i.parser.skipToken(i)}return n?(a=i.pos,i.labelUnmatchedScopes=0):i.labelUnmatchedScopes=e-1,i.pos=o,i.isInLabel=l,a}function Nc(i,s,e,n){var t,a,r,o,l,u;if(i.charCodeAt(0)!==42||i.charCodeAt(1)!==91||i.indexOf("]:")===-1||(t=new qn(i,s,e,n,[]),a=pt(t,1),a<0||i.charCodeAt(a+1)!==58))return-1;for(o=t.posMax,r=a+2;r<o&&t.src.charCodeAt(r)!==10;r++);return l=i.slice(2,a),u=i.slice(a+2,r).trim(),u.length===0?-1:(n.abbreviations||(n.abbreviations={}),B(n.abbreviations[":"+l])>"u"&&(n.abbreviations[":"+l]=u),r)}function Zc(i){var s=i.tokens,e,n,t,a;if(!i.inlineMode){for(e=1,n=s.length-1;e<n;e++)if(s[e-1].type==="paragraph_open"&&s[e].type==="inline"&&s[e+1].type==="paragraph_close"){for(t=s[e].content;t.length&&(a=Nc(t,i.inline,i.options,i.env),!(a<0));)t=t.slice(a).trim();s[e].content=t,t.length||(s[e-1].tight=!0,s[e+1].tight=!0)}}}function Yi(i){var s=In(i);try{s=decodeURI(s)}catch{}return encodeURI(s)}function Zr(i,s){var e,n,t,a=s,r=i.posMax;if(i.src.charCodeAt(s)===60){for(s++;s<r;){if(e=i.src.charCodeAt(s),e===10)return!1;if(e===62)return t=Yi(mt(i.src.slice(a+1,s))),i.parser.validateLink(t)?(i.pos=s+1,i.linkContent=t,!0):!1;if(e===92&&s+1<r){s+=2;continue}s++}return!1}for(n=0;s<r&&(e=i.src.charCodeAt(s),!(e===32||e<32||e===127));){if(e===92&&s+1<r){s+=2;continue}if(e===40&&(n++,n>1)||e===41&&(n--,n<0))break;s++}return a===s||(t=mt(i.src.slice(a,s)),!i.parser.validateLink(t))?!1:(i.linkContent=t,i.pos=s,!0)}function Br(i,s){var e,n=s,t=i.posMax,a=i.src.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return!1;for(s++,a===40&&(a=41);s<t;){if(e=i.src.charCodeAt(s),e===a)return i.pos=s+1,i.linkContent=mt(i.src.slice(n+1,s)),!0;if(e===92&&s+1<t){s+=2;continue}s++}return!1}function jr(i){return i.trim().replace(/\s+/g," ").toUpperCase()}function Bc(i,s,e,n){var t,a,r,o,l,u,c,d,m;if(i.charCodeAt(0)!==91||i.indexOf("]:")===-1||(t=new qn(i,s,e,n,[]),a=pt(t,0),a<0||i.charCodeAt(a+1)!==58))return-1;for(o=t.posMax,r=a+2;r<o&&(l=t.src.charCodeAt(r),!(l!==32&&l!==10));r++);if(!Zr(t,r))return-1;for(c=t.linkContent,r=t.pos,u=r,r=r+1;r<o&&(l=t.src.charCodeAt(r),!(l!==32&&l!==10));r++);for(r<o&&u!==r&&Br(t,r)?(d=t.linkContent,r=t.pos):(d="",r=u);r<o&&t.src.charCodeAt(r)===32;)r++;return r<o&&t.src.charCodeAt(r)!==10?-1:(m=jr(i.slice(1,a)),B(n.references[m])>"u"&&(n.references[m]={title:d,href:c}),r)}function jc(i){var s=i.tokens,e,n,t,a;if(i.env.references=i.env.references||{},!i.inlineMode){for(e=1,n=s.length-1;e<n;e++)if(s[e].type==="inline"&&s[e-1].type==="paragraph_open"&&s[e+1].type==="paragraph_close"){for(t=s[e].content;t.length&&(a=Bc(t,i.inline,i.options,i.env),!(a<0));)t=t.slice(a).trim();s[e].content=t,t.length||(s[e-1].tight=!0,s[e+1].tight=!0)}}}function Vc(i){var s=i.tokens,e,n,t;for(n=0,t=s.length;n<t;n++)e=s[n],e.type==="inline"&&i.inline.parse(e.content,i.options,i.env,e.children)}function zc(i){var s,e,n,t,a,r,o,l,u,c=0,d=!1,m={};if(i.env.footnotes&&(i.tokens=i.tokens.filter(function(p){return p.type==="footnote_reference_open"?(d=!0,l=[],u=p.label,!1):p.type==="footnote_reference_close"?(d=!1,m[":"+u]=l,!1):(d&&l.push(p),!d)}),!!i.env.footnotes.list)){for(r=i.env.footnotes.list,i.tokens.push({type:"footnote_block_open",level:c++}),s=0,e=r.length;s<e;s++){for(i.tokens.push({type:"footnote_open",id:s,level:c++}),r[s].tokens?(o=[],o.push({type:"paragraph_open",tight:!1,level:c++}),o.push({type:"inline",content:"",level:c,children:r[s].tokens}),o.push({type:"paragraph_close",tight:!1,level:--c})):r[s].label&&(o=m[":"+r[s].label]),i.tokens=i.tokens.concat(o),i.tokens[i.tokens.length-1].type==="paragraph_close"?a=i.tokens.pop():a=null,t=r[s].count>0?r[s].count:1,n=0;n<t;n++)i.tokens.push({type:"footnote_anchor",id:s,subId:n,level:c});a&&i.tokens.push(a),i.tokens.push({type:"footnote_close",level:--c})}i.tokens.push({type:"footnote_block_close",level:--c})}}var fs=` 
()[]'".,!?-`;function Ci(i){return i.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function Uc(i){var s,e,n,t,a,r,o,l,u,c,d,m,p=i.tokens;if(i.env.abbreviations){for(i.env.abbrRegExp||(m="(^|["+fs.split("").map(Ci).join("")+"])("+Object.keys(i.env.abbreviations).map(function(f){return f.substr(1)}).sort(function(f,g){return g.length-f.length}).map(Ci).join("|")+")($|["+fs.split("").map(Ci).join("")+"])",i.env.abbrRegExp=new RegExp(m,"g")),c=i.env.abbrRegExp,e=0,n=p.length;e<n;e++)if(p[e].type==="inline"){for(t=p[e].children,s=t.length-1;s>=0;s--)if(a=t[s],a.type==="text"){for(l=0,r=a.content,c.lastIndex=0,u=a.level,o=[];d=c.exec(r);)c.lastIndex>l&&o.push({type:"text",content:r.slice(l,d.index+d[1].length),level:u}),o.push({type:"abbr_open",title:i.env.abbreviations[":"+d[2]],level:u++}),o.push({type:"text",content:d[2],level:u}),o.push({type:"abbr_close",level:--u}),l=c.lastIndex-d[3].length;o.length&&(l<r.length&&o.push({type:"text",content:r.slice(l),level:u}),p[e].children=t=[].concat(t.slice(0,s),o,t.slice(s+1)))}}}}var Gc=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Hc=/\((c|tm|r|p)\)/ig,Qc={c:"©",r:"®",p:"§",tm:"™"};function Jc(i){return i.indexOf("(")<0?i:i.replace(Hc,function(s,e){return Qc[e.toLowerCase()]})}function $c(i){var s,e,n,t,a;if(i.options.typographer){for(a=i.tokens.length-1;a>=0;a--)if(i.tokens[a].type==="inline")for(t=i.tokens[a].children,s=t.length-1;s>=0;s--)e=t[s],e.type==="text"&&(n=e.content,n=Jc(n),Gc.test(n)&&(n=n.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1—$2").replace(/(^|\s)--(\s|$)/mg,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1–$2")),e.content=n)}}var Wc=/['"]/,gs=/['"]/g,Kc=/[-\s()\[\]]/,hs="’";function ys(i,s){return s<0||s>=i.length?!1:!Kc.test(i[s])}function jn(i,s,e){return i.substr(0,s)+e+i.substr(s+1)}function Yc(i){var s,e,n,t,a,r,o,l,u,c,d,m,p,f,g,y,v;if(i.options.typographer){for(v=[],g=i.tokens.length-1;g>=0;g--)if(i.tokens[g].type==="inline"){for(y=i.tokens[g].children,v.length=0,s=0;s<y.length;s++)if(e=y[s],!(e.type!=="text"||Wc.test(e.text))){for(o=y[s].level,p=v.length-1;p>=0&&!(v[p].level<=o);p--);v.length=p+1,n=e.content,a=0,r=n.length;e:for(;a<r&&(gs.lastIndex=a,t=gs.exec(n),!!t);){if(l=!ys(n,t.index-1),a=t.index+1,f=t[0]==="'",u=!ys(n,a),!u&&!l){f&&(e.content=jn(e.content,t.index,hs));continue}if(d=!u,m=!l,m){for(p=v.length-1;p>=0&&(c=v[p],!(v[p].level<o));p--)if(c.single===f&&v[p].level===o){c=v[p],f?(y[c.token].content=jn(y[c.token].content,c.pos,i.options.quotes[2]),e.content=jn(e.content,t.index,i.options.quotes[3])):(y[c.token].content=jn(y[c.token].content,c.pos,i.options.quotes[0]),e.content=jn(e.content,t.index,i.options.quotes[1])),v.length=p;continue e}}d?v.push({token:s,pos:t.index,single:f,level:o}):m&&f&&(e.content=jn(e.content,t.index,hs))}}}}}var ki=[["block",Oc],["abbr",Zc],["references",jc],["inline",Vc],["footnote_tail",zc],["abbr2",Uc],["replacements",$c],["smartquotes",Yc]];function Vr(){this.options={},this.ruler=new Fe;for(var i=0;i<ki.length;i++)this.ruler.push(ki[i][0],ki[i][1])}Vr.prototype.process=function(i){var s,e,n;for(n=this.ruler.getRules(""),s=0,e=n.length;s<e;s++)n[s](i)};function Pn(i,s,e,n,t){var a,r,o,l,u,c,d;for(this.src=i,this.parser=s,this.options=e,this.env=n,this.tokens=t,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",r=this.src,c=0,d=!1,o=l=c=0,u=r.length;l<u;l++){if(a=r.charCodeAt(l),!d)if(a===32){c++;continue}else d=!0;(a===10||l===u-1)&&(a!==10&&l++,this.bMarks.push(o),this.eMarks.push(l),this.tShift.push(c),d=!1,c=0,o=l+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}Pn.prototype.isEmpty=function(i){return this.bMarks[i]+this.tShift[i]>=this.eMarks[i]};Pn.prototype.skipEmptyLines=function(i){for(var s=this.lineMax;i<s&&!(this.bMarks[i]+this.tShift[i]<this.eMarks[i]);i++);return i};Pn.prototype.skipSpaces=function(i){for(var s=this.src.length;i<s&&this.src.charCodeAt(i)===32;i++);return i};Pn.prototype.skipChars=function(i,s){for(var e=this.src.length;i<e&&this.src.charCodeAt(i)===s;i++);return i};Pn.prototype.skipCharsBack=function(i,s,e){if(i<=e)return i;for(;i>e;)if(s!==this.src.charCodeAt(--i))return i+1;return i};Pn.prototype.getLines=function(i,s,e,n){var t,a,r,o,l,u=i;if(i>=s)return"";if(u+1===s)return a=this.bMarks[u]+Math.min(this.tShift[u],e),r=n?this.eMarks[u]+1:this.eMarks[u],this.src.slice(a,r);for(o=new Array(s-i),t=0;u<s;u++,t++)l=this.tShift[u],l>e&&(l=e),l<0&&(l=0),a=this.bMarks[u]+l,u+1<s||n?r=this.eMarks[u]+1:r=this.eMarks[u],o[t]=this.src.slice(a,r);return o.join("")};function Xc(i,s,e){var n,t;if(i.tShift[s]-i.blkIndent<4)return!1;for(t=n=s+1;n<e;){if(i.isEmpty(n)){n++;continue}if(i.tShift[n]-i.blkIndent>=4){n++,t=n;continue}break}return i.line=n,i.tokens.push({type:"code",content:i.getLines(s,t,4+i.blkIndent,!0),block:!0,lines:[s,i.line],level:i.level}),!0}function ed(i,s,e,n){var t,a,r,o,l,u=!1,c=i.bMarks[s]+i.tShift[s],d=i.eMarks[s];if(c+3>d||(t=i.src.charCodeAt(c),t!==126&&t!==96)||(l=c,c=i.skipChars(c,t),a=c-l,a<3)||(r=i.src.slice(c,d).trim(),r.indexOf("`")>=0))return!1;if(n)return!0;for(o=s;o++,!(o>=e||(c=l=i.bMarks[o]+i.tShift[o],d=i.eMarks[o],c<d&&i.tShift[o]<i.blkIndent));)if(i.src.charCodeAt(c)===t&&!(i.tShift[o]-i.blkIndent>=4)&&(c=i.skipChars(c,t),!(c-l<a)&&(c=i.skipSpaces(c),!(c<d)))){u=!0;break}return a=i.tShift[s],i.line=o+(u?1:0),i.tokens.push({type:"fence",params:r,content:i.getLines(s+1,o,a,!0),lines:[s,i.line],level:i.level}),!0}function nd(i,s,e,n){var t,a,r,o,l,u,c,d,m,p,f,g=i.bMarks[s]+i.tShift[s],y=i.eMarks[s];if(g>y||i.src.charCodeAt(g++)!==62||i.level>=i.options.maxNesting)return!1;if(n)return!0;for(i.src.charCodeAt(g)===32&&g++,l=i.blkIndent,i.blkIndent=0,o=[i.bMarks[s]],i.bMarks[s]=g,g=g<y?i.skipSpaces(g):g,a=g>=y,r=[i.tShift[s]],i.tShift[s]=g-i.bMarks[s],d=i.parser.ruler.getRules("blockquote"),t=s+1;t<e&&(g=i.bMarks[t]+i.tShift[t],y=i.eMarks[t],!(g>=y));t++){if(i.src.charCodeAt(g++)===62){i.src.charCodeAt(g)===32&&g++,o.push(i.bMarks[t]),i.bMarks[t]=g,g=g<y?i.skipSpaces(g):g,a=g>=y,r.push(i.tShift[t]),i.tShift[t]=g-i.bMarks[t];continue}if(a)break;for(f=!1,m=0,p=d.length;m<p;m++)if(d[m](i,t,e,!0)){f=!0;break}if(f)break;o.push(i.bMarks[t]),r.push(i.tShift[t]),i.tShift[t]=-1337}for(u=i.parentType,i.parentType="blockquote",i.tokens.push({type:"blockquote_open",lines:c=[s,0],level:i.level++}),i.parser.tokenize(i,s,t),i.tokens.push({type:"blockquote_close",level:--i.level}),i.parentType=u,c[1]=i.line,m=0;m<r.length;m++)i.bMarks[m+s]=o[m],i.tShift[m+s]=r[m];return i.blkIndent=l,!0}function td(i,s,e,n){var t,a,r,o=i.bMarks[s],l=i.eMarks[s];if(o+=i.tShift[s],o>l||(t=i.src.charCodeAt(o++),t!==42&&t!==45&&t!==95))return!1;for(a=1;o<l;){if(r=i.src.charCodeAt(o++),r!==t&&r!==32)return!1;r===t&&a++}return a<3?!1:(n||(i.line=s+1,i.tokens.push({type:"hr",lines:[s,i.line],level:i.level})),!0)}function vs(i,s){var e,n,t;return n=i.bMarks[s]+i.tShift[s],t=i.eMarks[s],n>=t||(e=i.src.charCodeAt(n++),e!==42&&e!==45&&e!==43)||n<t&&i.src.charCodeAt(n)!==32?-1:n}function bs(i,s){var e,n=i.bMarks[s]+i.tShift[s],t=i.eMarks[s];if(n+1>=t||(e=i.src.charCodeAt(n++),e<48||e>57))return-1;for(;;){if(n>=t)return-1;if(e=i.src.charCodeAt(n++),!(e>=48&&e<=57)){if(e===41||e===46)break;return-1}}return n<t&&i.src.charCodeAt(n)!==32?-1:n}function id(i,s){var e,n,t=i.level+2;for(e=s+2,n=i.tokens.length-2;e<n;e++)i.tokens[e].level===t&&i.tokens[e].type==="paragraph_open"&&(i.tokens[e+2].tight=!0,i.tokens[e].tight=!0,e+=2)}function ad(i,s,e,n){var t,a,r,o,l,u,c,d,m,p,f,g,y,v,b,_,C,A,x=!0,D,R,j,O;if((d=bs(i,s))>=0)y=!0;else if((d=vs(i,s))>=0)y=!1;else return!1;if(i.level>=i.options.maxNesting)return!1;if(g=i.src.charCodeAt(d-1),n)return!0;for(b=i.tokens.length,y?(c=i.bMarks[s]+i.tShift[s],f=Number(i.src.substr(c,d-c-1)),i.tokens.push({type:"ordered_list_open",order:f,lines:C=[s,0],level:i.level++})):i.tokens.push({type:"bullet_list_open",lines:C=[s,0],level:i.level++}),t=s,_=!1,D=i.parser.ruler.getRules("list");t<e&&(v=i.skipSpaces(d),m=i.eMarks[t],v>=m?p=1:p=v-d,p>4&&(p=1),p<1&&(p=1),a=d-i.bMarks[t]+p,i.tokens.push({type:"list_item_open",lines:A=[s,0],level:i.level++}),o=i.blkIndent,l=i.tight,r=i.tShift[s],u=i.parentType,i.tShift[s]=v-i.bMarks[s],i.blkIndent=a,i.tight=!0,i.parentType="list",i.parser.tokenize(i,s,e,!0),(!i.tight||_)&&(x=!1),_=i.line-s>1&&i.isEmpty(i.line-1),i.blkIndent=o,i.tShift[s]=r,i.tight=l,i.parentType=u,i.tokens.push({type:"list_item_close",level:--i.level}),t=s=i.line,A[1]=t,v=i.bMarks[s],!(t>=e||i.isEmpty(t)||i.tShift[t]<i.blkIndent));){for(O=!1,R=0,j=D.length;R<j;R++)if(D[R](i,t,e,!0)){O=!0;break}if(O)break;if(y){if(d=bs(i,t),d<0)break}else if(d=vs(i,t),d<0)break;if(g!==i.src.charCodeAt(d-1))break}return i.tokens.push({type:y?"ordered_list_close":"bullet_list_close",level:--i.level}),C[1]=t,i.line=t,x&&id(i,b),!0}function sd(i,s,e,n){var t,a,r,o,l,u=i.bMarks[s]+i.tShift[s],c=i.eMarks[s];if(u+4>c||i.src.charCodeAt(u)!==91||i.src.charCodeAt(u+1)!==94||i.level>=i.options.maxNesting)return!1;for(o=u+2;o<c;o++){if(i.src.charCodeAt(o)===32)return!1;if(i.src.charCodeAt(o)===93)break}return o===u+2||o+1>=c||i.src.charCodeAt(++o)!==58?!1:(n||(o++,i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.refs||(i.env.footnotes.refs={}),l=i.src.slice(u+2,o-2),i.env.footnotes.refs[":"+l]=-1,i.tokens.push({type:"footnote_reference_open",label:l,level:i.level++}),t=i.bMarks[s],a=i.tShift[s],r=i.parentType,i.tShift[s]=i.skipSpaces(o)-o,i.bMarks[s]=o,i.blkIndent+=4,i.parentType="footnote",i.tShift[s]<i.blkIndent&&(i.tShift[s]+=i.blkIndent,i.bMarks[s]-=i.blkIndent),i.parser.tokenize(i,s,e,!0),i.parentType=r,i.blkIndent-=4,i.tShift[s]=a,i.bMarks[s]=t,i.tokens.push({type:"footnote_reference_close",level:--i.level})),!0)}function rd(i,s,e,n){var t,a,r,o=i.bMarks[s]+i.tShift[s],l=i.eMarks[s];if(o>=l||(t=i.src.charCodeAt(o),t!==35||o>=l))return!1;for(a=1,t=i.src.charCodeAt(++o);t===35&&o<l&&a<=6;)a++,t=i.src.charCodeAt(++o);return a>6||o<l&&t!==32?!1:(n||(l=i.skipCharsBack(l,32,o),r=i.skipCharsBack(l,35,o),r>o&&i.src.charCodeAt(r-1)===32&&(l=r),i.line=s+1,i.tokens.push({type:"heading_open",hLevel:a,lines:[s,i.line],level:i.level}),o<l&&i.tokens.push({type:"inline",content:i.src.slice(o,l).trim(),level:i.level+1,lines:[s,i.line],children:[]}),i.tokens.push({type:"heading_close",hLevel:a,level:i.level})),!0)}function od(i,s,e){var n,t,a,r=s+1;return r>=e||i.tShift[r]<i.blkIndent||i.tShift[r]-i.blkIndent>3||(t=i.bMarks[r]+i.tShift[r],a=i.eMarks[r],t>=a)||(n=i.src.charCodeAt(t),n!==45&&n!==61)||(t=i.skipChars(t,n),t=i.skipSpaces(t),t<a)?!1:(t=i.bMarks[s]+i.tShift[s],i.line=r+1,i.tokens.push({type:"heading_open",hLevel:n===61?1:2,lines:[s,i.line],level:i.level}),i.tokens.push({type:"inline",content:i.src.slice(t,i.eMarks[s]).trim(),level:i.level+1,lines:[s,i.line-1],children:[]}),i.tokens.push({type:"heading_close",hLevel:n===61?1:2,level:i.level}),!0)}var zr={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(i){zr[i]=!0});var ld=/^<([a-zA-Z]{1,15})[\s\/>]/,ud=/^<\/([a-zA-Z]{1,15})[\s>]/;function cd(i){var s=i|32;return s>=97&&s<=122}function dd(i,s,e,n){var t,a,r,o=i.bMarks[s],l=i.eMarks[s],u=i.tShift[s];if(o+=u,!i.options.html||u>3||o+2>=l||i.src.charCodeAt(o)!==60)return!1;if(t=i.src.charCodeAt(o+1),t===33||t===63){if(n)return!0}else if(t===47||cd(t)){if(t===47){if(a=i.src.slice(o,l).match(ud),!a)return!1}else if(a=i.src.slice(o,l).match(ld),!a)return!1;if(zr[a[1].toLowerCase()]!==!0)return!1;if(n)return!0}else return!1;for(r=s+1;r<i.lineMax&&!i.isEmpty(r);)r++;return i.line=r,i.tokens.push({type:"htmlblock",level:i.level,lines:[s,i.line],content:i.getLines(s,r,0,!0)}),!0}function Ri(i,s){var e=i.bMarks[s]+i.blkIndent,n=i.eMarks[s];return i.src.substr(e,n-e)}function md(i,s,e,n){var t,a,r,o,l,u,c,d,m,p,f;if(s+2>e||(l=s+1,i.tShift[l]<i.blkIndent)||(r=i.bMarks[l]+i.tShift[l],r>=i.eMarks[l])||(t=i.src.charCodeAt(r),t!==124&&t!==45&&t!==58)||(a=Ri(i,s+1),!/^[-:| ]+$/.test(a))||(u=a.split("|"),u<=2))return!1;for(d=[],o=0;o<u.length;o++){if(m=u[o].trim(),!m){if(o===0||o===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?d.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?d.push("left"):d.push("")}if(a=Ri(i,s).trim(),a.indexOf("|")===-1||(u=a.replace(/^\||\|$/g,"").split("|"),d.length!==u.length))return!1;if(n)return!0;for(i.tokens.push({type:"table_open",lines:p=[s,0],level:i.level++}),i.tokens.push({type:"thead_open",lines:[s,s+1],level:i.level++}),i.tokens.push({type:"tr_open",lines:[s,s+1],level:i.level++}),o=0;o<u.length;o++)i.tokens.push({type:"th_open",align:d[o],lines:[s,s+1],level:i.level++}),i.tokens.push({type:"inline",content:u[o].trim(),lines:[s,s+1],level:i.level,children:[]}),i.tokens.push({type:"th_close",level:--i.level});for(i.tokens.push({type:"tr_close",level:--i.level}),i.tokens.push({type:"thead_close",level:--i.level}),i.tokens.push({type:"tbody_open",lines:f=[s+2,0],level:i.level++}),l=s+2;l<e&&!(i.tShift[l]<i.blkIndent||(a=Ri(i,l).trim(),a.indexOf("|")===-1));l++){for(u=a.replace(/^\||\|$/g,"").split("|"),i.tokens.push({type:"tr_open",level:i.level++}),o=0;o<u.length;o++)i.tokens.push({type:"td_open",align:d[o],level:i.level++}),c=u[o].substring(u[o].charCodeAt(0)===124?1:0,u[o].charCodeAt(u[o].length-1)===124?u[o].length-1:u[o].length).trim(),i.tokens.push({type:"inline",content:c,level:i.level,children:[]}),i.tokens.push({type:"td_close",level:--i.level});i.tokens.push({type:"tr_close",level:--i.level})}return i.tokens.push({type:"tbody_close",level:--i.level}),i.tokens.push({type:"table_close",level:--i.level}),p[1]=f[1]=l,i.line=l,!0}function Et(i,s){var e,n,t=i.bMarks[s]+i.tShift[s],a=i.eMarks[s];return t>=a||(n=i.src.charCodeAt(t++),n!==126&&n!==58)||(e=i.skipSpaces(t),t===e)||e>=a?-1:e}function pd(i,s){var e,n,t=i.level+2;for(e=s+2,n=i.tokens.length-2;e<n;e++)i.tokens[e].level===t&&i.tokens[e].type==="paragraph_open"&&(i.tokens[e+2].tight=!0,i.tokens[e].tight=!0,e+=2)}function fd(i,s,e,n){var t,a,r,o,l,u,c,d,m,p,f,g,y,v;if(n)return i.ddIndent<0?!1:Et(i,s)>=0;if(c=s+1,i.isEmpty(c)&&++c>e||i.tShift[c]<i.blkIndent||(t=Et(i,c),t<0)||i.level>=i.options.maxNesting)return!1;u=i.tokens.length,i.tokens.push({type:"dl_open",lines:l=[s,0],level:i.level++}),r=s,a=c;e:for(;;){for(v=!0,y=!1,i.tokens.push({type:"dt_open",lines:[r,r],level:i.level++}),i.tokens.push({type:"inline",content:i.getLines(r,r+1,i.blkIndent,!1).trim(),level:i.level+1,lines:[r,r],children:[]}),i.tokens.push({type:"dt_close",level:--i.level});;){if(i.tokens.push({type:"dd_open",lines:o=[c,0],level:i.level++}),g=i.tight,m=i.ddIndent,d=i.blkIndent,f=i.tShift[a],p=i.parentType,i.blkIndent=i.ddIndent=i.tShift[a]+2,i.tShift[a]=t-i.bMarks[a],i.tight=!0,i.parentType="deflist",i.parser.tokenize(i,a,e,!0),(!i.tight||y)&&(v=!1),y=i.line-a>1&&i.isEmpty(i.line-1),i.tShift[a]=f,i.tight=g,i.parentType=p,i.blkIndent=d,i.ddIndent=m,i.tokens.push({type:"dd_close",level:--i.level}),o[1]=c=i.line,c>=e||i.tShift[c]<i.blkIndent)break e;if(t=Et(i,c),t<0)break;a=c}if(c>=e||(r=c,i.isEmpty(r))||i.tShift[r]<i.blkIndent||(a=r+1,a>=e)||(i.isEmpty(a)&&a++,a>=e)||i.tShift[a]<i.blkIndent||(t=Et(i,a),t<0))break}return i.tokens.push({type:"dl_close",level:--i.level}),l[1]=c,i.line=c,v&&pd(i,u),!0}function gd(i,s){var e,n,t,a,r,o=s+1,l;if(e=i.lineMax,o<e&&!i.isEmpty(o)){for(l=i.parser.ruler.getRules("paragraph");o<e&&!i.isEmpty(o);o++)if(!(i.tShift[o]-i.blkIndent>3)){for(t=!1,a=0,r=l.length;a<r;a++)if(l[a](i,o,e,!0)){t=!0;break}if(t)break}}return n=i.getLines(s,o,i.blkIndent,!1).trim(),i.line=o,n.length&&(i.tokens.push({type:"paragraph_open",tight:!1,lines:[s,i.line],level:i.level}),i.tokens.push({type:"inline",content:n,level:i.level+1,lines:[s,i.line],children:[]}),i.tokens.push({type:"paragraph_close",tight:!1,level:i.level})),!0}var Mt=[["code",Xc],["fences",ed,["paragraph","blockquote","list"]],["blockquote",nd,["paragraph","blockquote","list"]],["hr",td,["paragraph","blockquote","list"]],["list",ad,["paragraph","blockquote"]],["footnote",sd,["paragraph"]],["heading",rd,["paragraph","blockquote"]],["lheading",od],["htmlblock",dd,["paragraph","blockquote"]],["table",md,["paragraph"]],["deflist",fd,["paragraph"]],["paragraph",gd]];function xa(){this.ruler=new Fe;for(var i=0;i<Mt.length;i++)this.ruler.push(Mt[i][0],Mt[i][1],{alt:(Mt[i][2]||[]).slice()})}xa.prototype.tokenize=function(i,s,e){for(var n=this.ruler.getRules(""),t=n.length,a=s,r=!1,o,l;a<e&&(i.line=a=i.skipEmptyLines(a),!(a>=e||i.tShift[a]<i.blkIndent));){for(l=0;l<t&&(o=n[l](i,a,e,!1),!o);l++);if(i.tight=!r,i.isEmpty(i.line-1)&&(r=!0),a=i.line,a<e&&i.isEmpty(a)){if(r=!0,a++,a<e&&i.parentType==="list"&&i.isEmpty(a))break;i.line=a}}};var hd=/[\n\t]/g,yd=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,vd=/\u00a0/g;xa.prototype.parse=function(i,s,e,n){var t,a=0,r=0;if(!i)return[];i=i.replace(vd," "),i=i.replace(yd,`
`),i.indexOf("	")>=0&&(i=i.replace(hd,function(o,l){var u;return i.charCodeAt(l)===10?(a=l+1,r=0,o):(u="    ".slice((l-a-r)%4),r=l-a+1,u)})),t=new Pn(i,this,s,e,n),this.tokenize(t,t.line,t.lineMax)};function bd(i){switch(i){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Ad(i,s){for(var e=i.pos;e<i.posMax&&!bd(i.src.charCodeAt(e));)e++;return e===i.pos?!1:(s||(i.pending+=i.src.slice(i.pos,e)),i.pos=e,!0)}function wd(i,s){var e,n,t=i.pos;if(i.src.charCodeAt(t)!==10)return!1;if(e=i.pending.length-1,n=i.posMax,!s)if(e>=0&&i.pending.charCodeAt(e)===32)if(e>=1&&i.pending.charCodeAt(e-1)===32){for(var a=e-2;a>=0;a--)if(i.pending.charCodeAt(a)!==32){i.pending=i.pending.substring(0,a+1);break}i.push({type:"hardbreak",level:i.level})}else i.pending=i.pending.slice(0,-1),i.push({type:"softbreak",level:i.level});else i.push({type:"softbreak",level:i.level});for(t++;t<n&&i.src.charCodeAt(t)===32;)t++;return i.pos=t,!0}var Ea=[];for(var As=0;As<256;As++)Ea.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(i){Ea[i.charCodeAt(0)]=1});function Sd(i,s){var e,n=i.pos,t=i.posMax;if(i.src.charCodeAt(n)!==92)return!1;if(n++,n<t){if(e=i.src.charCodeAt(n),e<256&&Ea[e]!==0)return s||(i.pending+=i.src[n]),i.pos+=2,!0;if(e===10){for(s||i.push({type:"hardbreak",level:i.level}),n++;n<t&&i.src.charCodeAt(n)===32;)n++;return i.pos=n,!0}}return s||(i.pending+="\\"),i.pos++,!0}function Td(i,s){var e,n,t,a,r,o=i.pos,l=i.src.charCodeAt(o);if(l!==96)return!1;for(e=o,o++,n=i.posMax;o<n&&i.src.charCodeAt(o)===96;)o++;for(t=i.src.slice(e,o),a=r=o;(a=i.src.indexOf("`",r))!==-1;){for(r=a+1;r<n&&i.src.charCodeAt(r)===96;)r++;if(r-a===t.length)return s||i.push({type:"code",content:i.src.slice(o,a).replace(/[ \n]+/g," ").trim(),block:!1,level:i.level}),i.pos=r,!0}return s||(i.pending+=t),i.pos+=t.length,!0}function Cd(i,s){var e,n,t,a=i.posMax,r=i.pos,o,l;if(i.src.charCodeAt(r)!==126||s||r+4>=a||i.src.charCodeAt(r+1)!==126||i.level>=i.options.maxNesting||(o=r>0?i.src.charCodeAt(r-1):-1,l=i.src.charCodeAt(r+2),o===126)||l===126||l===32||l===10)return!1;for(n=r+2;n<a&&i.src.charCodeAt(n)===126;)n++;if(n>r+3)return i.pos+=n-r,s||(i.pending+=i.src.slice(r,n)),!0;for(i.pos=r+2,t=1;i.pos+1<a;){if(i.src.charCodeAt(i.pos)===126&&i.src.charCodeAt(i.pos+1)===126&&(o=i.src.charCodeAt(i.pos-1),l=i.pos+2<a?i.src.charCodeAt(i.pos+2):-1,l!==126&&o!==126&&(o!==32&&o!==10?t--:l!==32&&l!==10&&t++,t<=0))){e=!0;break}i.parser.skipToken(i)}return e?(i.posMax=i.pos,i.pos=r+2,s||(i.push({type:"del_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"del_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=a,!0):(i.pos=r,!1)}function kd(i,s){var e,n,t,a=i.posMax,r=i.pos,o,l;if(i.src.charCodeAt(r)!==43||s||r+4>=a||i.src.charCodeAt(r+1)!==43||i.level>=i.options.maxNesting||(o=r>0?i.src.charCodeAt(r-1):-1,l=i.src.charCodeAt(r+2),o===43)||l===43||l===32||l===10)return!1;for(n=r+2;n<a&&i.src.charCodeAt(n)===43;)n++;if(n!==r+2)return i.pos+=n-r,s||(i.pending+=i.src.slice(r,n)),!0;for(i.pos=r+2,t=1;i.pos+1<a;){if(i.src.charCodeAt(i.pos)===43&&i.src.charCodeAt(i.pos+1)===43&&(o=i.src.charCodeAt(i.pos-1),l=i.pos+2<a?i.src.charCodeAt(i.pos+2):-1,l!==43&&o!==43&&(o!==32&&o!==10?t--:l!==32&&l!==10&&t++,t<=0))){e=!0;break}i.parser.skipToken(i)}return e?(i.posMax=i.pos,i.pos=r+2,s||(i.push({type:"ins_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"ins_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=a,!0):(i.pos=r,!1)}function Rd(i,s){var e,n,t,a=i.posMax,r=i.pos,o,l;if(i.src.charCodeAt(r)!==61||s||r+4>=a||i.src.charCodeAt(r+1)!==61||i.level>=i.options.maxNesting||(o=r>0?i.src.charCodeAt(r-1):-1,l=i.src.charCodeAt(r+2),o===61)||l===61||l===32||l===10)return!1;for(n=r+2;n<a&&i.src.charCodeAt(n)===61;)n++;if(n!==r+2)return i.pos+=n-r,s||(i.pending+=i.src.slice(r,n)),!0;for(i.pos=r+2,t=1;i.pos+1<a;){if(i.src.charCodeAt(i.pos)===61&&i.src.charCodeAt(i.pos+1)===61&&(o=i.src.charCodeAt(i.pos-1),l=i.pos+2<a?i.src.charCodeAt(i.pos+2):-1,l!==61&&o!==61&&(o!==32&&o!==10?t--:l!==32&&l!==10&&t++,t<=0))){e=!0;break}i.parser.skipToken(i)}return e?(i.posMax=i.pos,i.pos=r+2,s||(i.push({type:"mark_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"mark_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=a,!0):(i.pos=r,!1)}function ws(i){return i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122}function Ss(i,s){var e=s,n,t,a,r=!0,o=!0,l=i.posMax,u=i.src.charCodeAt(s);for(n=s>0?i.src.charCodeAt(s-1):-1;e<l&&i.src.charCodeAt(e)===u;)e++;return e>=l&&(r=!1),a=e-s,a>=4?r=o=!1:(t=e<l?i.src.charCodeAt(e):-1,(t===32||t===10)&&(r=!1),(n===32||n===10)&&(o=!1),u===95&&(ws(n)&&(r=!1),ws(t)&&(o=!1))),{can_open:r,can_close:o,delims:a}}function _d(i,s){var e,n,t,a,r,o,l,u=i.posMax,c=i.pos,d=i.src.charCodeAt(c);if(d!==95&&d!==42||s)return!1;if(l=Ss(i,c),e=l.delims,!l.can_open)return i.pos+=e,s||(i.pending+=i.src.slice(c,i.pos)),!0;if(i.level>=i.options.maxNesting)return!1;for(i.pos=c+e,o=[e];i.pos<u;){if(i.src.charCodeAt(i.pos)===d){if(l=Ss(i,i.pos),n=l.delims,l.can_close){for(a=o.pop(),r=n;a!==r;){if(r<a){o.push(a-r);break}if(r-=a,o.length===0)break;i.pos+=a,a=o.pop()}if(o.length===0){e=a,t=!0;break}i.pos+=n;continue}l.can_open&&o.push(n),i.pos+=n;continue}i.parser.skipToken(i)}return t?(i.posMax=i.pos,i.pos=c+e,s||((e===2||e===3)&&i.push({type:"strong_open",level:i.level++}),(e===1||e===3)&&i.push({type:"em_open",level:i.level++}),i.parser.tokenize(i),(e===1||e===3)&&i.push({type:"em_close",level:--i.level}),(e===2||e===3)&&i.push({type:"strong_close",level:--i.level})),i.pos=i.posMax+e,i.posMax=u,!0):(i.pos=c,!1)}var Id=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function xd(i,s){var e,n,t=i.posMax,a=i.pos;if(i.src.charCodeAt(a)!==126||s||a+2>=t||i.level>=i.options.maxNesting)return!1;for(i.pos=a+1;i.pos<t;){if(i.src.charCodeAt(i.pos)===126){e=!0;break}i.parser.skipToken(i)}return!e||a+1===i.pos||(n=i.src.slice(a+1,i.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=a,!1):(i.posMax=i.pos,i.pos=a+1,s||i.push({type:"sub",level:i.level,content:n.replace(Id,"$1")}),i.pos=i.posMax+1,i.posMax=t,!0)}var Ed=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Md(i,s){var e,n,t=i.posMax,a=i.pos;if(i.src.charCodeAt(a)!==94||s||a+2>=t||i.level>=i.options.maxNesting)return!1;for(i.pos=a+1;i.pos<t;){if(i.src.charCodeAt(i.pos)===94){e=!0;break}i.parser.skipToken(i)}return!e||a+1===i.pos||(n=i.src.slice(a+1,i.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=a,!1):(i.posMax=i.pos,i.pos=a+1,s||i.push({type:"sup",level:i.level,content:n.replace(Ed,"$1")}),i.pos=i.posMax+1,i.posMax=t,!0)}function qd(i,s){var e,n,t,a,r,o,l,u,c=!1,d=i.pos,m=i.posMax,p=i.pos,f=i.src.charCodeAt(p);if(f===33&&(c=!0,f=i.src.charCodeAt(++p)),f!==91||i.level>=i.options.maxNesting||(e=p+1,n=pt(i,p),n<0))return!1;if(o=n+1,o<m&&i.src.charCodeAt(o)===40){for(o++;o<m&&(u=i.src.charCodeAt(o),!(u!==32&&u!==10));o++);if(o>=m)return!1;for(p=o,Zr(i,o)?(a=i.linkContent,o=i.pos):a="",p=o;o<m&&(u=i.src.charCodeAt(o),!(u!==32&&u!==10));o++);if(o<m&&p!==o&&Br(i,o))for(r=i.linkContent,o=i.pos;o<m&&(u=i.src.charCodeAt(o),!(u!==32&&u!==10));o++);else r="";if(o>=m||i.src.charCodeAt(o)!==41)return i.pos=d,!1;o++}else{if(i.linkLevel>0)return!1;for(;o<m&&(u=i.src.charCodeAt(o),!(u!==32&&u!==10));o++);if(o<m&&i.src.charCodeAt(o)===91&&(p=o+1,o=pt(i,o),o>=0?t=i.src.slice(p,o++):o=p-1),t||(B(t)>"u"&&(o=n+1),t=i.src.slice(e,n)),l=i.env.references[jr(t)],!l)return i.pos=d,!1;a=l.href,r=l.title}return s||(i.pos=e,i.posMax=n,c?i.push({type:"image",src:a,title:r,alt:i.src.substr(e,n-e),level:i.level}):(i.push({type:"link_open",href:a,title:r,level:i.level++}),i.linkLevel++,i.parser.tokenize(i),i.linkLevel--,i.push({type:"link_close",level:--i.level}))),i.pos=o,i.posMax=m,!0}function Pd(i,s){var e,n,t,a,r=i.posMax,o=i.pos;return o+2>=r||i.src.charCodeAt(o)!==94||i.src.charCodeAt(o+1)!==91||i.level>=i.options.maxNesting||(e=o+2,n=pt(i,o+1),n<0)?!1:(s||(i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.list||(i.env.footnotes.list=[]),t=i.env.footnotes.list.length,i.pos=e,i.posMax=n,i.push({type:"footnote_ref",id:t,level:i.level}),i.linkLevel++,a=i.tokens.length,i.parser.tokenize(i),i.env.footnotes.list[t]={tokens:i.tokens.splice(a)},i.linkLevel--),i.pos=n+1,i.posMax=r,!0)}function Dd(i,s){var e,n,t,a,r=i.posMax,o=i.pos;if(o+3>r||!i.env.footnotes||!i.env.footnotes.refs||i.src.charCodeAt(o)!==91||i.src.charCodeAt(o+1)!==94||i.level>=i.options.maxNesting)return!1;for(n=o+2;n<r;n++){if(i.src.charCodeAt(n)===32||i.src.charCodeAt(n)===10)return!1;if(i.src.charCodeAt(n)===93)break}return n===o+2||n>=r||(n++,e=i.src.slice(o+2,n-1),B(i.env.footnotes.refs[":"+e])>"u")?!1:(s||(i.env.footnotes.list||(i.env.footnotes.list=[]),i.env.footnotes.refs[":"+e]<0?(t=i.env.footnotes.list.length,i.env.footnotes.list[t]={label:e,count:0},i.env.footnotes.refs[":"+e]=t):t=i.env.footnotes.refs[":"+e],a=i.env.footnotes.list[t].count,i.env.footnotes.list[t].count++,i.push({type:"footnote_ref",id:t,subId:a,level:i.level})),i.pos=n,i.posMax=r,!0)}var Fd=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],Ld=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Od=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function Nd(i,s){var e,n,t,a,r,o=i.pos;return i.src.charCodeAt(o)!==60||(e=i.src.slice(o),e.indexOf(">")<0)?!1:(n=e.match(Od),n?Fd.indexOf(n[1].toLowerCase())<0||(a=n[0].slice(1,-1),r=Yi(a),!i.parser.validateLink(a))?!1:(s||(i.push({type:"link_open",href:r,level:i.level}),i.push({type:"text",content:a,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=n[0].length,!0):(t=e.match(Ld),t?(a=t[0].slice(1,-1),r=Yi("mailto:"+a),i.parser.validateLink(r)?(s||(i.push({type:"link_open",href:r,level:i.level}),i.push({type:"text",content:a,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=t[0].length,!0):!1):!1))}function ti(i,s){return i=i.source,s=s||"",function e(n,t){return n?(t=t.source||t,i=i.replace(n,t),e):new RegExp(i,s)}}var Zd=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,Bd=/[^"'=<>`\x00-\x20]+/,jd=/'[^']*'/,Vd=/"[^"]*"/,zd=ti(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",Bd)("single_quoted",jd)("double_quoted",Vd)(),Ud=ti(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Zd)("attr_value",zd)(),Gd=ti(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",Ud)(),Hd=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,Qd=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Jd=/<[?].*?[?]>/,$d=/<![A-Z]+\s+[^>]*>/,Wd=/<!\[CDATA\[[\s\S]*?\]\]>/,Kd=ti(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",Gd)("close_tag",Hd)("comment",Qd)("processing",Jd)("declaration",$d)("cdata",Wd)();function Yd(i){var s=i|32;return s>=97&&s<=122}function Xd(i,s){var e,n,t,a=i.pos;return!i.options.html||(t=i.posMax,i.src.charCodeAt(a)!==60||a+2>=t)||(e=i.src.charCodeAt(a+1),e!==33&&e!==63&&e!==47&&!Yd(e))||(n=i.src.slice(a).match(Kd),!n)?!1:(s||i.push({type:"htmltag",content:i.src.slice(a,a+n[0].length),level:i.level}),i.pos+=n[0].length,!0)}var e0=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,n0=/^&([a-z][a-z0-9]{1,31});/i;function t0(i,s){var e,n,t,a=i.pos,r=i.posMax;if(i.src.charCodeAt(a)!==38)return!1;if(a+1<r){if(e=i.src.charCodeAt(a+1),e===35){if(t=i.src.slice(a).match(e0),t)return s||(n=t[1][0].toLowerCase()==="x"?parseInt(t[1].slice(1),16):parseInt(t[1],10),i.pending+=Or(n)?Ki(n):Ki(65533)),i.pos+=t[0].length,!0}else if(t=i.src.slice(a).match(n0),t){var o=Fr(t[1]);if(t[1]!==o)return s||(i.pending+=o),i.pos+=t[0].length,!0}}return s||(i.pending+="&"),i.pos++,!0}var _i=[["text",Ad],["newline",wd],["escape",Sd],["backticks",Td],["del",Cd],["ins",kd],["mark",Rd],["emphasis",_d],["sub",xd],["sup",Md],["links",qd],["footnote_inline",Pd],["footnote_ref",Dd],["autolink",Nd],["htmltag",Xd],["entity",t0]];function ii(){this.ruler=new Fe;for(var i=0;i<_i.length;i++)this.ruler.push(_i[i][0],_i[i][1]);this.validateLink=i0}ii.prototype.skipToken=function(i){var s=this.ruler.getRules(""),e=s.length,n=i.pos,t,a;if((a=i.cacheGet(n))>0){i.pos=a;return}for(t=0;t<e;t++)if(s[t](i,!0)){i.cacheSet(n,i.pos);return}i.pos++,i.cacheSet(n,i.pos)};ii.prototype.tokenize=function(i){for(var s=this.ruler.getRules(""),e=s.length,n=i.posMax,t,a;i.pos<n;){for(a=0;a<e&&(t=s[a](i,!1),!t);a++);if(t){if(i.pos>=n)break;continue}i.pending+=i.src[i.pos++]}i.pending&&i.pushPending()};ii.prototype.parse=function(i,s,e,n){var t=new qn(i,this,s,e,n);this.tokenize(t)};function i0(i){var s=["vbscript","javascript","file","data"],e=i.trim().toLowerCase();return e=In(e),!(e.indexOf(":")!==-1&&s.indexOf(e.split(":")[0])!==-1)}var a0={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},s0={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},r0={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},o0={default:a0,full:s0,commonmark:r0};function Ur(i,s,e){this.src=s,this.env=e,this.options=i.options,this.tokens=[],this.inlineMode=!1,this.inline=i.inline,this.block=i.block,this.renderer=i.renderer,this.typographer=i.typographer}function Qe(i,s){typeof i!="string"&&(s=i,i="default"),s&&s.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new ii,this.block=new xa,this.core=new Vr,this.renderer=new Ia,this.ruler=new Fe,this.options={},this.configure(o0[i]),this.set(s||{})}Qe.prototype.set=function(i){Lr(this.options,i)};Qe.prototype.configure=function(i){var s=this;if(!i)throw new Error("Wrong `remarkable` preset, check name/content");i.options&&s.set(i.options),i.components&&Object.keys(i.components).forEach(function(e){i.components[e].rules&&s[e].ruler.enable(i.components[e].rules,!0)})};Qe.prototype.use=function(i,s){return i(this,s),this};Qe.prototype.parse=function(i,s){var e=new Ur(this,i,s);return this.core.process(e),e.tokens};Qe.prototype.render=function(i,s){return s=s||{},this.renderer.render(this.parse(i,s),this.options,s)};Qe.prototype.parseInline=function(i,s){var e=new Ur(this,i,s);return e.inlineMode=!0,this.core.process(e),e.tokens};Qe.prototype.renderInline=function(i,s){return s=s||{},this.renderer.render(this.parseInline(i,s),this.options,s)};var Gr=function(){function i(){w(this,i)}return S(i,null,[{key:"instantiate",value:function(e){if(e)return new Qe(ne(ne({},i.DEFAULT_PROPERTIES),e));if(window.hljs){var n=window.hljs;return new Qe({highlight:function(a,r){if(r&&n.getLanguage(r))try{return n.highlight(r,a).value}catch{console.error("failed to setup the highlight dependency")}try{return n.highlightAuto(a).value}catch{console.error("failed to automatically highlight messages")}return""},html:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkTarget:"_blank",typographer:!0})}else return new Qe(i.DEFAULT_PROPERTIES)}},{key:"createNew",value:function(e){var n=i.instantiate(e);return n.inline.validateLink=function(){return!0},n}}])}();Gr.DEFAULT_PROPERTIES={breaks:!0,linkTarget:"_blank"};var Xi=Gr,Lt=function(){function i(){w(this,i)}return S(i,null,[{key:"applyCustomStylesToElements",value:function(e,n,t){if(t&&(Object.assign(e.outerContainer.style,t.outerContainer),Object.assign(e.innerContainer.style,t.innerContainer),Object.assign(e.bubbleElement.style,t.bubble),n)){var a=e.bubbleElement.children[0],r=a.tagName.toLocaleLowerCase()!=="a"?a:a.children[0];Object.assign(r.style,t.media)}}},{key:"applySideStyles",value:function(e,n,t,a){a&&(i.applyCustomStylesToElements(e,t,a.shared),n===V.USER_ROLE?i.applyCustomStylesToElements(e,t,a.user):(i.applyCustomStylesToElements(e,t,a.ai),i.applyCustomStylesToElements(e,t,a[n])))}},{key:"isElementsStyles",value:function(e){return!!(e.outerContainer||e.innerContainer||e.bubble||e.media)}},{key:"applyCustomStyles",value:function(e,n,t,a,r){var o;r&&e.default!==r?i.isElementsStyles(r)?(i.applyCustomStylesToElements(n,a,(o=e.default)==null?void 0:o.shared),i.applyCustomStylesToElements(n,a,r)):(i.applySideStyles(n,t,a,e.default),i.applySideStyles(n,t,a,r)):i.applySideStyles(n,t,a,e.default)}},{key:"extractParticularSharedStyles",value:function(e,n){if(n!=null&&n.shared){var t=n.shared,a={outerContainer:{},innerContainer:{},bubble:{},media:{}};return e.forEach(function(r){var o,l,u,c;a.outerContainer[r]=((o=t.outerContainer)==null?void 0:o[r])||"",a.innerContainer[r]=((l=t.innerContainer)==null?void 0:l[r])||"",a.bubble[r]=((u=t.bubble)==null?void 0:u[r])||"",a.media[r]=((c=t.media)==null?void 0:c[r])||""}),a}}}])}(),$t=function(){function i(){w(this,i)}return S(i,null,[{key:"onMessage",value:function(e,n,t){var a,r=JSON.parse(JSON.stringify({message:n,isHistory:t,isInitial:t}));_e.reAddFileRefToObject(n,r),(a=e.onMessage)==null||a.call(e,r),e.dispatchEvent(new CustomEvent("message",{detail:r})),xe.fireOnNewMessage(e,r)}},{key:"onClearMessages",value:function(e){var n;(n=e.onClearMessages)==null||n.call(e),e.dispatchEvent(new CustomEvent("clear-messages"))}},{key:"onRender",value:function(e){var n;(n=e.onComponentRender)==null||n.call(e,e),e.dispatchEvent(new CustomEvent("render",{detail:e}))}},{key:"onError",value:function(e,n){var t;(t=e.onError)==null||t.call(e,n),e.dispatchEvent(new CustomEvent("error",{detail:n}))}}])}(),Ot=function(){function i(){w(this,i)}return S(i,null,[{key:"generateLoadingRingElement",value:function(){var e=document.createElement("div");return e.classList.add("loading-history"),e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),e}},{key:"apply",value:function(e,n,t){wn.setRing(n.bubbleElement,t==null?void 0:t.bubble),t!=null&&t.bubble&&(t=JSON.parse(JSON.stringify(t)),delete t.bubble),e.applyCustomStyles(n,"history",!1,t)}},{key:"addLoadHistoryMessage",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a,r,o,l,u,c,d,m;e.bubbleElement.classList.add(i.CLASS);var p=t?i.FULL_VIEW_CLASS:i.SMALL_CLASS;e.outerContainer.classList.add(p);var f=t?(l=(o=(r=(a=n.messageStyles)==null?void 0:a.loading)==null?void 0:r.history)==null?void 0:o.full)==null?void 0:l.styles:(m=(d=(c=(u=n.messageStyles)==null?void 0:u.loading)==null?void 0:c.history)==null?void 0:d.small)==null?void 0:m.styles;i.apply(n,e,f),n.elementRef.prepend(e.outerContainer)}},{key:"createDefaultElements",value:function(e){var n=e.createMessageElements("",V.AI_ROLE),t=n.bubbleElement,a=i.generateLoadingRingElement();return t.appendChild(a),n}},{key:"addMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t,a,r,o,l=(o=(r=(a=(t=e.messageStyles)==null?void 0:t.loading)==null?void 0:a.history)==null?void 0:r.full)==null?void 0:o.html,u=l?dn.createElements(e,l,V.AI_ROLE,!0):i.createDefaultElements(e);return i.addLoadHistoryMessage(u,e,n),u}},{key:"tryChangeViewToSmall",value:function(e,n){var t,a,r,o,l,u,c,d;if(n!=null&&n.outerContainer.classList.contains(i.FULL_VIEW_CLASS)){n.outerContainer.classList.replace(i.FULL_VIEW_CLASS,i.SMALL_CLASS);var m=(o=(r=(a=(t=e.messageStyles)==null?void 0:t.loading)==null?void 0:a.history)==null?void 0:r.small)==null?void 0:o.styles;m&&i.apply(e,n,m);var p=(d=(c=(u=(l=e.messageStyles)==null?void 0:l.loading)==null?void 0:u.history)==null?void 0:c.small)==null?void 0:d.html;return p&&(n.bubbleElement.innerHTML=p),!0}return!1}},{key:"changeFullViewToSmall",value:function(e){var n=e.messageElementRefs[e.messageElementRefs.length-1];i.tryChangeViewToSmall(e,n)||i.tryChangeViewToSmall(e,e.messageElementRefs[0])}}])}();Ot.CLASS="loading-history-message",Ot.FULL_VIEW_CLASS="loading-history-message-full-view",Ot.SMALL_CLASS="loading-history-message-small";var Sn=Ot,ea=function(){function i(s){var e=this;w(this,i),this.messageElementRefs=[],this.htmlClassUtilities={},this.messageToElements=[],this.elementRef=i.createContainerElement(),this.messageStyles=xe.processMessageStyles(s.messageStyles),this._remarkable=Xi.createNew(s.remarkable),this._avatars=s.avatars,this._names=s.names,this._onMessage=$t.onMessage.bind(this,s),s.htmlClassUtilities&&(this.htmlClassUtilities=s.htmlClassUtilities),setTimeout(function(){e.submitUserMessage=s.submitUserMessage})}return S(i,[{key:"addNewTextMessage",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t!=null&&t.status){var r=this.overwriteText(n,e,this.messageElementRefs);if(r)return r;t.status=!1}var o=a?this.createAndPrependNewMessageElement(e,n,a):this.createAndAppendNewMessageElement(e,n);return o.bubbleElement.classList.add(i.TEXT_BUBBLE_CLASS),this.applyCustomStyles(o,n,!1),V.fillEmptyMessageElement(o.bubbleElement,e),o}},{key:"overwriteText",value:function(e,n,t){var a=V.overwriteMessage(this.messageToElements,t,n,e,"text",i.TEXT_BUBBLE_CLASS);return a&&this.renderText(a.bubbleElement,n),a}},{key:"createAndAppendNewMessageElement",value:function(e,n){var t=this,a=this.createNewMessageElement(e,n);return this.elementRef.appendChild(a.outerContainer),setTimeout(function(){return Ze.scrollToBottom(t.elementRef)}),a}},{key:"createAndPrependNewMessageElement",value:function(e,n,t){var a,r=this.createNewMessageElement(e,n,t);if(t&&(a=this.elementRef.firstChild)!=null&&a.classList.contains(i.INTRO_CLASS)){this.elementRef.firstChild.insertAdjacentElement("afterend",r.outerContainer);var o=this.messageElementRefs[0];this.messageElementRefs[0]=this.messageElementRefs[1],this.messageElementRefs[1]=o}else this.elementRef.insertBefore(r.outerContainer,this.elementRef.firstChild);return r}},{key:"createMessageElementsOnOrientation",value:function(e,n,t){return t?this.createAndPrependNewMessageElement(e,n,!0):this.createNewMessageElement(e,n)}},{key:"createNewMessageElement",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a;(a=this._introPanel)==null||a.hide();var r=this.messageElementRefs[this.messageElementRefs.length-1];return Sn.changeFullViewToSmall(this),i.isTemporaryElement(r)&&(this.revealRoleElementsIfTempRemoved(r,n),r.outerContainer.remove(),this.messageElementRefs.pop()),this.createMessageElements(e,n,t)}},{key:"revealRoleElementsIfTempRemoved",value:function(e,n){if((this._avatars||this._names)&&dt.isElementTemporary(e)){var t=this.messageElementRefs[this.messageElementRefs.length-2];t&&this.messageToElements.length>0&&!e.bubbleElement.classList.contains(V.getRoleClass(n))&&V.revealRoleElements(t.innerContainer,this._avatars,this._names)}}},{key:"createElements",value:function(e,n){var t=i.createBaseElements(n),a=t.outerContainer,r=t.innerContainer,o=t.bubbleElement;return a.appendChild(r),this.addInnerContainerElements(o,e,n),t}},{key:"createMessageElements",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.createElements(e,n);return V.updateRefArr(this.messageElementRefs,a,t),V.classifyMessages(n,this.messageElementRefs),a}},{key:"addInnerContainerElements",value:function(e,n,t){var a;return((a=this.messageToElements[this.messageToElements.length-1])==null?void 0:a[0].role)===t&&!this.isLastMessageError()&&V.hideRoleElements(this.messageElementRefs,!!this._avatars,!!this._names),e.classList.add("message-bubble",V.getRoleClass(t),t===V.USER_ROLE?"user-message-text":"ai-message-text"),this.renderText(e,n),V.addRoleElements(e,t,this._avatars,this._names),{bubbleElement:e}}},{key:"applyCustomStyles",value:function(e,n,t,a){e&&this.messageStyles&&Lt.applyCustomStyles(this.messageStyles,e,n,t,a)}},{key:"removeMessage",value:function(e){e.outerContainer.remove();var n=this.messageElementRefs.findIndex(function(t){return t===e});this.messageElementRefs.splice(n,1)}},{key:"removeLastMessage",value:function(){this.messageElementRefs[this.messageElementRefs.length-1].outerContainer.remove(),this.messageElementRefs.pop()}},{key:"isLastMessageError",value:function(){var e;return(e=V.getLastMessageBubbleElement(this.elementRef))==null?void 0:e.classList.contains("error-message-text")}},{key:"sendClientUpdate",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;(t=this._onMessage)==null||t.call(this,e,n)}},{key:"renderText",value:function(e,n){e.innerHTML=this._remarkable.render(n),e.innerText.trim().length===0&&(e.innerText=n)}},{key:"refreshTextMessages",value:function(e){var n=this;this._remarkable=Xi.createNew(e),this.messageToElements.forEach(function(t){t[1].text&&t[0].text&&n.renderText(t[1].text.bubbleElement,t[0].text)})}}],[{key:"createContainerElement",value:function(){var e=document.createElement("div");return e.id="messages",e}},{key:"isTemporaryElement",value:function(e){return i.isLoadingMessage(e)||dt.isElementTemporary(e)}},{key:"createBaseElements",value:function(e){var n=document.createElement("div"),t=document.createElement("div");t.classList.add("inner-message-container"),n.appendChild(t),n.classList.add("outer-message-container"),n.classList.add(V.buildRoleContainerClass(e));var a=document.createElement("div");return a.classList.add("message-bubble"),t.appendChild(a),{outerContainer:n,innerContainer:t,bubbleElement:a}}},{key:"createMessageContent",value:function(e){var n=e.text,t=e.files,a=e.html,r=e._sessionId,o=e.role,l={role:o||V.AI_ROLE};return n&&(l.text=n),t&&(l.files=t),a&&(l.html=a),!n&&!t&&!a&&(l.text=""),r&&(l._sessionId=r),l}},{key:"isLoadingMessage",value:function(e){return e==null?void 0:e.bubbleElement.classList.contains(wn.BUBBLE_CLASS)}}])}();ea.TEXT_BUBBLE_CLASS="text-message",ea.INTRO_CLASS="deep-chat-intro";var Tn=ea,l0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%20xml:space='preserve'%3e%3cpath%20d='M23,30.36H9c-2.404,0-4.36-1.956-4.36-4.36V15c0-2.404,1.956-4.36,4.36-4.36h3.659%20c0.167-1.566,1.415-2.813,2.981-2.981V5.333c-1.131-0.174-2-1.154-2-2.333c0-1.301,1.059-2.36,2.36-2.36%20c1.302,0,2.36,1.059,2.36,2.36c0,1.179-0.869,2.159-2,2.333V7.66c1.566,0.167,2.814,1.415,2.981,2.981H23%20c2.404,0,4.36,1.956,4.36,4.36v11C27.36,28.404,25.404,30.36,23,30.36z%20M9,11.36c-2.007,0-3.64,1.633-3.64,3.64v11%20c0,2.007,1.633,3.64,3.64,3.64h14c2.007,0,3.64-1.633,3.64-3.64V15c0-2.007-1.633-3.64-3.64-3.64H9z%20M13.384,10.64h5.231%20C18.439,9.354,17.334,8.36,16,8.36C14.667,8.36,13.561,9.354,13.384,10.64z%20M16,1.36c-0.904,0-1.64,0.736-1.64,1.64%20S15.096,4.64,16,4.64c0.904,0,1.64-0.736,1.64-1.64S16.904,1.36,16,1.36z%20M20,27.36h-8c-1.301,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36h8c1.302,0,2.36,1.059,2.36,2.36S21.302,27.36,20,27.36z%20M12,23.36c-0.904,0-1.64,0.735-1.64,1.64%20s0.736,1.64,1.64,1.64h8c0.904,0,1.64-0.735,1.64-1.64s-0.735-1.64-1.64-1.64H12z%20M31,23.86h-2c-0.199,0-0.36-0.161-0.36-0.36V15%20c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5C31.36,23.699,31.199,23.86,31,23.86z%20M29.36,23.14h1.279v-7.78%20H29.36V23.14z%20M3,23.86H1c-0.199,0-0.36-0.161-0.36-0.36V15c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5%20C3.36,23.699,3.199,23.86,3,23.86z%20M1.36,23.14h1.28v-7.78H1.36V23.14z%20M20,20.36c-1.302,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36s2.36,1.059,2.36,2.36C22.36,19.302,21.302,20.36,20,20.36z%20M20,16.36c-0.904,0-1.64,0.736-1.64,1.64%20s0.735,1.64,1.64,1.64s1.64-0.735,1.64-1.64S20.904,16.36,20,16.36z%20M12,20.36c-1.301,0-2.36-1.059-2.36-2.36s1.059-2.36,2.36-2.36%20s2.36,1.059,2.36,2.36C14.36,19.302,13.301,20.36,12,20.36z%20M12,16.36c-0.904,0-1.64,0.736-1.64,1.64s0.736,1.64,1.64,1.64%20s1.64-0.735,1.64-1.64S12.904,16.36,12,16.36z'/%3e%3crect%20style='fill:none;'%20width='32'%20height='32'/%3e%3c/svg%3e",u0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAMAAAC/MqoPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAADNQTFRF////9vX18vLy/Pz86enp4+Li2tnZ1tbWzczM+fn57Ozs4N/f09LS0M/P5uXl7+/v3dzcwtncCAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAZNSURBVHja7d3bdtsqEABQYABZSLH9/3+ZpnUsIcF5iOM6PfElNoMHMfPQdq3GmL0GkLhEUqLaUExnOtOZznSmM53pTGc605nOdKYznelMZzrTmV4LXSqllKyJDkob26xWq8Zae/iH0QoWTm9d1xur4WuypQJtTd+5dqn0VjcxzNO5/57mEBvdLo8Oron6aseWOjYOFkVvjQs3DmgyONMuht52EfztP+4hdu0i6LCO808/M8c1lE/fuPGej41uUzgdtoO/75N+2ELJ9I3b3//hPXbiMenm3pR/Jt4USgcLBIp4Bh10gqKVhvLo0klCxeSky96nKcj3siw6pJIL4XsoiQ7apyvMY/V3HHrSRioLopvEhSpTCn2TPEuwKYMOIX0tAxRBf/Hpa+lfSqBv9gi1FPsNfTrMAiVmIE/vJhz61FGnQxRIEYE4vfNYdN8Rp6MlHaHotHTn8ejekaZPAjEmyvQWdZFTtYTpXqCGJ0zvcek9Yfoel76nS0ffv1NMp1ca+pkgyfRCGind4L7OWWc605l+cxjsyhqy9AGbPpClc1/nvl5VX0c/3Alk6RU3+Am7shNZ+h6bvidLr7jBB+zKBrL0irOOudmIUDzTmf5gIP+iEuXtRuTVaEmY/oZLfyNMrzjryPc0gerMTdpVg0tvjJUU6bLPcGOoUv46SLL6Wi8yhLf06C7TUyekI0efRaaYqdFltkeNpPumRPSMDxgBYvSM035FrKAmH72hRW99PrpvSdEHkTEGUvSsK3yKVDkuJ92RohcZaehzzirPpOg+J92Tolfc4Cumx5xVXpGiZ34+ICX6W84qv5GiR5NPbiIpOv6BCoSvSkTX+eiaGP092zINvBOj4x8mSf9FqejvNo/cvpOji19ZbmviL0GPLsYMFzgzCor0+Bv/ePDvSJKOb9dJ5UlnbnEHiHgzv6cdTpJOWuc/u3FEucLDOL75xGtBiefrcwgoC9NDSH/jkH6pAuXmBqPQ9HSUPVdZBH1GGOrMXAQdYxcKZfxAoK+KKBKFLosoEoX+u4giUehz8jlcnAuhp78I46yDYNAd+QLR6K+pr+yvxdBTHyVDubQh0UfSxaHSd0lbvNkVRE87JGOtc+PQd2QLQ6fHhJkKsSh6yg13tO08JPprsgrrXWH0dJd2vH1MLPprot4eXoujpzrdhngiD40ek2y92lggPcnWa8qN1Yz0BFuvZhRl0uOfR0v4Ewuli/Bg4Qr3lArqGdndQ3UPO1EunXYwnelMZzrTmc50pjOd6UxnOtOZznSmM53pTGf6kuj6oedFKV0s3fX6sX1S3bsi6a4PD7+/YAqYeBw6pIB/4qEgOqxdSPbGiim4NRRCbzs3Jj0L4UfXtQXQVRfn5IdA/Bw7RZzurEV6EtdsLeGXkIPuA+K1UoVeA0l62zmN/LqfSSft9KkepmoRuvi3nd5uKNFB9zbbXEANqdr941XO0NJx2v2jdJenpf+/3bvn0ts16ph+sd6hX7dPo2+2cZzE02Ia43bzDHqr+2Evnhz74ZHU30ffbKOeng1/NPV30Ns1gYQnSP2P6e65Pfxc6h02XZqXQCjhJ6kPL6bFo4NrGvAU4UII4SE2P1vQuZkuOxckVfehisF1MjUddN/MZBN+kvq5uf0O/xa66gyNS9ktMWlz44rO1Z8C19i5FPdHzPamXn+F3hryPfxMr78+4F+kq22kO6Rf6fUQt+puuustyWv4rbG3l/duztFB96GYoe1cTBdXMr+nw9qVM6ZfxOvzezff0nXi/ZOndvrR6Zvpm0c3h6nhdb+5iS7tsIim/qXZD9+97/Jf+rpZ5BET1ayv0GUzLhEuhBBjIy/RdVPgndutIRt9nt7p5cKFEEJ3Z+jQFDZL+XnMDXxHB73gxn5s9Kc3d3/pFciFkN/QTSXHJpX5l66gDrkQoP6hL3xsPw39la4qOiV8tH78XeSbue6N9mvWa6J/ybpc1CT1Wnh5Qq9meP8IOKH3ddH7E/ri1iYux/SXDrXR4UiPdck/wUpU+FtPf6/orja6O9KL3l56LOvVxe5Ib2qjN0d6Vbex4ghWlU3bPqI90If66MNng680FNpbJijH6kCvaF3uMzQ3+IrpFerV4Y9dffQdN3im10ivbuImhD3Qq5u4HdZkua8znelMZ/pS4z9CPVKkxowNxgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMy0yN1QxNTo0NToxNSswMDowMN1xSg4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDMtMjdUMTU6NDU6MTUrMDA6MDCsLPKyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",Hr=function(){function i(){w(this,i)}return S(i,null,[{key:"hide",value:function(e){var n;(n=e.getElementsByClassName(i.CONTAINER_CLASS)[0].style).visibility||(n.visibility="hidden")}},{key:"reveal",value:function(e){e.getElementsByClassName(i.CONTAINER_CLASS)[0].style.visibility=""}},{key:"applyCustomStylesToElements",value:function(e,n,t){Object.assign(e.style,t.container),Object.assign(n.style,t.avatar)}},{key:"applyCustomStyles",value:function(e,n,t,a){var r,o,l,u;if((r=t.default)!=null&&r.styles&&i.applyCustomStylesToElements(e,n,t.default.styles),a===V.USER_ROLE)(o=t.user)!=null&&o.styles&&i.applyCustomStylesToElements(e,n,t.user.styles);else{(l=t.ai)!=null&&l.styles&&i.applyCustomStylesToElements(e,n,t.ai.styles);var c=(u=t[a])==null?void 0:u.styles;c&&i.applyCustomStylesToElements(e,n,c)}}},{key:"createAvatar",value:function(e,n){var t,a,r,o,l,u=document.createElement("img");e===V.USER_ROLE?u.src=((t=n==null?void 0:n.user)==null?void 0:t.src)||((a=n==null?void 0:n.default)==null?void 0:a.src)||u0:u.src=((r=n==null?void 0:n[e])==null?void 0:r.src)||((o=n==null?void 0:n.ai)==null?void 0:o.src)||((l=n==null?void 0:n.default)==null?void 0:l.src)||l0,u.classList.add("avatar"),u.alt="".concat(e," avatar");var c=document.createElement("div");return c.classList.add(i.CONTAINER_CLASS),c.appendChild(u),n&&i.applyCustomStyles(c,u,n,e),c}},{key:"getPosition",value:function(e,n){var t,a,r,o,l,u,c,d,m,p=(l=(o=n==null?void 0:n[e])==null?void 0:o.styles)==null?void 0:l.position;return e!==V.USER_ROLE&&((t=p)!==null&&t!==void 0||(p=(c=(u=n==null?void 0:n.ai)==null?void 0:u.styles)==null?void 0:c.position)),(a=p)!==null&&a!==void 0||(p=(m=(d=n==null?void 0:n.default)==null?void 0:d.styles)==null?void 0:m.position),(r=p)!==null&&r!==void 0||(p=e===V.USER_ROLE?"right":"left"),p}},{key:"add",value:function(e,n,t){var a=typeof t=="boolean"?void 0:t,r=i.createAvatar(n,a),o=i.getPosition(n,a);r.classList.add(o==="left"?"left-item-position":"right-item-position"),e.insertAdjacentElement(o==="left"?"beforebegin":"afterend",r)}}])}();Hr.CONTAINER_CLASS="avatar-container";var Ii=Hr,Qr=function(){function i(){w(this,i)}return S(i,null,[{key:"hide",value:function(e){var n;(n=e.getElementsByClassName(i.NAME_CLASS)[0].style).visibility||(n.visibility="hidden")}},{key:"reveal",value:function(e){e.getElementsByClassName(i.NAME_CLASS)[0].style.visibility=""}},{key:"getPosition",value:function(e,n){var t,a,r,o,l,u,c=(o=n==null?void 0:n[e])==null?void 0:o.position;return e!==V.USER_ROLE&&((t=c)!==null&&t!==void 0||(c=(l=n==null?void 0:n.ai)==null?void 0:l.position)),(a=c)!==null&&a!==void 0||(c=(u=n==null?void 0:n.default)==null?void 0:u.position),(r=c)!==null&&r!==void 0||(c=e===V.USER_ROLE?"right":"left"),c}},{key:"applyStyle",value:function(e,n,t){var a,r,o,l;Object.assign(e.style,(a=t.default)==null?void 0:a.style),n===V.USER_ROLE?Object.assign(e.style,(r=t.user)==null?void 0:r.style):(Object.assign(e.style,(o=t.ai)==null?void 0:o.style),Object.assign(e.style,(l=t[n])==null?void 0:l.style))}},{key:"getNameText",value:function(e,n){var t,a,r,o,l,u;return e===V.USER_ROLE?((t=n.user)==null?void 0:t.text)||((a=n.default)==null?void 0:a.text)||"User":e===V.AI_ROLE?((r=n.ai)==null?void 0:r.text)||((o=n.default)==null?void 0:o.text)||"AI":((l=n[e])==null?void 0:l.text)||((u=n.default)==null?void 0:u.text)||e}},{key:"createName",value:function(e,n){var t=document.createElement("div");return t.classList.add(i.NAME_CLASS),t.textContent=i.getNameText(e,n),i.applyStyle(t,e,n),t}},{key:"add",value:function(e,n,t){var a=typeof t=="boolean"?{}:t,r=i.createName(n,a),o=i.getPosition(n,a);r.classList.add(o==="left"?"left-item-position":"right-item-position"),e.insertAdjacentElement(o==="left"?"beforebegin":"afterend",r)}}])}();Qr.NAME_CLASS="name";var xi=Qr,bn=function(){function i(){w(this,i)}return S(i,null,[{key:"getLastElementsByClass",value:function(e,n,t){for(var a=function(){var u=e[o];if(u.bubbleElement.classList.contains(n[0])&&!n.slice(1).find(function(c){return!u.bubbleElement.classList.contains(c)}))if(t){if(!t.find(function(c){return u.bubbleElement.classList.contains(c)}))return{v:u}}else return{v:u}},r,o=e.length-1;o>=0;o-=1)if(r=a(),r)return r.v}},{key:"getLastMessage",value:function(e,n,t){for(var a=e.length-1;a>=0;a-=1)if(e[a][0].role===n)if(t){if(e[a][0][t])return e[a][0]}else return e[a][0]}},{key:"getLastTextToElement",value:function(e,n){for(var t=e.length-1;t>=0;t-=1)if(e[t][0]===n)return e[t]}},{key:"overwriteMessage",value:function(e,n,t,a,r,o){var l=i.getLastElementsByClass(n,[i.getRoleClass(a),o],[wn.BUBBLE_CLASS]),u=i.getLastMessage(e,a,r);return u&&(u[r]=t),l}},{key:"getRoleClass",value:function(e){return"".concat(e,"-message")}},{key:"fillEmptyMessageElement",value:function(e,n){n.trim().length===0&&(e.classList.add(i.EMPTY_MESSAGE_CLASS),e.innerHTML='<div style="color:#00000000">.</div>')}},{key:"unfillEmptyMessageElement",value:function(e,n){e.classList.contains(i.EMPTY_MESSAGE_CLASS)&&n.trim().length>0&&e.replaceChildren()}},{key:"getLastMessageBubbleElement",value:function(e){var n,t,a;return Array.from(((a=(t=(n=i.getLastMessageElement(e))==null?void 0:n.children)==null?void 0:t[0])==null?void 0:a.children)||[]).find(function(r){return r.classList.contains("message-bubble")})}},{key:"getLastMessageElement",value:function(e){return e.children[e.children.length-1]}},{key:"addRoleElements",value:function(e,n,t,a){t&&Ii.add(e,n,t),a&&xi.add(e,n,a)}},{key:"hideRoleElements",value:function(e,n,t){var a=e[e.length-1].innerContainer;n&&Ii.hide(a),t&&xi.hide(a)}},{key:"revealRoleElements",value:function(e,n,t){n&&Ii.reveal(e),t&&xi.reveal(e)}},{key:"updateRefArr",value:function(e,n,t){t?e.unshift(n):e.push(n)}},{key:"buildRoleContainerClass",value:function(e){return"deep-chat-".concat(e,"-container")}},{key:"addNewPositionClasses",value:function(e,n){var t;e.outerContainer.classList.remove(i.POSITION_TOP_MESSAGE_CLASS,i.POSITION_MIDDLE_MESSAGE_CLASS,i.POSITION_BOTTOM_MESSAGE_CLASS),(t=e.outerContainer.classList).add.apply(t,ni(n))}},{key:"getNumberOfElements",value:function(e){var n=0;return e.text!==void 0&&(n+=1),e.html!==void 0&&(n+=1),e.files&&(n+=e.files.length),n}},{key:"filterdMessageElements",value:function(e,n){return e.filter(function(t){return t.bubbleElement.classList.contains(n)})}},{key:"findMessageElements",value:function(e,n){return e.find(function(t){return t.bubbleElement.classList.contains(n)})}},{key:"generateMessageBodyElements",value:function(e,n){var t={};return e.text&&(t.text=i.findMessageElements(n,Tn.TEXT_BUBBLE_CLASS)),e.html&&(t.html=i.findMessageElements(n,dn.HTML_BUBBLE_CLASS)),e.files&&(t.files=i.filterdMessageElements(n,_e.FILE_BUBBLE_CLASS)),t}},{key:"generateMessageBody",value:function(e,n){var t=i.getNumberOfElements(e),a=n.slice(n.length-t);return i.generateMessageBodyElements(e,a)}},{key:"classifyMessages",value:function(e,n){var t=i.buildRoleContainerClass(e);n.forEach(function(a,r){var o=a.outerContainer.classList.contains(t),l=n[r-1],u=n[r+1],c=l==null?void 0:l.outerContainer.classList.contains(t),d=u==null?void 0:u.outerContainer.classList.contains(t);o&&(!c&&d?i.addNewPositionClasses(a,[i.POSITION_TOP_MESSAGE_CLASS]):c&&d?i.addNewPositionClasses(a,[i.POSITION_MIDDLE_MESSAGE_CLASS]):c&&!d?i.addNewPositionClasses(a,[i.POSITION_BOTTOM_MESSAGE_CLASS]):!c&&!d&&i.addNewPositionClasses(a,[i.POSITION_TOP_MESSAGE_CLASS,i.POSITION_BOTTOM_MESSAGE_CLASS]))})}}])}();bn.AI_ROLE="ai",bn.USER_ROLE="user",bn.EMPTY_MESSAGE_CLASS="empty-message",bn.POSITION_TOP_MESSAGE_CLASS="deep-chat-top-message",bn.POSITION_MIDDLE_MESSAGE_CLASS="deep-chat-middle-message",bn.POSITION_BOTTOM_MESSAGE_CLASS="deep-chat-bottom-message";var V=bn,Jr=function(){function i(s){w(this,i),this._fileAdded=!1,this._streamType="",this._hasStreamEnded=!1,this._messages=s}return S(i,[{key:"upsertStreamedMessage",value:function(e){var n;if(!this._hasStreamEnded){if((e==null?void 0:e.text)===void 0&&(e==null?void 0:e.html)===void 0)return console.error(fe.INVALID_STREAM_EVENT);var t=(e==null?void 0:e.text)||(e==null?void 0:e.html)||"",a=Ze.isScrollbarAtBottomOfElement(this._messages.elementRef),r=(e==null?void 0:e.text)!==void 0?"text":"html";if(!this._elements&&!this._message)this.setInitialState(r,t,e==null?void 0:e.role);else{if(this._streamType!==r)return console.error(fe.INVALID_STREAM_EVENT_MIX);this.updateBasedOnType(t,r,(n=this._elements)==null?void 0:n.bubbleElement,e==null?void 0:e.overwrite)}a&&Ze.scrollToBottom(this._messages.elementRef)}}},{key:"setInitialState",value:function(e,n,t){var a;this._streamType=e,(a=t)!==null&&a!==void 0||(t=V.AI_ROLE),this._elements=e==="text"?this._messages.addNewTextMessage(n,t):dn.add(this._messages,n,t,this._messages.messageElementRefs),this._elements.bubbleElement.classList.add(i.MESSAGE_CLASS),this._activeMessageRole=t,this._message=Jt({role:this._activeMessageRole},e,n),this._messages.messageToElements.push([this._message,Jt({},e,this._elements)])}},{key:"updateBasedOnType",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;V.unfillEmptyMessageElement(t,e),(n==="text"?this.updateText:this.updateHTML).bind(this)(e,t,a)}},{key:"updateText",value:function(e,n,t){this._message&&(this._message.text=t?e:this._message.text+e,this._messages.renderText(n,this._message.text))}},{key:"updateHTML",value:function(e,n,t){if(this._message)if(t)this._message.html=e,n.innerHTML=e;else{var a=document.createElement("span");a.innerHTML=e,n.appendChild(a),this._message.html=(n==null?void 0:n.innerHTML)||""}}},{key:"finaliseStreamedMessage",value:function(){var e;if(!(this._endStreamAfterOperation||!this._message)&&!(this._fileAdded&&!this._elements)){if(!this._elements)throw Error(fe.NO_VALID_STREAM_EVENTS_SENT);(e=this._elements.bubbleElement)!=null&&e.classList.contains(i.MESSAGE_CLASS)&&(this._streamType==="text"?this._messages.textToSpeech&&Ft.speak(this._message.text||"",this._messages.textToSpeech):this._streamType==="html"&&this._elements&&Hn.apply(this._messages,this._elements.outerContainer),this._elements.bubbleElement.classList.remove(i.MESSAGE_CLASS),this._message&&this._messages.sendClientUpdate(Tn.createMessageContent(this._message),!1),this._hasStreamEnded=!0)}}},{key:"markFileAdded",value:function(){this._fileAdded=!0}},{key:"newMessage",value:function(){this.finaliseStreamedMessage(),this._elements=void 0,delete this._message,this._fileAdded=!1,this._hasStreamEnded=!1,this._activeMessageRole=void 0}},{key:"endStreamAfterFileDownloaded",value:function(){var s=k(h().mark(function n(t,a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this._endStreamAfterOperation=!0,d.next=3,a();case 3:o=d.sent,l=o.text,u=o.files,l&&this.updateBasedOnType(l,"text",(r=this._elements)==null?void 0:r.bubbleElement,!0),this._endStreamAfterOperation=!1,this.finaliseStreamedMessage(),u&&t.addNewMessage({files:u});case 7:case"end":return d.stop()}},n,this)}));function e(n,t){return s.apply(this,arguments)}return e}()}])}();Jr.MESSAGE_CLASS="streamed-message";var mn=Jr,$r=function(){function i(){w(this,i)}return S(i,null,[{key:"tempRemoveContentHeader",value:function(){var s=k(h().mark(function n(t,a,r){var o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t!=null&&t.headers){c.next=2;break}throw new Error("Request settings have not been set up");case 2:return o=t.headers[i.CONTENT_TYPE],delete t.headers[i.CONTENT_TYPE],c.prev=4,c.next=7,a(r);case 7:l=c.sent,c.next=13;break;case 10:throw c.prev=10,c.t0=c.catch(4),t.headers[i.CONTENT_TYPE]=o,c.t0;case 13:return c.abrupt("return",(t.headers[i.CONTENT_TYPE]=o,l));case 14:case"end":return c.stop()}},n,null,[[4,10]])}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"displayError",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Service error, please try again.";if(console.error(n),B(n)=="object")return n instanceof Error?e.addNewErrorMessage("service",n.message):Array.isArray(n)||typeof n.error=="string"?e.addNewErrorMessage("service",n):Object.keys(n).length===0?e.addNewErrorMessage("service",t):e.addNewErrorMessage("service",JSON.stringify(n));e.addNewErrorMessage("service",n)}},{key:"fetch",value:function(s){function e(n,t,a,r){return s.apply(this,arguments)}return e.toString=function(){return s.toString()},e}(function(s,e,n,t){var a,r,o={method:((a=s.connectSettings)==null?void 0:a.method)||"POST",headers:e};return o.method!=="GET"&&(o.body=n?JSON.stringify(t):t),s.connectSettings.credentials&&(o.credentials=s.connectSettings.credentials),fetch(((r=s.connectSettings)==null?void 0:r.url)||s.url||"",o)})},{key:"processResponseByType",value:function(e){var n=e.headers.get("content-type");return n!=null&&n.includes("application/json")?e.json():n!=null&&n.includes("text/plain")||!n?e:e.blob()}},{key:"processRequestInterceptor",value:function(){var s=k(h().mark(function n(t,a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(r=t.requestInterceptor)==null?void 0:r.call(t,a);case 2:if(d.t0=d.sent,d.t0){d.next=5;break}d.t0=a;case 5:return o=d.t0,l=o,u=o,d.abrupt("return",{body:l.body,headers:l.headers,error:u.error});case 9:case"end":return d.stop()}},n)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"validateResponseFormat",value:function(e){return e&&B(e)=="object"&&(typeof e.error=="string"||typeof e.text=="string"||typeof e.html=="string"||Array.isArray(e.files))}},{key:"onInterceptorError",value:function(e,n,t){e.addNewErrorMessage("service",n),t==null||t()}}])}();$r.CONTENT_TYPE="Content-Type";var W=$r;function c0(i,s){return na.apply(this,arguments)}function na(){return na=k(h().mark(function i(s,e){var n,t;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=s.getReader();case 1:return r.next=3,n.read();case 3:if((t=r.sent).done){r.next=7;break}e(t.value);case 5:r.next=1;break;case 7:case"end":return r.stop()}},i)})),na.apply(this,arguments)}function d0(i){var s,e,n,t=!1;return function(a){s===void 0?(s=a,e=0,n=-1):s=p0(s,a);for(var r=s.length,o=0;e<r;){t&&(s[e]===10&&(o=++e),t=!1);for(var l=-1;e<r&&l===-1;++e)switch(s[e]){case 58:n===-1&&(n=e-o);break;case 13:t=!0;case 10:l=e;break}if(l===-1)break;i(s.subarray(o,l),n),o=e,n=-1}o===r?s=void 0:o!==0&&(s=s.subarray(o),e-=o)}}function m0(i,s,e){var n=Ts(),t=new TextDecoder;return function(a,r){if(a.length===0)e==null||e(n),n=Ts();else if(r>0){var o=t.decode(a.subarray(0,r)),l=r+(a[r+1]===32?2:1),u=t.decode(a.subarray(l));switch(o){case"data":n.data=n.data?n.data+`
`+u:u;break;case"event":n.event=u;break;case"id":i(n.id=u);break;case"retry":var c=parseInt(u,10);isNaN(c)||s(n.retry=c);break}}}}function p0(i,s){var e=new Uint8Array(i.length+s.length);return e.set(i),e.set(s,i.length),e}function Ts(){return{data:"",event:"",id:"",retry:void 0}}var f0=function(s,e){var n={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(n[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(s);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(s,t[a])&&(n[t[a]]=s[t[a]]);return n},ta="text/event-stream",g0=1e3,Cs="last-event-id";function h0(i,s){var e=s.signal,n=s.headers,t=s.onopen,a=s.onmessage,r=s.onclose,o=s.onerror,l=s.openWhenHidden,u=s.fetch,c=f0(s,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise(function(d,m){var p=Object.assign({},n);p.accept||(p.accept=ta);var f;function g(){f.abort(),document.hidden||A()}l||document.addEventListener("visibilitychange",g);var y=g0,v=0;function b(){document.removeEventListener("visibilitychange",g),window.clearTimeout(v),f.abort()}e==null||e.addEventListener("abort",function(){b(),d()});var _=u??window.fetch,C=t??y0;function A(){return x.apply(this,arguments)}function x(){return x=k(h().mark(function D(){var R,j,O;return h().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return f=new AbortController,Z.prev=1,Z.next=4,_(i,Object.assign(Object.assign({},c),{headers:p,signal:f.signal}));case 4:return j=Z.sent,Z.next=7,C(j);case 7:return Z.next=9,c0(j.body,d0(m0(function(oe){oe?p[Cs]=oe:delete p[Cs]},function(oe){y=oe},a)));case 9:r==null||r(),b(),d(),Z.next=17;break;case 14:if(Z.prev=14,Z.t0=Z.catch(1),!f.signal.aborted)try{O=(R=o==null?void 0:o(Z.t0))!==null&&R!==void 0?R:y,window.clearTimeout(v),v=window.setTimeout(A,O)}catch(oe){b(),m(oe)}case 17:case"end":return Z.stop()}},D,null,[[1,14]])})),x.apply(this,arguments)}A()})}function y0(i){var s=i.headers.get("content-type");if(!(s!=null&&s.startsWith(ta)))throw new Error("Expected content-type to be ".concat(ta,", Actual: ").concat(s))}var ye=function(){function i(){w(this,i)}return S(i,null,[{key:"request",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u,c,d,m,p,f,g,y,v,b,_,C,A,x,D,R,j,O=arguments;return h().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return o=O.length>3&&O[3]!==void 0?O[3]:!0,l=O.length>4&&O[4]!==void 0?O[4]:!1,g={body:a,headers:(u=t.connectSettings)==null?void 0:u.headers},Z.next=5,W.processRequestInterceptor(t.deepChat,g);case 5:if(y=Z.sent,v=y.body,b=y.headers,_=y.error,C=t.streamHandlers,A=C.onOpen,x=C.onClose,D=C.abortStream,!_){Z.next=15;break}return Z.abrupt("return",W.onInterceptorError(r,_,x));case 15:if(!((c=t.connectSettings)!=null&&c.handler)){Z.next=17;break}return Z.abrupt("return",Ma.stream(t,v,r));case 17:if(((d=t.connectSettings)==null?void 0:d.url)!==pn.URL){Z.next=19;break}return Z.abrupt("return",pn.requestStream(r,t.streamHandlers));case 19:return R=new mn(r),j=W.fetch.bind(this,t,b,o),Z.abrupt("return",(h0(((m=t.connectSettings)==null?void 0:m.url)||t.url||"",{method:((p=t.connectSettings)==null?void 0:p.method)||"POST",headers:b,credentials:(f=t.connectSettings)==null?void 0:f.credentials,body:o?JSON.stringify(v):v,openWhenHidden:!0,onopen:function(J){return k(h().mark(function ge(){return h().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!J.ok){I.next=2;break}return I.abrupt("return",A());case 2:return I.next=4,W.processResponseByType(J);case 4:throw I.sent;case 5:case"end":return I.stop()}},ge)}))()},onmessage:function(J){return k(h().mark(function ge(){var M,I,E,L,H;return h().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(JSON.stringify(J.data)===JSON.stringify("[DONE]")){ee.next=9;break}try{L=JSON.parse(J.data)}catch{L={}}return ee.next=4,(I=(M=t.deepChat).responseInterceptor)==null?void 0:I.call(M,L);case 4:if(ee.t0=ee.sent,ee.t0){ee.next=7;break}ee.t0=L;case 7:H=ee.t0,(E=t.extractResultData)==null||E.call(t,H,j,v).then(function(pe){t.asyncCallInProgress&&pe&&pe.text!==""?(i.simulate(r,t.streamHandlers,pe),x(),t.asyncCallInProgress=!1):i.upsertWFiles(r,R.upsertStreamedMessage.bind(R),R,pe)}).catch(function(pe){return W.displayError(r,pe)});case 9:case"end":return ee.stop()}},ge)}))()},onerror:function(J){throw x(),J},onclose:function(){if(!t.asyncCallInProgress)try{R.finaliseStreamedMessage(),x()}catch(J){if(!l)throw J}},signal:D.signal}).catch(function(oe){var J;r.isLastMessageError()||(J=t.extractResultData)==null||J.call(t,oe).then(function(){W.displayError(r,oe)}).catch(function(ge){W.displayError(r,ge)})}),R));case 21:case"end":return Z.stop()}},n,this)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"simulate",value:function(e,n,t){var a=n;if(t.files&&e.addNewMessage(ne({sendUpdate:!1,ignoreText:!0},t),!1),t.text){n.onOpen();var r=t.text.split("");i.populateMessages(r,new mn(e),a,"text")}if(t.html){n.onOpen();var o=Hn.splitHTML(t.html);o.length===0&&(o=t.html.split("")),i.populateMessages(o,new mn(e),a,"html")}}},{key:"populateMessages",value:function(e,n,t,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=e[r];if(o){n.upsertStreamedMessage(Jt({},a,o));var l=setTimeout(function(){i.populateMessages(e,n,t,a,r+1)},t.simulationInterim||6);t.abortStream.abort=function(){i.abort(l,n,t.onClose)}}else n.finaliseStreamedMessage(),t.onClose()}},{key:"isSimulation",value:function(e){return B(e)=="object"&&!!e.simulation}},{key:"isSimulatable",value:function(e,n){return i.isSimulation(e)&&n&&(n.text||n.html)}},{key:"abort",value:function(e,n,t){clearTimeout(e),n.finaliseStreamedMessage(),t()}},{key:"upsertWFiles",value:function(e,n,t,a){if(a!=null&&a.text||a!=null&&a.html){var r,o=n(a);(r=t)!==null&&r!==void 0||(t=o||void 0)}a!=null&&a.files&&(e.addNewMessage({files:a.files}),t==null||t.markFileAdded())}}])}(),Wr=function(){function i(){w(this,i)}return S(i,null,[{key:"generateResponse",value:function(e){var n=e[e.length-1][0];if(n.files&&n.files.length>0){if(n.files.length>1)return"These are interesting files!";var t=n.files[0];return t.src&&t.src.startsWith("data:image/gif")?"That is a nice gif!":t.type==="image"?"That is a nice image!":t.type==="audio"?"I like the sound of that!":"That is an interesting file!"}if(n.text){if(n.text.charAt(n.text.length-1)==="?")return"I'm sorry but I can't answer that question...";if(n.text.includes("updog"))return"What's updog?"}return"Hi there! This is a demo response!"}},{key:"getCustomResponse",value:function(e,n){return typeof e=="function"?e(n):e}},{key:"getResponse",value:function(e){var n=e.customDemoResponse,t=e.messageToElements;return n?i.getCustomResponse(n,t[t.length-1][0]):{text:i.generateResponse(t)}}},{key:"request",value:function(e,n){var t=i.getResponse(n);setTimeout(k(h().mark(function a(){var r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(o=(r=e.deepChat).responseInterceptor)==null?void 0:o.call(r,t);case 2:if(c.t0=c.sent,c.t0){c.next=5;break}c.t0=t;case 5:l=c.t0,l.error?(n.addNewErrorMessage("service",l.error),e.completionsHandlers.onFinish()):ye.isSimulatable(e.stream,l)?ye.simulate(n,e.streamHandlers,l):(n.addNewMessage(l),e.completionsHandlers.onFinish());case 7:case"end":return c.stop()}},a)})),400)}},{key:"requestStream",value:function(e,n){setTimeout(function(){var t=i.getResponse(e);ye.simulate(e,n,t)},400)}}])}();Wr.URL="deep-chat-demo";var pn=Wr,ft=function(){function i(){w(this,i)}return S(i,null,[{key:"setup",value:function(e){e.connectSettings.url!==pn.URL&&(e.permittedErrorPrefixes=["Connection error","Error in server message"],e.websocket="pending")}},{key:"isElementPresentInDOM",value:function(e){return e.getRootNode({composed:!0})instanceof Document}},{key:"createConnection",value:function(e,n){if(i.isElementPresentInDOM(e.deepChat)){var t=e.connectSettings.websocket;if(t){if(e.connectSettings.handler)return Ma.websocket(e,n);try{var a=typeof t!="boolean"?t:void 0,r=new WebSocket(e.connectSettings.url||"",a);e.websocket=r,e.websocket.onopen=function(){var o,l;n.removeError(),e.websocket&&B(e.websocket)=="object"&&i.assignListeners(e,r,n),(l=(o=e.deepChat)._validationHandler)==null||l.call(o)},e.websocket.onerror=function(o){console.error(o),i.retryConnection(e,n)}}catch(o){console.error(o),i.retryConnection(e,n)}}}}},{key:"retryConnection",value:function(e,n){var t,a;(a=(t=e.deepChat)._validationHandler)==null||a.call(t),i.isElementPresentInDOM(e.deepChat)&&(e.websocket="pending",n.isLastMessageError()||n.addNewErrorMessage("service","Connection error"),setTimeout(function(){i.createConnection(e,n)},5e3))}},{key:"assignListeners",value:function(e,n,t){var a=this,r={};n.onmessage=function(){var o=k(h().mark(function l(u){var c,d,m,p,f,g,y;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!e.extractResultData){b.next=20;break}return b.prev=1,m=JSON.parse(u.data),b.next=5,(d=(c=e.deepChat).responseInterceptor)==null?void 0:d.call(c,m);case 5:if(b.t0=b.sent,b.t0){b.next=8;break}b.t0=m;case 8:return p=b.t0,b.next=11,e.extractResultData(p);case 11:if(f=b.sent,!(!f||B(f)!="object")){b.next=14;break}throw Error(fe.INVALID_RESPONSE(m,"server",!!e.deepChat.responseInterceptor,p));case 14:ye.isSimulation(e.stream)?(g=i.stream.bind(a,e,t,r),y=r[m.role||V.AI_ROLE],ye.upsertWFiles(t,g,y,f)):t.addNewMessage(f),b.next=20;break;case 17:b.prev=17,b.t1=b.catch(1),W.displayError(t,b.t1,"Error in server message");case 20:case"end":return b.stop()}},l,null,[[1,17]])}));return function(l){return o.apply(this,arguments)}}(),n.onclose=function(){console.error("Connection closed"),t.isLastMessageError()||t.addNewErrorMessage("service","Connection error"),e.stream&&e.streamHandlers.abortStream.abort(),i.createConnection(e,t)}}},{key:"sendWebsocket",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u,c,d,m,p,f,g,y=arguments;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o=y.length>3&&y[3]!==void 0?y[3]:!0,c=t.websocket,!(!c||c==="pending")){b.next=4;break}return b.abrupt("return");case 4:return d={body:a,headers:(l=t.connectSettings)==null?void 0:l.headers},b.next=7,W.processRequestInterceptor(t.deepChat,d);case 7:if(m=b.sent,p=m.body,f=m.error,!f){b.next=12;break}return b.abrupt("return",r.addNewErrorMessage("service",f));case 12:if(i.isWebSocket(c)){b.next=14;break}return b.abrupt("return",c.newUserMessage.listener(p));case 14:if(g=o?JSON.stringify(p):p,((u=t.connectSettings)==null?void 0:u.url)!==pn.URL){b.next=17;break}return b.abrupt("return",pn.request(t,r));case 17:c.readyState===void 0||c.readyState!==c.OPEN?(console.error("Connection is not open"),r.isLastMessageError()||r.addNewErrorMessage("service","Connection error")):(c.send(JSON.stringify(g)),t.completionsHandlers.onFinish());case 18:case"end":return b.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"canSendMessage",value:function(e){return e?e==="pending"?!1:i.isWebSocket(e)?e.readyState!==void 0&&e.readyState===e.OPEN:e.isOpen:!0}},{key:"isWebSocket",value:function(e){return e.send!==void 0}},{key:"stream",value:function(e,n,t,a){if(a){var r=e.stream.simulation;if(typeof r=="string"){var o,l=a.role||V.AI_ROLE,u=t[l];a.text===r||a.html===r?(u==null||u.finaliseStreamedMessage(),delete t[l]):((o=t[l])!==null&&o!==void 0||(t[l]=new mn(n)),t[l].upsertStreamedMessage(a))}else ye.simulate(n,e.streamHandlers,a)}}}])}(),Ma=function(){function i(){w(this,i)}return S(i,null,[{key:"request",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=!0,c=function(){var f=k(h().mark(function g(y){var v,b,_;return h().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(u){A.next=2;break}return A.abrupt("return");case 2:return u=!1,A.next=5,(b=(v=t.deepChat).responseInterceptor)==null?void 0:b.call(v,y);case 5:if(A.t0=A.sent,A.t0){A.next=8;break}A.t0=y;case 8:_=A.t0,W.validateResponseFormat(_)?typeof _.error=="string"?(console.error(_.error),r.addNewErrorMessage("service",_.error),t.completionsHandlers.onFinish()):ye.isSimulatable(t.stream,_)?ye.simulate(r,t.streamHandlers,_):(r.addNewMessage(_),t.completionsHandlers.onFinish()):(console.error(fe.INVALID_RESPONSE(y,"server",!!t.deepChat.responseInterceptor,_)),r.addNewErrorMessage("service","Error in server message"),t.completionsHandlers.onFinish());case 10:case"end":return A.stop()}},g)}));return function(y){return f.apply(this,arguments)}}(),d=i.generateOptionalSignals(),(l=(o=t.connectSettings).handler)==null||l.call(o,a,ne(ne({},d),{},{onResponse:c}));case 3:case"end":return p.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"attemptToFinaliseStream",value:function(e,n){try{var t=n.messageElementRefs[n.messageElementRefs.length-1];Tn.isLoadingMessage(t)?n.removeLastMessage():e.finaliseStreamedMessage()}catch(a){console.error(a),n.addNewErrorMessage("service",a)}}},{key:"stream",value:function(e,n,t){var a,r,o=!0,l=!1,u=new mn(t),c=function(){l||!o||(e.streamHandlers.onOpen(),l=!0)},d=function(){o&&(i.attemptToFinaliseStream(u,t),e.streamHandlers.onClose(),o=!1)},m=function(){var f=k(h().mark(function g(y){var v,b,_;return h().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(o){A.next=2;break}return A.abrupt("return");case 2:return A.next=4,(b=(v=e.deepChat).responseInterceptor)==null?void 0:b.call(v,y);case 4:if(A.t0=A.sent,A.t0){A.next=7;break}A.t0=y;case 7:_=A.t0,W.validateResponseFormat(_)?_.error?(console.error(_.error),u.finaliseStreamedMessage(),t.addNewErrorMessage("service",_.error),e.streamHandlers.onClose(),o=!1):ye.upsertWFiles(t,u.upsertStreamedMessage.bind(u),u,_):console.error(fe.INVALID_RESPONSE(y,"server",!!e.deepChat.responseInterceptor,_));case 9:case"end":return A.stop()}},g)}));return function(y){return f.apply(this,arguments)}}();e.streamHandlers.abortStream.abort=function(){i.attemptToFinaliseStream(u,t),e.streamHandlers.onClose(),o=!1};var p=i.generateOptionalSignals();(r=(a=e.connectSettings).handler)==null||r.call(a,n,ne(ne({},p),{},{onOpen:c,onResponse:m,onClose:d,stopClicked:e.streamHandlers.stopClicked}))}},{key:"websocket",value:function(e,n){var t=this,a,r,o={isOpen:!1,newUserMessage:{listener:function(){}},roleToStream:{}};e.websocket=o;var l=function(){n.removeError(),o.isOpen=!0},u=function(){o.isOpen=!1},c=function(){var m=k(h().mark(function p(f){var g,y,v,b,_;return h().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(o.isOpen){A.next=2;break}return A.abrupt("return");case 2:return A.next=4,(y=(g=e.deepChat).responseInterceptor)==null?void 0:y.call(g,f);case 4:if(A.t0=A.sent,A.t0){A.next=7;break}A.t0=f;case 7:v=A.t0,W.validateResponseFormat(v)?typeof v.error=="string"?(console.error(v.error),n.isLastMessageError()||n.addNewErrorMessage("service",v.error)):ye.isSimulation(e.stream)?(b=ft.stream.bind(t,e,n,o.roleToStream),_=o.roleToStream[f.role||V.AI_ROLE],ye.upsertWFiles(n,b,_,f)):n.addNewMessage(v):(console.error(fe.INVALID_RESPONSE(f,"server",!!e.deepChat.responseInterceptor,v)),n.addNewErrorMessage("service","Error in server message"));case 9:case"end":return A.stop()}},p)}));return function(f){return m.apply(this,arguments)}}(),d=i.generateOptionalSignals();(r=(a=e.connectSettings).handler)==null||r.call(a,void 0,ne(ne({},d),{},{onOpen:l,onResponse:c,onClose:u,newUserMessage:o.newUserMessage}))}},{key:"generateOptionalSignals",value:function(){return{onClose:function(){},onOpen:function(){},stopClicked:{listener:function(){}},newUserMessage:{listener:function(){}}}}}])}(),me=function(){function i(){w(this,i)}return S(i,null,[{key:"request",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u,c,d,m,p,f,g,y,v,b,_=arguments;return h().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return o=_.length>3&&_[3]!==void 0?_[3]:!0,d={body:a,headers:(l=t.connectSettings)==null?void 0:l.headers},A.next=4,W.processRequestInterceptor(t.deepChat,d);case 4:if(m=A.sent,p=m.body,f=m.headers,g=m.error,y=t.completionsHandlers.onFinish,!g){A.next=11;break}return A.abrupt("return",W.onInterceptorError(r,g,y));case 11:if(!((u=t.connectSettings)!=null&&u.handler)){A.next=13;break}return A.abrupt("return",Ma.request(t,p,r));case 13:if(((c=t.connectSettings)==null?void 0:c.url)!==pn.URL){A.next=15;break}return A.abrupt("return",pn.request(t,r));case 15:v=!0,b=W.fetch.bind(this,t,f,o),b(p).then(function(x){return v=!!x.ok,x}).then(function(x){return W.processResponseByType(x)}).then(function(){var x=k(h().mark(function D(R){var j,O,se,Z;return h().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(t.extractResultData){J.next=2;break}return J.abrupt("return");case 2:return J.next=4,(O=(j=t.deepChat).responseInterceptor)==null?void 0:O.call(j,R);case 4:if(J.t0=J.sent,J.t0){J.next=7;break}J.t0=R;case 7:return se=J.t0,J.next=10,t.extractResultData(se,b,p);case 10:if(Z=J.sent,v){J.next=13;break}throw R;case 13:if(!(!Z||B(Z)!="object")){J.next=15;break}throw Error(fe.INVALID_RESPONSE(R,"response",!!t.deepChat.responseInterceptor,se));case 15:Z.makingAnotherRequest||(ye.isSimulatable(t.stream,Z)?ye.simulate(r,t.streamHandlers,Z):(r.addNewMessage(Z),y()));case 16:case"end":return J.stop()}},D)}));return function(D){return x.apply(this,arguments)}}()).catch(function(x){W.displayError(r,x),y()});case 18:case"end":return A.stop()}},n,this)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"executePollRequest",value:function(e,n,t,a){var r=e.completionsHandlers.onFinish;fetch(n,t).then(function(o){return o.json()}).then(function(){var o=k(h().mark(function l(u){var c,d,m;return h().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e.extractPollResultData){f.next=2;break}return f.abrupt("return");case 2:return f.t0=e,f.next=5,(d=(c=e.deepChat).responseInterceptor)==null?void 0:d.call(c,u);case 5:if(f.t1=f.sent,f.t1){f.next=8;break}f.t1=u;case 8:return f.t2=f.t1,f.next=11,f.t0.extractPollResultData.call(f.t0,f.t2);case 11:m=f.sent,m.timeoutMS?setTimeout(function(){i.executePollRequest(e,n,t,a)},m.timeoutMS):ye.isSimulatable(e.stream,m)?ye.simulate(a,e.streamHandlers,m):(a.addNewMessage(m),r());case 13:case"end":return f.stop()}},l)}));return function(l){return o.apply(this,arguments)}}()).catch(function(o){W.displayError(a,o),r()})}},{key:"poll",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u,c,d,m,p,f,g,y,v,b,_,C=arguments;return h().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return o=C.length>3&&C[3]!==void 0?C[3]:!0,d={body:a,headers:(l=t.connectSettings)==null?void 0:l.headers},x.next=4,W.processRequestInterceptor(t.deepChat,d);case 4:if(m=x.sent,p=m.body,f=m.headers,g=m.error,!g){x.next=10;break}return x.abrupt("return",W.onInterceptorError(r,g));case 10:y=((u=t.connectSettings)==null?void 0:u.url)||t.url||"",v=((c=t.connectSettings)==null?void 0:c.method)||"POST",b=o?JSON.stringify(p):p,_={method:v,body:b,headers:f},t.connectSettings.credentials&&(_.credentials=t.connectSettings.credentials),i.executePollRequest(t,y,_,r);case 12:case"end":return x.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"verifyKey",value:function(e,n,t,a,r,o,l,u,c){if(e==="")return o(fe.INVALID_KEY);l(),fetch(n,{method:a,headers:t,body:c||null}).then(function(d){return W.processResponseByType(d)}).then(function(d){u(d,e,r,o)}).catch(function(d){o(fe.CONNECTION_FAILED),console.error(d)})}}])}(),Kr=function(){function i(s,e,n){w(this,i),this._isLoading=!1,this._isPaginationComplete=!1,this._index=0,this._messages=e,n.fetchHistory&&this.fetchHistory(n.fetchHistory),s.loadHistory&&this.setupLoadHistoryOnScroll(s.loadHistory),this.setupInitialHistory(s)}return S(i,[{key:"fetchHistory",value:function(){var s=k(h().mark(function n(t){var a=this,r,o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=Sn.addMessage(this._messages),u.next=3,t();case 3:o=u.sent,this._messages.removeMessage(r),o.forEach(function(c){return a._messages.addAnyMessage(c,!0)}),setTimeout(function(){return Ze.scrollToBottom(a._messages.elementRef)},0);case 5:case"end":return u.stop()}},n,this)}));function e(n){return s.apply(this,arguments)}return e}()},{key:"processLoadedHistory",value:function(e){var n=this,t,a=this._messages,r=a.messageElementRefs,o=a.messageToElements,l=a.elementRef,u=(t=r.find(function(d){return!d.outerContainer.classList.contains(Tn.INTRO_CLASS)}))==null?void 0:t.outerContainer,c=l.scrollTop;e==null||e.reverse().map(function(d){var m=n._messages.addAnyMessage(ne(ne({},d),{},{sendUpdate:!0}),!0,!0);if(m){var p=V.generateMessageBody(m,r);o.unshift([m,p])}return m}).filter(function(d){return!!d}).reverse().forEach(function(d){return n._messages.sendClientUpdate(d,!0)}),u&&(l.scrollTop=c+u.offsetTop-40)}},{key:"populateMessages",value:function(e,n){this._messages.removeMessage(e),this._isPaginationComplete=n.findIndex(function(a){return!a})<0;var t=n.filter(function(a){return!!a});this.processLoadedHistory(t)}},{key:"setupLoadHistoryOnScroll",value:function(){var s=k(h().mark(function n(t){var a=this;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this._messages.elementRef.onscroll=k(h().mark(function l(){var u,c;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!a._isLoading&&!a._isPaginationComplete&&a._messages.elementRef.scrollTop===0)){m.next=13;break}return a._isLoading=!0,u=Sn.addMessage(a._messages,!1),m.prev=3,m.next=6,t(a._index++);case 6:c=m.sent,a.populateMessages(u,c),a._isLoading=!1,m.next=13;break;case 10:m.prev=10,m.t0=m.catch(3),a._messages.removeMessage(u),a._isPaginationComplete=!0,a._messages.addNewErrorMessage("service",i.FAILED_ERROR_MESSAGE,!0),console.error(m.t0);case 13:case"end":return m.stop()}},l,null,[[3,10]])}));case 1:case"end":return o.stop()}},n,this)}));function e(n){return s.apply(this,arguments)}return e}()},{key:"populateInitialHistory",value:function(e){var n=this;e.forEach(function(t){xe.processHistoryFile(t),n._messages.addNewMessage(t,!0)})}},{key:"loadInitialHistory",value:function(){var s=k(h().mark(function n(t){var a=this,r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this._isLoading=!0,r=Sn.addMessage(this._messages),c.prev=2,c.next=5,t(this._index++);case 5:o=c.sent,l=this._messages.elementRef.scrollTop,this.populateMessages(r,o),l===0&&setTimeout(function(){return Ze.scrollToBottom(a._messages.elementRef)},0),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),this._messages.removeMessage(r),this._isPaginationComplete=!0,this._messages.addNewErrorMessage("service",i.FAILED_ERROR_MESSAGE,!0),console.error(c.t0);case 13:this._isLoading=!1;case 14:case"end":return c.stop()}},n,this,[[2,10]])}));function e(n){return s.apply(this,arguments)}return e}()},{key:"setupInitialHistory",value:function(){var s=k(h().mark(function n(t){var a;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t.loadHistory&&this.loadInitialHistory(t.loadHistory),a=t.history||xe.processHistory(t),a&&(this.populateInitialHistory(a),this._index+=1);case 3:case"end":return o.stop()}},n,this)}));function e(n){return s.apply(this,arguments)}return e}()}],[{key:"addErrorPrefix",value:function(e){var n;(n=e.permittedErrorPrefixes)!==null&&n!==void 0||(e.permittedErrorPrefixes=[]),e.permittedErrorPrefixes.push(i.FAILED_ERROR_MESSAGE)}}])}();Kr.FAILED_ERROR_MESSAGE="Failed to load history";var qa=Kr,Pa=function(){function i(){w(this,i)}return S(i,null,[{key:"getCharacterLimitMessages",value:function(e,n){var t;if(n===-1)return e;var a=0,r=e.length-1;for(r;r>=0;r-=1){var o=(t=e[r])==null?void 0:t.text;if(o!==void 0&&(a+=o.length,a>n)){e[r].text=o.substring(0,o.length-(a-n));break}}return e.slice(Math.max(r,0))}},{key:"getMaxMessages",value:function(e,n){return e.slice(Math.max(e.length-n,0))}},{key:"processMessages",value:function(e,n,t){return n!==void 0?n>0&&(e=i.getMaxMessages(e,n)):e=[e[e.length-1]],e=JSON.parse(JSON.stringify(e)),t===void 0?e:i.getCharacterLimitMessages(e,t)}}])}(),v0=function(){function i(){w(this,i)}return S(i,null,[{key:"parseConfig",value:function(e,n,t,a){var r,o={files:n};if(B(a)=="object"){xe.processFileConfigConnect(a);var l=a.files,u=a.connect,c=a.button;l&&(l.infoModal&&(o.files.infoModal=l.infoModal,(r=l.infoModal)!=null&&r.textMarkDown&&(o.infoModalTextMarkUp=t.render(l.infoModal.textMarkDown))),l.acceptedFormats&&(o.files.acceptedFormats=l.acceptedFormats),l.maxNumberOfFiles&&(o.files.maxNumberOfFiles=l.maxNumberOfFiles)),o.button=c,u&&(u.headers||u.method||u.url||u.credentials||e.headers||e.method||e.url||e.credentials)&&(o.connect={url:(u==null?void 0:u.url)||e.url,method:(u==null?void 0:u.method)||e.method,headers:(u==null?void 0:u.headers)||e.headers,credentials:(u==null?void 0:u.credentials)||e.credentials})}return o}},{key:"processMixedFiles",value:function(e,n,t){if(t){var a={acceptedFormats:""};e.fileTypes.mixedFiles=i.parseConfig(e.connectSettings,a,n,t)}}},{key:"processMicrophone",value:function(e,n,t,a){var r,o,l,u,c,d,m,p,f=ne({acceptedFormats:"audio/*"},((l=e.fileTypes.audio)==null?void 0:l.files)||{});t&&(navigator.mediaDevices.getUserMedia!==void 0?(e.recordAudio=i.parseConfig(e.connectSettings,f,n,t),B(t)=="object"&&t.files&&((r=(u=e.recordAudio).files)!==null&&r!==void 0||(u.files={}),e.recordAudio.files.format=(c=t.files)==null?void 0:c.format,e.recordAudio.files.maxDurationSeconds=(d=t.files)==null?void 0:d.maxDurationSeconds,(m=e.fileTypes.audio)!=null&&m.files&&((o=(p=e.fileTypes.audio.files).maxNumberOfFiles)!==null&&o!==void 0||(p.maxNumberOfFiles=t.files.maxNumberOfFiles)))):a||(e.fileTypes.audio=i.parseConfig(e.connectSettings,f,n,t)))}},{key:"processAudioConfig",value:function(e,n,t,a){if(!(!t&&!a)){var r=ne({acceptedFormats:"audio/*"},(a==null?void 0:a.files)||{});e.fileTypes.audio=i.parseConfig(e.connectSettings,r,n,t)}}},{key:"processGifConfig",value:function(e,n,t,a){if(!(!t&&!a)){var r=ne({acceptedFormats:"image/gif"},(a==null?void 0:a.files)||{});e.fileTypes.gifs=i.parseConfig(e.connectSettings,r,n,t)}}},{key:"processCamera",value:function(e,n,t,a){var r,o,l,u,c,d=ne({acceptedFormats:"image/*"},((o=e.fileTypes.images)==null?void 0:o.files)||{});t&&(navigator.mediaDevices.getUserMedia!==void 0?(e.camera=i.parseConfig(e.connectSettings,d,n,t),B(t)=="object"&&(e.camera.modalContainerStyle=t.modalContainerStyle,t.files&&((r=(l=e.camera).files)!==null&&r!==void 0||(l.files={}),e.camera.files.format=(u=t.files)==null?void 0:u.format,e.camera.files.dimensions=(c=t.files)==null?void 0:c.dimensions))):a||(e.fileTypes.images=i.parseConfig(e.connectSettings,d,n,t)))}},{key:"processImagesConfig",value:function(e,n,t,a){if(!(!t&&!a)){var r=ne({acceptedFormats:"image/*"},(a==null?void 0:a.files)||{});e.fileTypes.images=i.parseConfig(e.connectSettings,r,n,t)}}},{key:"populateDefaultFileIO",value:function(e,n){var t,a,r,o,l;e&&((t=e.files)!==null&&t!==void 0||(e.files={}),(a=(o=e.files).acceptedFormats)!==null&&a!==void 0||(o.acceptedFormats=n),(r=(l=e.files).maxNumberOfFiles)!==null&&r!==void 0||(l.maxNumberOfFiles=1))}},{key:"set",value:function(e,n,t){i.populateDefaultFileIO(t==null?void 0:t.audio,".4a,.mp3,.webm,.mp4,.mpga,.wav,.mpeg,.m4a"),i.populateDefaultFileIO(t==null?void 0:t.images,".png,.jpg");var a=Xi.createNew(e.remarkable);i.processImagesConfig(n,a,e.images,t==null?void 0:t.images),i.processCamera(n,a,e.camera,e.images),i.processGifConfig(n,a,e.gifs,t==null?void 0:t.gifs),i.processAudioConfig(n,a,e.audio,t==null?void 0:t.audio),i.processMicrophone(n,a,e.microphone,e.audio),i.processMixedFiles(n,a,e.mixedFiles)}}])}(),Wt=function(){function i(s,e,n){var t;w(this,i);var a,r,o,l,u;this.rawBody={},this.validateKeyProperty=!1,this.canSendMessage=i.canSendMessage,this.connectSettings={},this.fileTypes={},this.completionsHandlers={},this.streamHandlers={},this.deepChat=s,this.demo=n,Object.assign(this.rawBody,(a=s.connect)==null?void 0:a.additionalBodyProps),this.totalMessagesMaxCharLength=(r=s==null?void 0:s.requestBodyLimits)==null?void 0:r.totalMessagesMaxCharLength,this.maxMessages=(o=s==null?void 0:s.requestBodyLimits)==null?void 0:o.maxMessages,v0.set(s,this,e),s.connect&&(this.connectSettings=s.connect),this.demo&&((t=(l=this.connectSettings).url)!==null&&t!==void 0||(l.url=pn.URL)),this.connectSettings.websocket&&ft.setup(this),this.stream=((u=this.deepChat.connect)==null?void 0:u.stream)||xe.checkForStream(this.deepChat),s.loadHistory&&qa.addErrorPrefix(this)}return S(i,[{key:"verifyKey",value:function(e,n){}},{key:"getServiceIOByType",value:function(e){if(e.type.startsWith("audio")&&this.fileTypes.audio)return this.fileTypes.audio;if(e.type.startsWith("image")){if(this.fileTypes.gifs&&e.type.endsWith("/gif"))return this.fileTypes.gifs;if(this.fileTypes.images)return this.fileTypes.images;if(this.camera)return this.camera}return this.fileTypes.mixedFiles}},{key:"request",value:function(){var s=k(h().mark(function n(t,a){var r,o=arguments;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=o.length>2&&o[2]!==void 0?o[2]:!0,u.abrupt("return",this.stream&&!ye.isSimulation(this.stream)?ye.request(this,t,a,r):me.request(this,t,a,r));case 2:case"end":return u.stop()}},n,this)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"callAPIWithText",value:function(){var s=k(h().mark(function n(t,a){var r,o,l,u,c,d,m,p;return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return m=ne({messages:a},this.rawBody),p=!1,(l=this.connectSettings.headers)!=null&&l["Content-Type"]||((r=(u=this.connectSettings).headers)!==null&&r!==void 0||(u.headers={}),(o=(c=this.connectSettings.headers)["Content-Type"])!==null&&o!==void 0||(c["Content-Type"]="application/json"),p=!0),g.next=5,this.request(m,t);case 5:p&&((d=this.connectSettings.headers)==null||delete d["Content-Type"]);case 6:case"end":return g.stop()}},n,this)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"callApiWithFiles",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=i.createCustomFormDataBody(this.rawBody,a,r),l=this.connectSettings,u=this.getServiceIOByType(r[0]),this.connectSettings=(u==null?void 0:u.connect)||this.connectSettings,d.next=4,this.request(o,t,!1);case 4:this.connectSettings=l;case 5:case"end":return d.stop()}},n,this)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"callServiceAPI",value:function(){var s=k(h().mark(function n(t,a,r){return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:r?this.callApiWithFiles(t,a,r):this.callAPIWithText(t,a);case 1:case"end":return l.stop()}},n,this)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"callAPI",value:function(){var s=k(h().mark(function n(t,a){var r,o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:r=Pa.processMessages(a.messageToElements.map(function(c){var d=Ca(c,1),m=d[0];return m}),this.maxMessages,this.totalMessagesMaxCharLength),this.connectSettings.websocket?(o=ne({messages:r},this.rawBody),ft.sendWebsocket(this,o,a,!1)):this.callServiceAPI(a,r,t.files);case 4:case"end":return u.stop()}},n,this)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"extractResultData",value:function(){var s=k(h().mark(function n(t){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.error){r.next=2;break}throw t.error;case 2:if(!t.result){r.next=4;break}return r.abrupt("return",xe.handleResponseProperty(t));case 4:if(!W.validateResponseFormat(t)){r.next=6;break}return r.abrupt("return",t);case 6:case"end":return r.stop()}},n)}));function e(n){return s.apply(this,arguments)}return e}()},{key:"isDirectConnection",value:function(){return!1}},{key:"isWebModel",value:function(){return!1}}],[{key:"canSendMessage",value:function(e,n,t){return t?!0:!!(e&&e.trim()!=="")||!!(n&&n.length>0)}},{key:"createCustomFormDataBody",value:function(e,n,t){var a=new FormData;t.forEach(function(l){return a.append("files",l)}),Object.keys(e).forEach(function(l){return a.append(l,String(e[l]))});var r=0;n.slice(0,n.length-1).forEach(function(l){a.append("message".concat(r+=1),JSON.stringify(l))});var o=n[n.length-1];return o.text&&(delete o.files,a.append("message".concat(r+=1),JSON.stringify(o))),a}}])}(),Re=function(i){function s(e,n,t,a,r){var o;w(this,s);var l;return o=z(this,s,[e,r]),o.insertKeyPlaceholderText="API Key",o.keyHelpUrl="",Object.assign(o.rawBody,(l=e.connect)==null?void 0:l.additionalBodyProps),o.keyVerificationDetails=n,o.buildHeadersFunc=t,a&&o.setApiKeyProperties(a),o.connectSettings=o.buildConnectSettings(o.key||"",e.connect),o}return U(s,i),S(s,[{key:"setApiKeyProperties",value:function(n){this.key=n.key,n.validateKeyProperty&&(this.validateKeyProperty=n.validateKeyProperty)}},{key:"buildConnectSettings",value:function(n,t){var a,r=t??{};return(a=r.headers)!==null&&a!==void 0||(r.headers={}),Object.assign(r.headers,this.buildHeadersFunc(n)),r}},{key:"keyAuthenticated",value:function(n,t){this.connectSettings=this.buildConnectSettings(t,this.connectSettings),this.key=t,n()}},{key:"verifyKey",value:function(n,t){var a=this.keyVerificationDetails,r=a.url,o=a.method,l=a.handleVerificationResult,u=a.createHeaders,c=a.body,d=(u==null?void 0:u(n))||this.buildHeadersFunc(n);me.verifyKey(n,r,d,o,this.keyAuthenticated.bind(this,t.onSuccess),t.onFail,t.onLoad,l,c)}},{key:"isDirectConnection",value:function(){return!0}}])}(Wt),b0=function(){function i(){w(this,i)}return S(i,null,[{key:"waitForPropertiesToBeUpdatedBeforeRender",value:function(e){e._propUpdated_=!1,setTimeout(function(){e._propUpdated_?i.waitForPropertiesToBeUpdatedBeforeRender(e):(e._waitingToRender_=!1,e.onRender())})}},{key:"attemptRender",value:function(e){e._propUpdated_=!0,e._waitingToRender_||(e._waitingToRender_=!0,i.waitForPropertiesToBeUpdatedBeforeRender(e))}}])}(),ia=function(i){function s(){var e;return w(this,s),e=z(this,s),e._waitingToRender_=!1,e._propUpdated_=!1,Object.keys(s._attributeToProperty_).forEach(function(n){var t=s._attributeToProperty_[n];e.constructPropertyAccessors(t),e.hasOwnProperty(n)||e.constructPropertyAccessors(t,n)}),e}return U(s,i),S(s,[{key:"constructPropertyAccessors",value:function(n,t){var a;Object.defineProperty(this,t||n,{get:function(){return a},set:function(o){a=o,t?this[n]=o:b0.attemptRender(this)}})}},{key:"attributeChangedCallback",value:function(n,t,a){if(t!==a){var r=s._attributes_[n](a),o=s._attributeToProperty_[n];this[o]=r}}},{key:"onRender",value:function(){}}],[{key:"observedAttributes",get:function(){return Object.keys(s._attributes_)||[]}}])}(Gi(HTMLElement));ia._attributes_={},ia._attributeToProperty_={};var A0=ia,w0=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path d="
			M669.727,273.516c-22.891-2.476-46.15-3.895-69.727-4.248c-103.025,0.457-209.823,25.517-310.913,73.536
			c-75.058,37.122-148.173,89.529-211.67,154.174C46.232,529.978,6.431,577.76,0,628.74c0.76,44.162,48.153,98.67,77.417,131.764
			c59.543,62.106,130.754,113.013,211.67,154.174c2.75,1.335,5.51,2.654,8.276,3.955l-75.072,131.102l102.005,60.286l551.416-960.033
			l-98.186-60.008L669.727,273.516z M902.563,338.995l-74.927,129.857c34.47,44.782,54.932,100.006,54.932,159.888
			c0,149.257-126.522,270.264-282.642,270.264c-6.749,0-13.29-0.728-19.922-1.172l-49.585,85.84c22.868,2.449,45.99,4.233,69.58,4.541
			c103.123-0.463,209.861-25.812,310.84-73.535c75.058-37.122,148.246-89.529,211.743-154.174
			c31.186-32.999,70.985-80.782,77.417-131.764c-0.76-44.161-48.153-98.669-77.417-131.763
			c-59.543-62.106-130.827-113.013-211.743-154.175C908.108,341.478,905.312,340.287,902.563,338.995L902.563,338.995z
			M599.927,358.478c6.846,0,13.638,0.274,20.361,0.732l-58.081,100.561c-81.514,16.526-142.676,85.88-142.676,168.897
			c0,20.854,3.841,40.819,10.913,59.325c0.008,0.021-0.008,0.053,0,0.074l-58.228,100.854
			c-34.551-44.823-54.932-100.229-54.932-160.182C317.285,479.484,443.808,358.477,599.927,358.478L599.927,358.478z M768.896,570.513
			L638.013,797.271c81.076-16.837,141.797-85.875,141.797-168.603C779.81,608.194,775.724,588.729,768.896,570.513L768.896,570.513z"
			/>
</svg>
`,S0=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path id="path6686" inkscape:connector-curvature="0" d="M779.843,599.925c0,95.331-80.664,172.612-180.169,172.612
			c-99.504,0-180.168-77.281-180.168-172.612c0-95.332,80.664-172.612,180.168-172.612
			C699.179,427.312,779.843,504.594,779.843,599.925z M600,240.521c-103.025,0.457-209.814,25.538-310.904,73.557
			c-75.058,37.122-148.206,89.496-211.702,154.141C46.208,501.218,6.431,549,0,599.981c0.76,44.161,48.13,98.669,77.394,131.763
			c59.543,62.106,130.786,113.018,211.702,154.179c94.271,45.751,198.616,72.092,310.904,73.557
			c103.123-0.464,209.888-25.834,310.866-73.557c75.058-37.122,148.243-89.534,211.74-154.179
			c31.185-32.999,70.962-80.782,77.394-131.763c-0.76-44.161-48.13-98.671-77.394-131.764
			c-59.543-62.106-130.824-112.979-211.74-154.141C816.644,268.36,712.042,242.2,600,240.521z M599.924,329.769
			c156.119,0,282.675,120.994,282.675,270.251c0,149.256-126.556,270.25-282.675,270.25S317.249,749.275,317.249,600.02
			C317.249,450.763,443.805,329.769,599.924,329.769L599.924,329.769z"/>
</svg>
`,De=function(){function i(){w(this,i)}return S(i,null,[{key:"createSVGElement",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}}])}(),Yr=function(){function i(){w(this,i)}return S(i,null,[{key:"changeVisibility",value:function(e,n,t,a){a.target.id===i.VISIBLE_ICON_ID?(n.style.display="none",t.style.display="block",e.type="password"):(n.style.display="block",t.style.display="none",e.type="text")}},{key:"createIconElement",value:function(e,n){var t=De.createSVGElement(e);return t.id=n,t.classList.add("visibility-icon"),t}},{key:"create",value:function(e){var n=document.createElement("div");n.id="visibility-icon-container";var t=i.createIconElement(S0,i.VISIBLE_ICON_ID);t.style.display="none",n.appendChild(t);var a=i.createIconElement(w0,"not-visible-icon");return n.appendChild(a),n.onclick=i.changeVisibility.bind(this,e,t,a),n}}])}();Yr.VISIBLE_ICON_ID="visible-icon";var T0=Yr,C0=function(){function i(){w(this,i)}return S(i,null,[{key:"createCautionText",value:function(){var e=document.createElement("a");return e.classList.add("insert-key-input-help-text"),e.innerText="Please exercise CAUTION when inserting your API key outside of deepchat.dev or localhost!!",e}},{key:"createHelpLink",value:function(e){var n=document.createElement("a");return n.classList.add("insert-key-input-help-text"),n.href=e,n.innerText="Find more info here",n.target="_blank",n}},{key:"createFailText",value:function(){var e=document.createElement("div");return e.id="insert-key-input-invalid-text",e.style.display="none",e}},{key:"createHelpTextContainer",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=document.createElement("div");t.id="insert-key-help-text-container";var a=document.createElement("div");a.id="insert-key-help-text-contents";var r=i.createFailText();if(a.appendChild(r),e){var o=i.createHelpLink(e);a.appendChild(o)}if(n===!0){var l=i.createCautionText();a.appendChild(l)}return t.appendChild(a),{helpTextContainerElement:t,failTextElement:r}}},{key:"onFail",value:function(e,n,t,a){e.classList.replace("insert-key-input-valid","insert-key-input-invalid"),t.innerText=a,t.style.display="block",n.innerText="Start",e.classList.remove("loading")}},{key:"onLoad",value:function(e,n){e.classList.add("loading"),n.innerHTML='<div id="loading-key"></div>'}},{key:"verifyKey",value:function(e,n,t){var a=e.value.trim();t.verifyKey(a,n)}},{key:"addVerificationEvents",value:function(e,n,t,a,r){var o={onSuccess:a,onFail:i.onFail.bind(this,e,n,t),onLoad:i.onLoad.bind(this,e,n)},l=i.verifyKey.bind(this,e,o,r);n.onclick=l,e.onkeydown=function(u){!e.classList.contains("loading")&&u.key===be.ENTER&&l()}}},{key:"createStartButton",value:function(){var e=document.createElement("div");return e.id="start-button",e.innerText="Start",e}},{key:"onInputFocus",value:function(e){e.target.classList.replace("insert-key-input-invalid","insert-key-input-valid")}},{key:"createInput",value:function(e){var n=document.createElement("div");n.id="insert-key-input-container";var t=document.createElement("input");return t.id="insert-key-input",t.placeholder=e||"API Key",t.type="password",t.classList.add("insert-key-input-valid"),t.onfocus=i.onInputFocus,n.appendChild(t),n}},{key:"createContents",value:function(e,n){var t,a=document.createElement("div");a.id="insert-key-contents";var r=i.createInput(n.insertKeyPlaceholderText),o=r.children[0],l=T0.create(o);r.appendChild(l),a.appendChild(r);var u=i.createStartButton(),c=i.createHelpTextContainer(n.keyHelpUrl,(t=n.deepChat._insertKeyViewStyles)==null?void 0:t.displayCautionText),d=c.helpTextContainerElement,m=c.failTextElement;return a.appendChild(u),a.appendChild(d),i.addVerificationEvents(o,u,m,e,n),a}},{key:"createElements",value:function(e,n){var t=document.createElement("div");t.id="insert-key-view";var a=i.createContents(e,n);return t.appendChild(a),t}},{key:"render",value:function(e,n,t){var a=i.createElements(n,t);e.replaceChildren(a)}}])}(),nt=function(){function i(){w(this,i)}return S(i,null,[{key:"enableButtons",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;window.webLLM?(e&&(e.disabled=!1),n&&(n.disabled=!1)):t<Da.MODULE_SEARCH_LIMIT_S*4&&setTimeout(function(){return i.enableButtons(e,n,t+1)},250)}},{key:"setUpInitial",value:function(e,n,t,a){var r=(n==null?void 0:n.downloadClass)||i.DOWNLOAD_BUTTON_CLASS,o=(n==null?void 0:n.uploadClass)||i.UPLOAD_BUTTON_CLASS,l=(n==null?void 0:n.fileInputClass)||i.FILE_INPUT_CLASS;return setTimeout(function(){var u=t==null?void 0:t.getElementsByClassName(r)[0],c=t==null?void 0:t.getElementsByClassName(l)[0],d=t==null?void 0:t.getElementsByClassName(o)[0];u&&(u.onclick=function(){return e()}),c&&(c.onchange=function(){c.files&&c.files.length>0&&e(c.files)}),d&&(d.onclick=function(){return c.click()}),(u||d)&&i.enableButtons(u,d)}),(n==null?void 0:n.initialHtml)||`<div>
        Download or upload a web model that will run entirely on your browser: <br/> 
        <button disabled class="`.concat(r,` deep-chat-button deep-chat-web-model-button">Download</button>
        `).concat(a?"":'<input type="file" class="'.concat(l,`" hidden multiple />
          <button disabled class="`).concat(o,' deep-chat-button deep-chat-web-model-button">Upload</button>'),`
      </div>`)}},{key:"exportFile",value:function(e){for(var n=document.createElement("a"),t=4,a=function(l){setTimeout(function(){for(var u=l*t,c=u;c<Math.min(u+t,e.length);c+=1){var d=URL.createObjectURL(e[c]);n.href=d,n.download=e[c].name,document.body.appendChild(n),n.click(),URL.revokeObjectURL(d)}},500*l)},r=0;r<e.length/t;r+=1)a(r)}},{key:"setUpAfterLoad",value:function(e,n,t,a){var r=(n==null?void 0:n.exportFilesClass)||i.EXPORT_BUTTON_CLASS;return setTimeout(function(){var o=t==null?void 0:t.getElementsByClassName(r)[0];o&&(o.onclick=function(){return i.exportFile(e)})}),(n==null?void 0:n.afterLoadHtml)||`<div>
        Model loaded successfully and has been cached for future requests.
        `.concat(a?"":'<br/> <button style="margin-top: 5px" class="'.concat(r,' deep-chat-button">Export</button>'),`
      </div>`)}}])}();nt.DOWNLOAD_BUTTON_CLASS="deep-chat-download-button",nt.UPLOAD_BUTTON_CLASS="deep-chat-upload-button",nt.FILE_INPUT_CLASS="deep-chat-file-input",nt.EXPORT_BUTTON_CLASS="deep-chat-export-button";var ks=nt,Rs={model_list:[{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f32_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f32_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:9109.03,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:6749.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:4618.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-13b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-13b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-13b-chat-hf/Llama-2-13b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:11814.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-70b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-70b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-70b-chat-hf/Llama-2-70b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:43729.05,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx2k-webgpu.wasm",vram_required_MB:2972.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx2k-webgpu.wasm",vram_required_MB:3928.09,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:2041.09,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:2558.09,low_resource_required:!0},{model_url:"https://huggingface.co/mlc-ai/WizardMath-7B-V1.1-q4f16_1-MLC/resolve/main/",local_id:"WizardMath-7B-V1.1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Mistral-7B-Instruct-v0.2-q4f16_1-MLC/resolve/main/",local_id:"Mistral-7B-Instruct-v0.2-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/OpenHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"OpenHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/NeuralHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"NeuralHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f16-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f16",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f16-ctx2k-webgpu.wasm",vram_required_MB:5063.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f32-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f32",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f32-ctx2k-webgpu.wasm",vram_required_MB:5394.53,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f16_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:899.11,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f32_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:992.11,low_resource_required:!0}],use_web_worker:!0},zn=function(i){function s(e){var n;w(this,s);var t,a;return n=z(this,s,[e]),n._isModelLoaded=!1,n._isModelLoading=!1,n._loadOnFirstMessage=!1,n._webModel={},n.permittedErrorPrefixes=[s.MULTIPLE_MODELS_ERROR,s.WEB_LLM_NOT_FOUND_ERROR,s.GENERIC_ERROR],n._conversationHistory=[],B(e.webModel)=="object"&&(n._webModel=e.webModel),(t=n._webModel.load)!=null&&t.clearCache&&s.clearAllCache(),n.findModelInWindow(e),n.canSendMessage=n.canSubmit.bind(Un(n)),n._chatEl=(a=e.shadowRoot)==null?void 0:a.children[0],e.history&&s.setUpHistory(n._conversationHistory,e.history),n}return U(s,i),S(s,[{key:"setUpMessages",value:function(n){var t=this;this._messages=n,this._removeIntro=function(){n.removeIntroductoryMessage(),t._removeIntro=void 0}}},{key:"findModelInWindow",value:function(n){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r;window.webLLM?this.configureInit(this.shouldAddIntroMessage(n.introMessage)):a>s.MODULE_SEARCH_LIMIT_S?((r=this._messages)==null||r.addNewErrorMessage("service",s.WEB_LLM_NOT_FOUND_ERROR),console.error("The deep-chat-web-llm module has not been attached to the window object. Please see the following guide:"),console.error("https://deepchat.dev/examples/externalModules")):setTimeout(function(){return t.findModelInWindow(n,a+1)},1e3)}},{key:"shouldAddIntroMessage",value:function(n){var t;return!n&&this._webModel&&((t=this._webModel.introMessage)==null?void 0:t.displayed)!==!1}},{key:"scrollToTop",value:function(n){var t=this,a;((a=this._webModel.introMessage)==null?void 0:a.autoScroll)!==!1&&setTimeout(function(){var r,o;(r=t._messages)!=null&&r.elementRef&&Ze.scrollToTop((o=t._messages)==null?void 0:o.elementRef)},n)}},{key:"getIntroMessage",value:function(n){if(!(!this.shouldAddIntroMessage(n)||!this._chatEl)){var t=ks.setUpInitial(this.init.bind(this),this._webModel.introMessage,this._chatEl,!!this._webModel.worker);return this.scrollToTop(1),{role:V.AI_ROLE,html:t,sendUpdate:!1}}}},{key:"configureInit",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=this._webModel.load,!r){l.next=8;break}if(!r.onInit){l.next=5;break}return this.init(),l.abrupt("return");case 5:if(!r.onMessage){l.next=8;break}return this._loadOnFirstMessage=!0,l.abrupt("return");case 8:a||this.init();case 9:case"end":return l.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"init",value:function(){var e=k(h().mark(function t(a){var r,o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if((r=this._messages)==null||r.removeError(),o=this.attemptToCreateChat(),u.t0=o,!u.t0){u.next=6;break}return u.next=6,this.loadModel(o,a);case 6:case"end":return u.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"attemptToCreateChat",value:function(){var n;if(s.chat){(n=this._messages)==null||n.addNewErrorMessage("service",s.MULTIPLE_MODELS_ERROR),console.error(s.MULTIPLE_MODELS_ERROR);return}if(!(this._isModelLoaded||this._isModelLoading)){var t=this._webModel.worker;return Rs.use_web_worker&&t?new window.webLLM.ChatWorkerClient(t):new window.webLLM.ChatModule}}},{key:"getConfig",value:function(){var n,t=s.DEFAULT_MODEL;this._webModel.model&&(t=this._webModel.model);var a=JSON.parse(JSON.stringify(Rs));if(this._webModel.urls){var r=a.model_list.find(function(o){return o.local_id=t});r&&(this._webModel.urls.model&&(r.model_url=this._webModel.urls.model),this._webModel.urls.wasm&&(r.model_lib_url=this._webModel.urls.wasm))}return(n=this._webModel.load)!=null&&n.skipCache&&(a.use_cache=!1),{model:t,appConfig:a}}},{key:"loadModel",value:function(){var e=k(h().mark(function t(a,r){var o=this,l,u,c,d,m,p,f,g,y,v,b,_,C,A,x;return h().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return this.scrollToTop(),s.chat=a,this._isModelLoading=!0,g=((l=this._webModel.introMessage)==null?void 0:l.displayed)===!1,y=function(O){var se;(se=o._messages)==null||se.addNewMessage({html:"<div>".concat(O.text,"</div>"),overwrite:!0,sendUpdate:!1}),g&&(setTimeout(function(){var Z;return Ze.scrollToBottom((Z=o._messages)==null?void 0:Z.elementRef)}),g=!1)},s.chat.setInitProgressCallback(y),R.prev=4,b=this.getConfig(),_=b.model,C=b.appConfig,A={},this._webModel.instruction&&(A.conv_config={system:this._webModel.instruction}),this._conversationHistory.length>0&&(A.conversation_history=this._conversationHistory),R.next=10,s.chat.reload(_,A,C,r);case 10:v=R.sent,R.next=16;break;case 13:return R.prev=13,R.t0=R.catch(4),R.abrupt("return",this.unloadChat(R.t0));case 16:(c=(u=this.deepChat)._validationHandler)==null||c.call(u),(d=this._webModel.introMessage)!=null&&d.removeAfterLoad?this._webModel.introMessage.displayed===!1?(p=this._messages)==null||p.removeLastMessage():(f=this._removeIntro)==null||f.call(this):(x=ks.setUpAfterLoad(v,this._webModel.introMessage,this._chatEl,!!this._webModel.worker),(m=this._messages)==null||m.addNewMessage({html:x,overwrite:!0,sendUpdate:!1})),this._isModelLoaded=!0,this._isModelLoading=!1;case 18:case"end":return R.stop()}},t,this,[[4,13]])}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"unloadChat",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if((r=this._messages)==null||r.addNewErrorMessage("service",s.GENERIC_ERROR),console.error(a),this._isModelLoaded=!1,this._isModelLoading=!1,l.t0=s.chat,!l.t0){l.next=9;break}return l.next=8,s.chat.unload();case 8:s.chat=void 0;case 9:case"end":return l.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"immediateResp",value:function(){var e=k(h().mark(function t(a,r,o){var l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,o.generate(r,void 0,0);case 2:return d.t0=d.sent,l={text:d.t0},d.next=6,s.processResponse(this.deepChat,a,l);case 6:u=d.sent,u&&a.addNewMessage(u),this.completionsHandlers.onFinish();case 8:case"end":return d.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"streamResp",value:function(){var e=k(h().mark(function t(a,r,o){var l=this,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.streamHandlers.abortStream.abort=function(){o.interruptGenerate()},this.streamHandlers.onOpen(),u=new mn(a),d.next=4,o.generate(r,function(){var m=k(h().mark(function p(f,g){var y;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,s.processResponse(l.deepChat,a,{text:g});case 2:y=b.sent,y&&u.upsertStreamedMessage({text:y.text,overwrite:!0});case 4:case"end":return b.stop()}},p)}));return function(p,f){return m.apply(this,arguments)}}());case 4:u.finaliseStreamedMessage(),this.streamHandlers.onClose();case 6:case"end":return d.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"generateRespByType",value:function(){var e=k(h().mark(function t(a,r,o,l){var u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,!o){d.next=6;break}return d.next=4,this.streamResp(a,r,l);case 4:d.next=8;break;case 6:return d.next=8,this.immediateResp(a,r,l);case 8:d.next=13;break;case 10:d.prev=10,d.t0=d.catch(0),(u=this._messages)==null||u.addNewErrorMessage("service"),console.log(d.t0);case 13:case"end":return d.stop()}},t,this,[[0,10]])}));function n(t,a,r,o){return e.apply(this,arguments)}return n}()},{key:"generateResp",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c,d,m,p,f;return h().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return l=r[r.length-1].text,y.next=3,W.processRequestInterceptor(this.deepChat,{body:{text:l}});case 3:u=y.sent,c=u.body,d=u.error,m=!!this.stream;try{d?(W.displayError(a,new Error(d)),(m?this.streamHandlers.onClose:this.completionsHandlers.onFinish)()):!c||!c.text?(p=fe.INVALID_MODEL_REQUEST({body:c},!1),console.error(p),f=m?this.streamHandlers.onClose:this.completionsHandlers.onFinish,W.onInterceptorError(a,p,f)):this.generateRespByType(a,c.text,!!this.stream,o)}catch(v){this.unloadChat(v)}case 8:case"end":return y.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this._isModelLoaded){c.next=7;break}if(!this._loadOnFirstMessage){c.next=6;break}return c.next=4,this.init();case 4:c.next=7;break;case 6:return c.abrupt("return");case 7:!s.chat||this._isModelLoading||((o=this._webModel.introMessage)!=null&&o.removeAfterMessage&&((l=this._removeIntro)==null||l.call(this)),a.addLoadingMessage(),this.generateResp(a,r,s.chat));case 8:case"end":return c.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"canSubmit",value:function(n){return!(n!=null&&n.trim())||this._isModelLoading?!1:this._loadOnFirstMessage?!0:!!this._isModelLoaded}},{key:"isWebModel",value:function(){return!0}}],[{key:"setUpHistory",value:function(n,t){t.forEach(function(a,r){if(a.role===V.USER_ROLE&&a.text){var o=t[r+1];o!=null&&o.text&&o.role!==V.USER_ROLE&&n.push([a.text,o.text])}})}},{key:"processResponse",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(l=a.responseInterceptor)==null?void 0:l.call(a,o);case 2:if(m.t0=m.sent,m.t0){m.next=5;break}m.t0=o;case 5:if(u=m.t0,!u.error){m.next=11;break}return W.displayError(r,new Error(u.error)),m.abrupt("return");case 11:if(!(!u||!u.text)){m.next=15;break}return c=fe.INVALID_MODEL_RESPONSE(o,!!a.responseInterceptor,u),W.displayError(r,new Error(c)),m.abrupt("return");case 15:return m.abrupt("return",u);case 16:case"end":return m.stop()}},t)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"clearAllCache",value:function(){s.clearCache("webllm/model"),s.clearCache("webllm/wasm")}},{key:"clearCache",value:function(n){caches.open(n).then(function(t){t.keys().then(function(a){a.forEach(function(r){t.delete(r)})})})}}])}(Wt);zn.GENERIC_ERROR="Error, please check the [troubleshooting](https://deepchat.dev/docs/webModel#troubleshooting) section of documentation for help.",zn.MULTIPLE_MODELS_ERROR="Cannot run multiple web models",zn.WEB_LLM_NOT_FOUND_ERROR="WebLLM module not found",zn.DEFAULT_MODEL="Llama-2-7b-chat-hf-q4f32_1",zn.MODULE_SEARCH_LIMIT_S=5;var Da=zn,_s=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(e,n,t,a){var r=e;Array.isArray(r.error)&&r.error[0]==="Error in `parameters`: field required"?t(n):a(fe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api-inference.huggingface.co/models/gpt2",method:"POST",handleVerificationResult:i.handleVerificationResult}}}])}(),Xr=function(i){function s(e,n,t,a,r,o){var l;return w(this,s),l=z(this,s,[e,_s.buildKeyVerificationDetails(),_s.buildHeaders,r,o]),l.insertKeyPlaceholderText="Hugging Face Token",l.keyHelpUrl="https://huggingface.co/settings/tokens",l.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Hugging Face</b></div>
    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>`,l.permittedErrorPrefixes=["Authorization header"],l.url="".concat(s.URL_PREFIX).concat(t),l.textInputPlaceholderText=n,B(a)=="object"&&(a.model&&(l.url="".concat(s.URL_PREFIX).concat(a.model)),a.options&&(l.rawBody.options=a.options),a.parameters&&(l.rawBody.parameters=a.parameters)),l}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t,a){var r,o=JSON.parse(JSON.stringify(n)),l=t[t.length-1].text;if(l)return(r=o.options)!==null&&r!==void 0||(o.options={}),o.options.wait_for_model=!0,ne({inputs:l},o)}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectSettings){c.next=2;break}throw new Error("Request settings have not been set up");case 2:l=this.preprocessBody(this.rawBody,r,o),me.request(this,l,a);case 4:case"end":return c.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()}])}(Re);Xr.URL_PREFIX="https://api-inference.huggingface.co/models/";var Dn=Xr,Fa=function(i){function s(e,n,t,a,r,o){var l;return w(this,s),l=z(this,s,[e,n,t,a,r,o]),l.isTextInputDisabled=!0,l.canSendMessage=s.canSendFile,l}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t,a){return a[0]}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o!=null&&o[0]){u.next=4;break}throw new Error("No file was added");case 4:me.poll(this,o[0],a,!1);case 5:case"end":return u.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()}],[{key:"canSendFile",value:function(n,t){return!!(t!=null&&t[0])}}])}(Dn),k0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.audioClassification,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Attach an audio file","ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition",r,o,{audio:{}}])}return U(s,i),S(s,[{key:"extractPollResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.estimated_time){l.next=2;break}return l.abrupt("return",{timeoutMS:(a.estimated_time+1)*1e3});case 2:if(!a.error){l.next=4;break}throw a.error;case 4:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.label)||""});case 5:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Fa),R0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.imageClassification,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Attach an image file","google/vit-base-patch16-224",r,o,{images:{}}])}return U(s,i),S(s,[{key:"extractPollResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.estimated_time){l.next=2;break}return l.abrupt("return",{timeoutMS:(a.estimated_time+1)*1e3});case 2:if(!a.error){l.next=4;break}throw a.error;case 4:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.label)||""});case 5:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Fa),vt="data:image/png;base64,",fn=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(e,n,t,a){e.message?a(fe.INVALID_KEY):t(n)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.stability.ai/v1/engines/list",method:"GET",handleVerificationResult:i.handleVerificationResult}}}])}(),ai=function(i){function s(e,n,t,a,r){var o;return w(this,s),o=z(this,s,[e,n,t,a,r]),o.insertKeyPlaceholderText="Stability AI API Key",o.keyHelpUrl="https://platform.stability.ai/docs/getting-started/authentication",o.permittedErrorPrefixes=["Incorrect","invalid_"],o}return U(s,i),S(s)}(Re),_0=function(i){function s(e){var n;w(this,s);var t,a=JSON.parse(JSON.stringify(e.directConnection)),r=a==null?void 0:a.stabilityAI,o={images:{files:{acceptedFormats:".png",maxNumberOfFiles:1}}};n=z(this,s,[e,fn.buildKeyVerificationDetails(),fn.buildHeaders,r,o]),n.url="https://api.stability.ai/v1/generation/esrgan-v1-x2plus/image-to-image/upscale",n.textInputPlaceholderText="Describe image changes",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI</b></div>
    <div style="width: 100%; text-align: center; margin-left: -10px; margin-top: 5px"><b>Image to Image Upscale</b></div>
    <p>Upload an image to generate a new one with higher resolution.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var l=(t=a==null?void 0:a.stabilityAI)==null?void 0:t.imageToImageUpscale;return B(l)=="object"&&(l.engine_id&&(n.url="https://api.stability.ai/v1/generation/".concat(l.engine_id,"/image-to-image/upscale")),s.cleanConfig(l),Object.assign(n.rawBody,l)),n.canSendMessage=s.canSendFileMessage,n}return U(s,i),S(s,[{key:"createFormDataBody",value:function(n,t){var a=new FormData;return a.append("image",t),Object.keys(n).forEach(function(r){a.append(r,String(n[r]))}),a}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectSettings){c.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o){c.next=4;break}throw new Error("Image was not found");case 4:l=this.createFormDataBody(this.rawBody,o[0]),W.tempRemoveContentHeader(this.connectSettings,me.request.bind(this,this,l,a),!1);case 6:case"end":return c.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{files:a.artifacts.map(function(l){return{src:"".concat(vt).concat(l.base64),type:"image"}})});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"cleanConfig",value:function(n){delete n.engine_id}},{key:"canSendFileMessage",value:function(n,t){return!!(t!=null&&t[0])}}])}(ai),I0=function(i){function s(e){var n;w(this,s);var t,a=JSON.parse(JSON.stringify(e.directConnection)),r=a==null?void 0:a.stabilityAI,o={images:{files:{acceptedFormats:".png",maxNumberOfFiles:2}}};n=z(this,s,[e,fn.buildKeyVerificationDetails(),fn.buildHeaders,r,o]),n.url="https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image/masking",n._maskSource="MASK_IMAGE_WHITE",n.textInputPlaceholderText="Describe image changes",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI</b></div>
    <div style="width: 100%; text-align: center; margin-left: -10px; margin-top: 5px"><b>Image to Image Masking</b></div>
    <p>Upload an image, its mask image to create a new one based on the changes you have described for the mask area.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var l=(t=a==null?void 0:a.stabilityAI)==null?void 0:t.imageToImageMasking;return B(l)=="object"&&(l.engine_id&&(n.url="https://api.stability.ai/v1/generation/".concat(l.engine_id,"/image-to-image/masking")),l.weight!==void 0&&l.weight!==null&&(n._imageWeight=l.weight),l.mask_source!==void 0&&l.mask_source!==null&&(n._maskSource=l.mask_source),s.cleanConfig(l),Object.assign(n.rawBody,l)),n.canSendMessage=s.canSendFileTextMessage,n}return U(s,i),S(s,[{key:"createFormDataBody",value:function(n,t,a,r){var o=new FormData;return o.append("init_image",t),o.append("mask_source",String(this._maskSource)),o.append("mask_image",a),r&&r!==""&&o.append("text_prompts[0][text]",r),this._imageWeight!==void 0&&this._imageWeight!==null&&o.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(n).forEach(function(l){o.append(l,String(n[l]))}),o.get("weight")===void 0&&o.append("weight",String(1)),o}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!(!o||!o[0]||!o[1])){p.next=4;break}throw new Error("Image was not found");case 4:c=(u=(l=r[r.length-1])==null?void 0:l.text)==null?void 0:u.trim(),d=this.createFormDataBody(this.rawBody,o[0],o[1],c),W.tempRemoveContentHeader(this.connectSettings,me.request.bind(this,this,d,a),!1);case 6:case"end":return p.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{files:a.artifacts.map(function(l){return{src:"".concat(vt).concat(l.base64),type:"image"}})});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"cleanConfig",value:function(n){delete n.engine_id,delete n.weight}},{key:"canSendFileTextMessage",value:function(n,t){return!!(t!=null&&t[0])&&!!(n&&n.trim()!=="")}}])}(ai),x0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.audioSpeechRecognition,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Attach an audio file","facebook/wav2vec2-large-960h-lv60-self",r,o,{audio:{}}])}return U(s,i),S(s,[{key:"extractPollResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.estimated_time){o.next=2;break}return o.abrupt("return",{timeoutMS:(a.estimated_time+1)*1e3});case 2:if(!a.error){o.next=4;break}throw a.error;case 4:return o.abrupt("return",{text:a.text||""});case 5:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Fa),E0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.textGeneration,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Once upon a time","gpt2",r,o])}return U(s,i),S(s,[{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.error){l.next=2;break}throw a.error;case 2:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.generated_text)||""});case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),M0=function(i){function s(e){var n;w(this,s);var t,a,r,o=(a=(t=e.directConnection)==null?void 0:t.huggingFace)==null?void 0:a.questionAnswer,l=(r=e.directConnection)==null?void 0:r.huggingFace;return n=z(this,s,[e,"Ask a question","bert-large-uncased-whole-word-masking-finetuned-squad",o,l]),n.permittedErrorPrefixes=["Authorization header","Error in"],n.context=o.context,n}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=t[t.length-1].text;if(a)return{inputs:{question:a,context:this.context,options:{wait_for_model:!0}}}}},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.error){o.next=2;break}throw a.error;case 2:return o.abrupt("return",{text:a.answer||""});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),q0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.summarization,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Insert text to summarize","facebook/bart-large-cnn",r,o])}return U(s,i),S(s,[{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.error){l.next=2;break}throw a.error;case 2:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.summary_text)||""});case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),P0=function(i){function s(e){var n,t;w(this,s);var a,r,o,l=(r=(a=e.directConnection)==null?void 0:a.huggingFace)==null?void 0:r.conversation,u=(o=e.directConnection)==null?void 0:o.huggingFace;return t=z(this,s,[e,"Ask me anything!","facebook/blenderbot-400M-distill",l,u]),(n=t.maxMessages)!==null&&n!==void 0||(t.maxMessages=-1),t}return U(s,i),S(s,[{key:"processMessages",value:function(n){var t=n.filter(function(u){return u.text}),a=t[t.length-1].text,r=t.slice(0,t.length-1);if(a){var o=r.filter(function(u){return u.role==="user"}).map(function(u){return u.text}),l=r.filter(function(u){return u.role==="ai"}).map(function(u){return u.text});return{past_user_inputs:o,generated_responses:l,mostRecentMessageText:a}}}},{key:"preprocessBody",value:function(n,t){var a,r=JSON.parse(JSON.stringify(n)),o=this.processMessages(t);if(o)return(a=r.options)!==null&&a!==void 0||(r.options={}),r.options.wait_for_model=!0,ne({inputs:{past_user_inputs:o.past_user_inputs,generated_responses:o.generated_responses,text:o.mostRecentMessageText}},r)}},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.error){o.next=2;break}throw a.error;case 2:return o.abrupt("return",{text:a.generated_text||""});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),D0=function(i){function s(e){var n;w(this,s);var t,a=JSON.parse(JSON.stringify(e.directConnection)),r=a.stabilityAI,o={images:{files:{acceptedFormats:".png",maxNumberOfFiles:1}}};n=z(this,s,[e,fn.buildKeyVerificationDetails(),fn.buildHeaders,r,o]),n.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/image-to-image",n.textInputPlaceholderText="Describe image changes",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI: Image to Image</b></div>
    <p>Upload an image to create a new one with the changes you have described.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var l=(t=a.stabilityAI)==null?void 0:t.imageToImage;return B(l)=="object"&&(l.engine_id&&(n.url="https://api.stability.ai/v1/generation/".concat(l.engine_id,"/text-to-image")),l.weight!==void 0&&l.weight!==null&&(n._imageWeight=l.weight),s.cleanConfig(l),Object.assign(n.rawBody,l)),n.canSendMessage=s.canSendFileTextMessage,n}return U(s,i),S(s,[{key:"createFormDataBody",value:function(n,t,a){var r=new FormData;return r.append("init_image",t),a&&a!==""&&r.append("text_prompts[0][text]",a),this._imageWeight!==void 0&&this._imageWeight!==null&&r.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(n).forEach(function(o){r.append(o,String(n[o]))}),r.get("weight")===void 0&&r.append("weight",String(1)),r}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o){p.next=4;break}throw new Error("Image was not found");case 4:c=(u=(l=r[r.length-1])==null?void 0:l.text)==null?void 0:u.trim(),d=this.createFormDataBody(this.rawBody,o[0],c),W.tempRemoveContentHeader(this.connectSettings,me.request.bind(this,this,d,a),!1);case 6:case"end":return p.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{files:a.artifacts.map(function(l){return{src:"".concat(vt).concat(l.base64),type:"image"}})});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"cleanConfig",value:function(n){delete n.engine_id,delete n.weight}},{key:"canSendFileTextMessage",value:function(n,t){return!!(t!=null&&t[0])&&!!(n&&n.trim()!=="")}}])}(ai),F0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.huggingFace)==null?void 0:t.translation,o=(a=e.directConnection)==null?void 0:a.huggingFace;return z(this,s,[e,"Insert text to translate","Helsinki-NLP/opus-tatoeba-en-ja",r,o])}return U(s,i),S(s,[{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.error){l.next=2;break}throw a.error;case 2:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.translation_text)||""});case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),L0=function(i){function s(e){var n;w(this,s);var t,a=JSON.parse(JSON.stringify(e.directConnection)),r=a.stabilityAI;n=z(this,s,[e,fn.buildKeyVerificationDetails(),fn.buildHeaders,r]),n.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/text-to-image",n.textInputPlaceholderText="Describe an image",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI: Text to Image</b></div>
    <p>Insert text to generate an image.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var o=(t=a.stabilityAI)==null?void 0:t.textToImage;return B(o)=="object"&&(o.engine_id&&(n.url="https://api.stability.ai/v1/generation/".concat(o.engine_id,"/text-to-image")),o.weight!==void 0&&o.weight!==null&&(n._imageWeight=o.weight),s.cleanConfig(o),Object.assign(n.rawBody,o)),n.canSendMessage=s.canSendTextMessage,n}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n)),r={text:t};return this._imageWeight&&(r.weight=this._imageWeight),a.text_prompts=[r],a}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r[r.length-1].text),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{files:a.artifacts.map(function(l){return{src:"".concat(vt).concat(l.base64),type:"image"}})});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"cleanConfig",value:function(n){delete n.engine_id,delete n.weight}},{key:"canSendTextMessage",value:function(n){return!!(n&&n.trim()!=="")}}])}(ai),O0=function(i){function s(e){var n;w(this,s);var t,a,r,o=(a=(t=e.directConnection)==null?void 0:t.huggingFace)==null?void 0:a.fillMask,l=(r=e.directConnection)==null?void 0:r.huggingFace;return n=z(this,s,[e,"The goal of life is [MASK].","bert-base-uncased",o,l]),n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Hugging Face</b></div>
    <p>Insert a sentence with the word [MASK] and the model will try to fill it for you. E.g. I want [MASK].</p>
    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>`,n.permittedErrorPrefixes=["Authorization header","No mask_token"],n}return U(s,i),S(s,[{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.error){l.next=2;break}throw a.error;case 2:return l.abrupt("return",{text:((r=a[0])==null?void 0:r.sequence)||""});case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Dn),eo=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(e,n,t,a){var r=e;r.error?r.error.code==="invalid_api_key"?a(fe.INVALID_KEY):a(fe.CONNECTION_FAILED):t(n)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.openai.com/v1/models",method:"GET",handleVerificationResult:i.handleVerificationResult}}},{key:"directFetch",value:function(){var s=k(h().mark(function n(t,a,r){var o,l,u=arguments;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=u.length>3&&u[3]!==void 0?u[3]:!0,t.connectSettings.method=r,d.next=4,W.fetch(t,t.connectSettings.headers,o,a).then(function(m){return W.processResponseByType(m)});case 4:if(l=d.sent,!l.error){d.next=7;break}throw l.error.message;case 7:return d.abrupt("return",l);case 8:case"end":return d.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()}])}();eo.FUNCTION_TOOL_RESP_ERROR="Response object must either be {response: string}[] for each individual function or {text: string} for a direct response, see https://deepchat.dev/docs/directConnection/OpenAI#FunctionHandler.";var ve=eo,aa=function(){function i(){w(this,i)}return S(i,null,[{key:"storeFiles",value:function(){var s=k(h().mark(function n(t,a,r,o){var l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l=t.connectSettings.headers,l){p.next=3;break}return p.abrupt("return");case 3:return t.url=o,u=l[W.CONTENT_TYPE],delete l[W.CONTENT_TYPE],c=r.map(function(){var f=k(h().mark(function g(y){var v;return h().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return v=new FormData,_.abrupt("return",(v.append("purpose","assistants"),v.append("file",y),new Promise(function(C){C(ve.directFetch(t,v,"POST",!1))})));case 2:case"end":return _.stop()}},g)}));return function(g){return f.apply(this,arguments)}}()),p.prev=7,p.next=10,Promise.all(c);case 10:return d=p.sent.map(function(f){return{id:f.id,name:f.filename}}),p.abrupt("return",(l[W.CONTENT_TYPE]=u,d));case 14:throw p.prev=14,p.t0=p.catch(7),l[W.CONTENT_TYPE]=u,W.displayError(a,p.t0),t.completionsHandlers.onFinish(),p.t0;case 17:case"end":return p.stop()}},n,null,[[7,14]])}));function e(n,t,a,r){return s.apply(this,arguments)}return e}()},{key:"getType",value:function(e,n){var t=e[n].path;return!t||t.endsWith("png")?"image":"any"}},{key:"getFiles",value:function(){var s=k(h().mark(function n(t,a,r,o){var l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=a.map(function(m){var p=m.fileId;return t.url="".concat(r).concat(p).concat(o),new Promise(function(f){f(ve.directFetch(t,void 0,"GET",!1))})}),d.next=3,Promise.all(l);case 3:return u=d.sent.map(function(m,p){return new Promise(function(f){var g=new FileReader;g.readAsDataURL(m),g.onload=function(y){f({src:y.target.result,name:a[p].name,type:i.getType(a,p)})}})}),d.next=6,Promise.all(u);case 6:return d.abrupt("return",d.sent);case 7:case"end":return d.stop()}},n)}));function e(n,t,a,r){return s.apply(this,arguments)}return e}()},{key:"getFileName",value:function(e){var n=e.split("/");return n[n.length-1]}},{key:"getFilesAndNewText",value:function(){var s=k(h().mark(function n(t,a,r,o,l){var u,c,d,m,p;return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(m=r.getFilesPrefix,p=r.getFilesPostfix,g.t0=a.length>0,!g.t0){g.next=7;break}return g.next=5,i.getFiles(t,a,m,p);case 5:d=g.sent,(u=l==null?void 0:l.text)!=null&&u.value&&d.forEach(function(y,v){var b;if(y.src){var _=a[v].path;(b=l==null?void 0:l.text)!=null&&b.value&&_&&(l.text.value=l.text.value.replace(_,y.src))}});case 7:return g.abrupt("return",(c=l==null?void 0:l.text)!=null&&c.value?{text:l.text.value,role:o}:{files:d,role:o});case 8:case"end":return g.stop()}},n)}));function e(n,t,a,r,o){return s.apply(this,arguments)}return e}()},{key:"getFileDetails",value:function(e,n){var t,a=[];return(t=n==null?void 0:n.text)!=null&&t.value&&e.content.forEach(function(r){var o,l;(l=(o=r.text)==null?void 0:o.annotations)==null||l.forEach(function(u){var c;u.text&&u.text.startsWith("sandbox:")&&(c=u.file_path)!=null&&c.file_id&&a.push({path:u.text,fileId:u.file_path.file_id,name:i.getFileName(u.text)})})}),n!=null&&n.image_file&&a.push({fileId:n.image_file.file_id}),a}},{key:"getFilesAndText",value:function(){var s=k(h().mark(function n(t,a,r,o){var l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=i.getFileDetails(a,o),c.next=3,i.getFilesAndNewText(t,l,r,a.role,o);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},n)}));function e(n,t,a,r){return s.apply(this,arguments)}return e}()},{key:"parseResult",value:function(e,n){var t=[];if(n)t=e.data;else for(var a=0;a<e.data.length;a+=1){var r=e.data[a];if(r.role==="assistant")t.push(r);else break}return t.reverse()}},{key:"parseMessages",value:function(e,n,t){var a=[];return n.forEach(function(){var r=k(h().mark(function o(l){return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l.content.filter(function(d){return!!d.text||!!d.image_file}).sort(function(d){return d.text?-1:d.image_file?1:0}).forEach(function(){var d=k(h().mark(function m(p){return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:a.push(i.getFilesAndText(e,l,t,p));case 1:case"end":return g.stop()}},m)}));return function(m){return d.apply(this,arguments)}}());case 1:case"end":return c.stop()}},o)}));return function(o){return r.apply(this,arguments)}}()),Promise.all(a)}},{key:"processStreamMessages",value:function(){var s=k(h().mark(function n(t,a,r){return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",i.parseMessages(t,[{content:a,role:"assistant"}],r));case 1:case"end":return l.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"processAPIMessages",value:function(){var s=k(h().mark(function n(t,a,r,o){var l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=i.parseResult(a,r),c.abrupt("return",i.parseMessages(t,l,o));case 2:case"end":return c.stop()}},n)}));function e(n,t,a,r){return s.apply(this,arguments)}return e}()}])}();aa.FILES_WITH_TEXT_ERROR="content with type `text` must have `text` values",aa.FUNCTION_TOOL_RESP_ERROR="Response must contain an array of strings for each individual function/tool_call, see https://deepchat.dev/docs/directConnection/OpenAI/#assistant-functions.";var hn=aa,no=function(i){function s(e,n,t,a,r,o){var l;if(w(this,s),l=z(this,s,[e,a,r,o]),l.insertKeyPlaceholderText="OpenAI API Key",l.keyHelpUrl="https://platform.openai.com/account/api-keys",l.url="",l.permittedErrorPrefixes=["Incorrect","Please send text",qa.FAILED_ERROR_MESSAGE],l.shouldFetchHistory=!1,l.searchedForThreadId=!1,l.config={},l.newAssistantDetails={model:"gpt-4"},l.waitingForStreamResponse=!1,l.isSSEStream=!1,l.urlSegments=t,B(n)=="object"){l.config=n;var u=l.config,c=u.new_assistant,d=u.thread_id,m=u.load_thread_history;Object.assign(l.newAssistantDetails,c),d&&(l.sessionId=d),m&&(l.shouldFetchHistory=!0)}return l.maxMessages=1,l.isSSEStream=!!(l.stream&&(B(l.stream)!="object"||!l.stream.simulation)),l}return U(s,i),S(s,[{key:"fetchHistoryFunc",value:function(){var e=k(h().mark(function t(){var a=this,r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return setTimeout(function(){return a.deepChat.disableSubmitButton()},2),l.prev=1,l.next=4,this.getThreadMessages(this.sessionId,!0);case 4:return r=l.sent,l.abrupt("return",(this.deepChat.disableSubmitButton(!1),r));case 8:return l.prev=8,l.t0=l.catch(1),l.abrupt("return",[{error:"Failed to fetch history"}]);case 11:case"end":return l.stop()}},t,this,[[1,8]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"processMessage",value:function(n,t){var a=this.totalMessagesMaxCharLength||-1,r=Pa.getCharacterLimitMessages(n,a)[0];if(t&&t.length>0){var o=this.filesToolType;if(typeof this.filesToolType=="function"){var l=this.filesToolType(t.map(function(c){var d=c.name;return d}));l==="code_interpreter"||l==="file_search"||l==="images"?o=l:(console.error('Tool type "'.concat(l,'" is not valid')),console.error('Expected "code_interpreter" or "file_search" or "images". Going to default to "images"'))}if(o==="file_search")return s.processAttachmentsMessage(r,t,"file_search");if(o==="code_interpreter")return s.processAttachmentsMessage(r,t,"code_interpreter");if(t.find(function(c){var d=c.name;return!_e.isImageFileExtension(d)}))console.error("The uploaded files contained a non-image file"),console.error('Make sure only images can be uploaded or define a "code_interpreter" or "file_search" value in the "files_tool_type" property'),console.warn('Make sure your existing assistant supports these "tools" or specify them in the "new_assistant" property');else{var u=s.processImageMessage(r,t);if(u)return u}}return{content:r.text||"",role:"user"}}},{key:"createNewThreadMessages",value:function(n,t,a){var r=JSON.parse(JSON.stringify(n)),o=this.processMessage(t,a);return r.thread={messages:[o]},r}},{key:"callService",value:function(n,t,a){if(this.messages=n,this.sessionId){this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/messages").concat(this.urlSegments.createMessagePostfix);var r=this.processMessage(t,a);me.request(this,r,n)}else{this.url="".concat(this.urlSegments.threadsPrefix,"/runs").concat(this.urlSegments.threadsPosfix);var o=this.createNewThreadMessages(this.rawBody,t,a);this.isSSEStream?this.createStreamRun(o):me.request(this,o,n)}}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.waitingForStreamResponse=!1,!!this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!((l=(u=this.rawBody).assistant_id)!==null&&l!==void 0)){m.next=6;break}m.next=12;break;case 6:if(m.t0=this.config.assistant_id,m.t0){m.next=11;break}return m.next=10,this.createNewAssistant();case 10:m.t0=m.sent;case 11:u.assistant_id=m.t0;case 12:if(this.searchedForThreadId||this.searchPreviousMessagesForThreadId(a.messageToElements),!o){m.next=19;break}return m.next=16,hn.storeFiles(this,a,o,this.urlSegments.storeFiles);case 16:m.t1=m.sent,m.next=20;break;case 19:m.t1=void 0;case 20:c=m.t1,this.connectSettings.method="POST",this.callService(a,r,c);case 22:case"end":return m.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"createNewAssistant",value:function(){var e=k(h().mark(function t(){var a;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,this.url=this.urlSegments.newAssistantUrl,o.next=4,ve.directFetch(this,JSON.parse(JSON.stringify(this.newAssistantDetails)),"POST");case 4:return a=o.sent,o.abrupt("return",(this.config.assistant_id=a.id,this.config.assistant_id));case 8:o.prev=8,o.t0=o.catch(0),console.error(o.t0),console.error("Failed to create a new assistant");case 11:case"end":return o.stop()}},t,this,[[0,8]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"searchPreviousMessagesForThreadId",value:function(n){var t=n.find(function(a){var r=Ca(a,1),o=r[0];return o._sessionId});t&&(this.sessionId=t[0]._sessionId),this.searchedForThreadId=!0}},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(this.waitingForStreamResponse||this.isSSEStream&&this.sessionId)){c.next=4;break}return c.next=3,this.handleStream(a);case 3:return c.abrupt("return",c.sent);case 4:if(!a.error){c.next=6;break}throw a.error.message.startsWith(hn.FILES_WITH_TEXT_ERROR)?Error("Please send text with your file(s)"):a.error.message;case 6:return c.next=8,this.assignThreadAndRun(a);case 8:return o="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs/").concat(this.run_id).concat(this.urlSegments.threadsPosfix),l={method:"GET",headers:(r=this.connectSettings)==null?void 0:r.headers},c.abrupt("return",(me.executePollRequest(this,o,l,this.messages),{makingAnotherRequest:!0}));case 10:case"end":return c.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"assignThreadAndRun",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.sessionId){l.next=8;break}return this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),l.next=4,ve.directFetch(this,JSON.parse(JSON.stringify(this.rawBody)),"POST");case 4:r=l.sent,this.run_id=r.id,l.next=9;break;case 8:this.sessionId=a.thread_id,this.run_id=a.id,this.messages&&this.messages.messageToElements.length>0&&(this.messages.messageToElements[this.messages.messageToElements.length-1][0]._sessionId=this.sessionId);case 9:case"end":return l.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"getThreadMessages",value:function(){var e=k(h().mark(function t(a){var r,o,l,u,c=arguments;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return r=c.length>1&&c[1]!==void 0?c[1]:!1,this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(a,"/messages?").concat(this.urlSegments.listMessagesPostfix),m.next=4,ve.directFetch(this,{},"GET");case 4:if(u=m.sent,m.t0=!r&&this.deepChat.responseInterceptor,!m.t0){m.next=10;break}return m.next=9,(l=(o=this.deepChat).responseInterceptor)==null?void 0:l.call(o,u);case 9:u=m.sent;case 10:return m.abrupt("return",hn.processAPIMessages(this,u,r,this.urlSegments));case 11:case"end":return m.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"extractPollResultData",value:function(){var e=k(h().mark(function t(a){var r=this,o,l,u,c,d,m,p,f;return h().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(l=a.status,u=a.required_action,!(l==="queued"||l==="in_progress")){y.next=3;break}return y.abrupt("return",{timeoutMS:s.POLLING_TIMEOUT_MS});case 3:if(!(l==="completed"&&this.messages)){y.next=11;break}return y.next=6,this.getThreadMessages(a.thread_id);case 6:return c=y.sent,d=c.shift(),m=d.text,p=d.files,y.abrupt("return",(setTimeout(function(){c.forEach(function(v){return r.deepChat.addMessage(v)})}),{text:m,_sessionId:this.sessionId,files:p}));case 11:if(f=(o=u==null?void 0:u.submit_tool_outputs)==null?void 0:o.tool_calls,!(l==="requires_action"&&f)){y.next=16;break}return y.next=15,this.handleTools(f);case 15:return y.abrupt("return",y.sent);case 16:throw Error("Thread run status: ".concat(l));case 17:case"end":return y.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"handleTools",value:function(){var e=k(h().mark(function t(a){var r,o,l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.functionHandler){p.next=2;break}throw Error("Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.");case 2:return r=a.map(function(f){return{name:f.function.name,arguments:f.function.arguments}}),p.next=5,this.functionHandler(r);case 5:if(o=p.sent,!(!Array.isArray(o)||a.length!==o.length)){p.next=8;break}throw Error(hn.FUNCTION_TOOL_RESP_ERROR);case 8:return p.next=10,Promise.all(o);case 10:if(l=p.sent,!l.find(function(f){return typeof f!="string"})){p.next=13;break}throw Error(hn.FUNCTION_TOOL_RESP_ERROR);case 13:if(u=l.map(function(f,g){return{tool_call_id:a[g].id,output:f}}),c="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId),d="/runs/".concat(this.run_id,"/submit_tool_outputs").concat(this.urlSegments.threadsPosfix),this.url="".concat(c).concat(d),!this.isSSEStream){p.next=20;break}return p.next=18,this.createStreamRun({tool_outputs:u});case 18:p.next=22;break;case 20:return p.next=22,ve.directFetch(this,{tool_outputs:u},"POST");case 22:return p.abrupt("return",{timeoutMS:s.POLLING_TIMEOUT_MS});case 23:case"end":return p.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"handleStream",value:function(){var e=k(h().mark(function t(a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(l=(o=(r=a.required_action)==null?void 0:r.submit_tool_outputs)==null?void 0:o.tool_calls,!(a.status==="requires_action"&&l)){d.next=6;break}return this.run_id=a.id,d.next=5,this.handleTools(l);case 5:return d.abrupt("return",d.sent);case 6:if(!this.waitingForStreamResponse){d.next=8;break}return d.abrupt("return",this.parseStreamResult(a));case 8:return this.isSSEStream&&this.sessionId&&(this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),u=JSON.parse(JSON.stringify(this.rawBody)),this.createStreamRun(u)),d.abrupt("return",{makingAnotherRequest:!0});case 10:case"end":return d.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"parseStreamResult",value:function(){var e=k(h().mark(function t(a){var r,o,l,u,c,d,m,p,f,g;return h().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(a.content&&a.content.length>0&&this.messages)){v.next=5;break}if(d=a.content.find(function(b){return b.text}),!((r=d==null?void 0:d.text)!=null&&r.annotations&&d.text.annotations.length>0)){v.next=5;break}return m=a.content.find(function(b){return!!b.text})||a.content[0],p=hn.getFilesAndText.bind(this,this,{role:"assistant",content:a.content},this.urlSegments,m),v.abrupt("return",((o=this.messageStream)==null||o.endStreamAfterFileDownloaded(this.messages,p),{text:""}));case 5:if(!((l=a.delta)!=null&&l.content)){v.next=14;break}if(!(a.delta.content.length>1)){v.next=13;break}if(f=a.delta.content.find(function(b){return b.text}),!((u=f==null?void 0:f.text)!=null&&u.annotations&&f.text.annotations.length===0)){v.next=13;break}return v.next=11,hn.processStreamMessages(this,a.delta.content,this.urlSegments);case 11:return g=v.sent,v.abrupt("return",{text:g[0].text,files:g[1].files});case 13:return v.abrupt("return",{text:(c=a.delta.content[0].text)==null?void 0:c.value});case 14:return v.abrupt("return",(!this.sessionId&&a.thread_id&&(this.sessionId=a.thread_id),{makingAnotherRequest:!0}));case 15:case"end":return v.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"createStreamRun",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a.stream=!0,this.waitingForStreamResponse=!0,o.next=4,ye.request(this,a,this.messages,!0,!0);case 4:this.messageStream=o.sent;case 5:case"end":return o.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"processImageMessage",value:function(n,t){var a=t==null?void 0:t.filter(function(r){return _e.isImageFileExtension(r.name)}).map(function(r){return{type:"image_file",image_file:{file_id:r.id}}});if(a&&a.length>0)return n.text&&n.text.length>0&&a.push({type:"text",text:n.text}),{content:a,role:"user"}}},{key:"processAttachmentsMessage",value:function(n,t,a){return{attachments:t.map(function(r){return{tools:[{type:a}],file_id:r.id}}),content:[{type:"text",text:n.text}],role:"user"}}}])}(Re);no.POLLING_TIMEOUT_MS=800;var to=no,io=function(i){function s(e){var n,t,a;w(this,s);var r,o,l,u,c,d=JSON.parse(JSON.stringify(e.directConnection)),m=d.openAI,p=(r=d.openAI)==null?void 0:r.assistant;if(a=z(this,s,[e,p,s.URL_SEGMENTS,ve.buildKeyVerificationDetails(),ve.buildHeaders,m]),(n=(o=a.connectSettings).headers)!==null&&n!==void 0||(o.headers={}),(t=(l=a.connectSettings.headers)["OpenAI-Beta"])!==null&&t!==void 0||(l["OpenAI-Beta"]="assistants=v2"),a.shouldFetchHistory&&a.sessionId&&(a.fetchHistory=a.fetchHistoryFunc.bind(Un(a))),B(p)=="object"){var f=(c=(u=e.directConnection)==null?void 0:u.openAI)==null?void 0:c.assistant,g=f.function_handler,y=f.files_tool_type;g&&(a.functionHandler=g),y&&(a.filesToolType=y)}return a}return U(s,i),S(s)}(to);io.URL_SEGMENTS={threadsPrefix:"https://api.openai.com/v1/threads",threadsPosfix:"",newAssistantUrl:"https://api.openai.com/v1/assistants",createMessagePostfix:"",listMessagesPostfix:"order=desc",storeFiles:"https://api.openai.com/v1/files",getFilesPrefix:"https://api.openai.com/v1/files/",getFilesPostfix:"/content"};var N0=io,Is=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json",accept:"application/json"}}},{key:"handleVerificationResult",value:function(e,n,t,a){var r;(r=e.message)!=null&&r.includes("invalid request: prompt must be at least 1 token long")?t(n):a(fe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.cohere.ai/v1/generate",method:"POST",handleVerificationResult:i.handleVerificationResult,body:JSON.stringify({prompt:""})}}}])}(),La=function(i){function s(e,n,t,a,r){var o;return w(this,s),o=z(this,s,[e,Is.buildKeyVerificationDetails(),Is.buildHeaders,r]),o.insertKeyPlaceholderText="Cohere API Key",o.keyHelpUrl="https://dashboard.cohere.ai/api-keys",o.permittedErrorPrefixes=["invalid"],o.url=n,o.textInputPlaceholderText=t,a&&B(a)=="object"&&Object.assign(o.rawBody,a),o}return U(s,i),S(s)}(Re),Z0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.cohere)==null?void 0:t.textGeneration,o=(a=e.directConnection)==null?void 0:a.cohere;return z(this,s,[e,"https://api.cohere.ai/v1/generate","Once upon a time",r,o])}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n)),r=t[t.length-1].text;if(r)return ne({prompt:r},a)}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.message){l.next=2;break}throw a.message;case 2:return l.abrupt("return",{text:((r=a.generations)==null?void 0:r[0].text)||""});case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(La),ao=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{"api-key":e,"Content-Type":"application/json"}}},{key:"buildKeyVerificationDetails",value:function(e){return{url:"".concat(e.endpoint,"/openai/models?api-version=").concat(e.version),method:"GET",handleVerificationResult:ve.handleVerificationResult}}},{key:"validateURLDetails",value:function(e){var n=e.endpoint,t=e.version,a=e.deploymentId;return n&&t&&a}}])}();ao.URL_DETAILS_ERROR_MESSAGE="Please define the Azure URL Details. [More Information](https://deepchat.dev/docs/directConnection/Azure)";var Ge=ao,sa=function(i){function s(e){var n,t;w(this,s);var a,r,o,l,u,c,d,m,p=JSON.parse(JSON.stringify(e.directConnection)),f=p.azure,g=(a=p.azure)==null?void 0:a.openAI,y=(g==null?void 0:g.urlDetails)||{},v="".concat((r=g==null?void 0:g.urlDetails)==null?void 0:r.endpoint,"/openai/"),b="?api-version=".concat((o=g==null?void 0:g.urlDetails)==null?void 0:o.version),_={threadsPrefix:"".concat(v).concat(s.THREAD_RESOURCE),threadsPosfix:b,newAssistantUrl:"".concat(v).concat(s.NEW_ASSISTANT_RESOURCE).concat(b),createMessagePostfix:b,listMessagesPostfix:"order=desc&api-version=".concat((l=g==null?void 0:g.urlDetails)==null?void 0:l.version),storeFiles:"".concat(v,"files").concat(b),getFilesPrefix:"".concat(v,"files/"),getFilesPostfix:"/content".concat(b)};if(t=z(this,s,[e,g==null?void 0:g.assistant,_,Ge.buildKeyVerificationDetails(y),Ge.buildHeaders,f]),t.permittedErrorPrefixes=[Ge.URL_DETAILS_ERROR_MESSAGE],t.insertKeyPlaceholderText="Azure OpenAI API Key",t.keyHelpUrl="https://learn.microsoft.com/en-us/answers/questions/1193991/how-to-get-the-value-of-openai-api-key",t.isTextInputDisabled=!1,B(g==null?void 0:g.assistant)=="object"){var C=(d=(c=(u=e.directConnection)==null?void 0:u.azure)==null?void 0:c.openAI)==null?void 0:d.assistant,A=C.function_handler,x=C.files_tool_type;A&&(t.functionHandler=A),x&&(t.filesToolType=x)}return Ge.validateURLDetails(y)?(n=(m=t.connectSettings).headers)!==null&&n!==void 0||(m.headers={}):(t.isTextInputDisabled=!0,t.canSendMessage=function(){return!1},setTimeout(function(){e.addMessage({error:Ge.URL_DETAILS_ERROR_MESSAGE})})),t}return U(s,i),S(s)}(to);sa.THREAD_RESOURCE="threads",sa.NEW_ASSISTANT_RESOURCE="assistants";var B0=sa,j0=function(i){function s(e){w(this,s);var n,t,a,r=(t=(n=e.directConnection)==null?void 0:n.cohere)==null?void 0:t.summarization,o=(a=e.directConnection)==null?void 0:a.cohere;return z(this,s,[e,"https://api.cohere.ai/v1/summarize","Insert text to summarize",r,o])}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n)),r=t[t.length-1].text;if(r)return ne({text:r},a)}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{text:a.summary||""});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(La),ra=function(i){function s(e){var n,t,a;w(this,s);var r,o,l,u=JSON.parse(JSON.stringify(e.directConnection)),c=u==null?void 0:u.openAI;a=z(this,s,[e,ve.buildKeyVerificationDetails(),ve.buildHeaders,c]),a.insertKeyPlaceholderText="OpenAI API Key",a.keyHelpUrl="https://platform.openai.com/account/api-keys",a.url="https://api.openai.com/v1/audio/speech",a.permittedErrorPrefixes=["Invalid"],a.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI : Text To Speech</b></div>
    <p>Generate an audio file based on your text input.</p>
    <p>Click <a href="https://platform.openai.com/docs/guides/text-to-speech">here</a> for more information.</p>`;var d=(r=u==null?void 0:u.openAI)==null?void 0:r.textToSpeech;return B(d)=="object"&&Object.assign(a.rawBody,d),(n=(o=a.rawBody).model)!==null&&n!==void 0||(o.model=s.DEFAULT_MODEL),(t=(l=a.rawBody).voice)!==null&&t!==void 0||(l.voice=s.DEFAULT_VOIDE),a.textInputPlaceholderText="Insert text to generate audio",a.rawBody.response_format="mp3",a}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a,r,o=JSON.parse(JSON.stringify(n)),l=(r=(a=t[t.length-1])==null?void 0:a.text)==null?void 0:r.trim();return l&&l!==""&&(o.input=l),o}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if((o=this.connectSettings)!=null&&o.headers){c.next=2;break}throw new Error("Request settings have not been set up");case 2:this.url=this.connectSettings.url||this.url,l=this.preprocessBody(this.rawBody,r),me.request(this,l,a);case 5:case"end":return c.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(a instanceof Blob)){o.next=2;break}return o.abrupt("return",new Promise(function(l){var u=new FileReader;u.readAsDataURL(a),u.onload=function(c){l({files:[{src:c.target.result,type:"audio"}]})}}));case 2:if(!a.error){o.next=4;break}throw a.error.message;case 4:return o.abrupt("return",{error:"error"});case 5:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Re);ra.DEFAULT_MODEL="tts-1",ra.DEFAULT_VOIDE="alloy";var V0=ra,Nt=function(i){function s(e){var n,t;w(this,s);var a,r,o=JSON.parse(JSON.stringify(e.directConnection)),l=o==null?void 0:o.openAI;t=z(this,s,[e,ve.buildKeyVerificationDetails(),ve.buildHeaders,l,{audio:{}}]),t.insertKeyPlaceholderText="OpenAI API Key",t.keyHelpUrl="https://platform.openai.com/account/api-keys",t.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI : Speech To Text</b></div>
    <p><b>Upload an audio file</b> to transcribe it into text. You can optionally provide text to guide the audio
      processing.
    <p>Click <a href="https://platform.openai.com/docs/guides/speech-to-text">here</a> for more info.</p>`,t.url="",t.permittedErrorPrefixes=["Invalid"],t.textInputPlaceholderText="Upload an audio file",t._service_url=s.AUDIO_TRANSCRIPTIONS_URL;var u=(a=o==null?void 0:o.openAI)==null?void 0:a.audio;return B(u)=="object"&&(t.processConfig(u),s.cleanConfig(u),Object.assign(t.rawBody,u)),(n=(r=t.rawBody).model)!==null&&n!==void 0||(r.model=s.DEFAULT_MODEL),t.rawBody.response_format="json",t.canSendMessage=s.canSendFileMessage,t}return U(s,i),S(s,[{key:"processConfig",value:function(n){n!=null&&n.type&&n.type==="translation"&&(this._service_url=s.AUDIO_TRANSLATIONS_URL,delete n.language)}},{key:"preprocessBody",value:function(n,t){var a,r,o=JSON.parse(JSON.stringify(n)),l=(r=(a=t[t.length-1])==null?void 0:a.text)==null?void 0:r.trim();return l&&l!==""&&(o.prompt=l),o}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if((l=this.connectSettings)!=null&&l.headers){m.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o!=null&&o[0]){m.next=4;break}throw new Error("No file was added");case 4:this.url=this.connectSettings.url||this._service_url,u=this.preprocessBody(this.rawBody,r),c=s.createFormDataBody(u,o[0]),W.tempRemoveContentHeader(this.connectSettings,me.request.bind(this,this,c,a),!1);case 7:case"end":return m.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.error){o.next=2;break}throw a.error.message;case 2:return o.abrupt("return",{text:a.text});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"canSendFileMessage",value:function(n,t){return!!(t!=null&&t[0])}},{key:"cleanConfig",value:function(n){delete n.type}},{key:"createFormDataBody",value:function(n,t){var a=new FormData;return a.append("file",t),Object.keys(n).forEach(function(r){a.append(r,String(n[r]))}),a}}])}(Re);Nt.AUDIO_TRANSCRIPTIONS_URL="https://api.openai.com/v1/audio/transcriptions",Nt.AUDIO_TRANSLATIONS_URL="https://api.openai.com/v1/audio/translations",Nt.DEFAULT_MODEL="whisper-1";var z0=Nt,xn=function(){function i(){w(this,i)}return S(i,null,[{key:"buildTextToSpeechHeaders",value:function(e,n){return{"Ocp-Apim-Subscription-Key":n,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":e}}},{key:"buildSpeechToTextHeaders",value:function(e){return{"Ocp-Apim-Subscription-Key":e,Accept:"application/json"}}},{key:"handleSpeechVerificationResult",value:function(e,n,t,a){e.error?a(fe.INVALID_KEY):t(n)}},{key:"buildSpeechKeyVerificationDetails",value:function(e){return{url:"https://".concat(e,".api.cognitive.microsoft.com/sts/v1.0/issuetoken"),method:"POST",createHeaders:function(t){return{"Ocp-Apim-Subscription-Key":"".concat(t)}},handleVerificationResult:i.handleSpeechVerificationResult}}},{key:"buildSummarizationHeader",value:function(e){return{"Ocp-Apim-Subscription-Key":e,"Content-Type":"application/json"}}},{key:"handleLanguageVerificationResult",value:function(e,n,t,a){var r;((r=e.error)==null?void 0:r.code)==="401"?a(fe.INVALID_KEY):t(n)}},{key:"buildLanguageKeyVerificationDetails",value:function(e){return{url:"".concat(e,"/language/analyze-text/jobs?api-version=2022-10-01-preview"),method:"POST",createHeaders:function(t){return{"Ocp-Apim-Subscription-Key":"".concat(t)}},handleVerificationResult:i.handleLanguageVerificationResult}}},{key:"handleTranslationVerificationResult",value:function(e,n,t,a){e.json().then(function(r){!Array.isArray(r)&&r.error.code===401e3?a(fe.INVALID_KEY):t(n)})}},{key:"buildTranslationKeyVerificationDetails",value:function(e){return{url:"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=es",method:"POST",createHeaders:function(t){return i.buildTranslationHeaders(e,t)},handleVerificationResult:i.handleTranslationVerificationResult}}},{key:"buildTranslationHeaders",value:function(e,n){var t={"Ocp-Apim-Subscription-Key":n,"Content-Type":"application/json"};return e&&(t["Ocp-Apim-Subscription-Region"]=e),t}}])}(),U0=function(i){function s(e,n,t,a,r){var o;return w(this,s),o=z(this,s,[e,xn.buildLanguageKeyVerificationDetails(t),n,a,r]),o.insertKeyPlaceholderText="Azure Language Subscription Key",o.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",o.permittedErrorPrefixes=["Access"],o}return U(s,i),S(s)}(Re),so=function(i){function s(e){var n,t;w(this,s);var a,r,o,l,u=(r=(a=e.directConnection)==null?void 0:a.azure)==null?void 0:r.summarization,c=(o=e.directConnection)==null?void 0:o.azure;return t=z(this,s,[e,xn.buildSummarizationHeader,u.endpoint,c]),t.permittedErrorPrefixes=[s.ENDPOINT_ERROR_MESSAGE],t.url="",t.textInputPlaceholderText="Insert text to summarize",t.isTextInputDisabled=!1,u.endpoint?((n=(l=t.rawBody).language)!==null&&n!==void 0||(l.language="en"),Object.assign(t.rawBody,u),t.url="".concat(u.endpoint,"/language/analyze-text/jobs?api-version=2022-10-01-preview")):(t.isTextInputDisabled=!0,t.canSendMessage=function(){return!1},setTimeout(function(){e.addMessage({error:s.ENDPOINT_ERROR_MESSAGE})})),t}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=t[t.length-1].text;if(a)return{analysisInput:{documents:[{id:"1",language:n.language,text:a}]},tasks:[{kind:"ExtractiveSummarization"}]}}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a),this.messages=a;case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!a.error){c.next=2;break}throw a.error.message;case 2:return this.messages&&this.completionsHandlers&&(o=a.headers.get("operation-location"),l={method:"GET",headers:(r=this.connectSettings)==null?void 0:r.headers},me.executePollRequest(this,o,l,this.messages)),c.abrupt("return",{makingAnotherRequest:!0});case 4:case"end":return c.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"extractPollResultData",value:function(){var e=k(h().mark(function t(a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!a.error){d.next=2;break}throw a.error;case 2:if(a.status!=="running"){d.next=4;break}return d.abrupt("return",{timeoutMS:2e3});case 4:if(!(a.errors.length>0)){d.next=6;break}throw a.errors[0];case 6:if(!(a.tasks.items[0].results.errors.length>0)){d.next=8;break}throw a.tasks.items[0].results.errors[0];case 8:r="",o=rc(a.tasks.items[0].results.documents[0].sentences);try{for(o.s();!(l=o.n()).done;)u=l.value,r+=u.text}catch(m){o.e(m)}finally{o.f()}return d.abrupt("return",{text:r||""});case 12:case"end":return d.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(U0);so.ENDPOINT_ERROR_MESSAGE="Please define the azure endpoint. [More Information](https://deepchat.dev/docs/directConnection/Azure#Summarization)";var G0=so,Ei=function(){function i(){w(this,i)}return S(i,null,[{key:"poll",value:function(){var s=k(h().mark(function n(t,a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r={authorization:t,"content-type":"application/json"},d.t0="https://api.assemblyai.com/v2/transcript/",d.next=4,fetch("https://api.assemblyai.com/v2/transcript",{method:"POST",body:JSON.stringify({audio_url:a}),headers:r});case 4:return d.next=6,d.sent.json();case 6:d.t1=d.sent.id,o=d.t0.concat.call(d.t0,d.t1);case 8:if(l){d.next=24;break}return d.next=11,fetch(o,{headers:r});case 11:return d.next=13,d.sent.json();case 13:if(u=d.sent,u.status!=="completed"){d.next=18;break}l=u,d.next=22;break;case 18:if(u.status!=="error"){d.next=20;break}throw new Error("Transcription failed: ".concat(u.error));case 20:return d.next=22,new Promise(function(m){return setTimeout(m,3e3)});case 22:d.next=8;break;case 24:return d.abrupt("return",l);case 25:case"end":return d.stop()}},n)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"buildHeaders",value:function(e){return{Authorization:e,"Content-Type":"application/octet-stream"}}},{key:"handleVerificationResult",value:function(e,n,t,a){var r=e;r.error?r.error.code==="invalid_api_key"?a(fe.INVALID_KEY):a(fe.CONNECTION_FAILED):t(n)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.assemblyai.com/v2/upload",method:"POST",handleVerificationResult:i.handleVerificationResult}}}])}(),H0=function(i){function s(e){var n;w(this,s);var t,a=(t=e.directConnection)==null?void 0:t.assemblyAI;return n=z(this,s,[e,Ei.buildKeyVerificationDetails(),Ei.buildHeaders,a,{audio:{}}]),n.insertKeyPlaceholderText="AssemblyAI API Key",n.keyHelpUrl="https://www.assemblyai.com/app/account",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>AssemblyAI Audio</b></div>
    <p><b>Upload an audio file</b> to transcribe it into text.
    <p>
      Click <a href="https://www.assemblyai.com/docs/Guides/transcribing_an_audio_file#get-started">here</a> for more info.
    </p>`,n.url="https://api.assemblyai.com/v2/upload",n.isTextInputDisabled=!0,n.textInputPlaceholderText="Upload an audio file",n.permittedErrorPrefixes=["Authentication","Invalid"],n.canSendMessage=s.canFileSendMessage,n}return U(s,i),S(s,[{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if((l=this.connectSettings)!=null&&l.headers){c.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o!=null&&o[0]){c.next=4;break}throw new Error("No file was added");case 4:me.request(this,o[0],a,!1);case 5:case"end":return c.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!a.error){c.next=2;break}throw a.error;case 2:return l=(o=(r=this.connectSettings)==null?void 0:r.headers)==null?void 0:o.Authorization,c.next=5,Ei.poll(l,a.upload_url);case 5:return c.t0=c.sent.text,c.abrupt("return",{text:c.t0});case 7:case"end":return c.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"canFileSendMessage",value:function(n,t){return!!(t!=null&&t[0])}}])}(Re),ro=function(i){function s(e,n,t,a,r){var o;return w(this,s),o=z(this,s,[e,xn.buildSpeechKeyVerificationDetails(t),n,a,r]),o.insertKeyPlaceholderText="Azure Speech Subscription Key",o.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",o}return U(s,i),S(s)}(Re),oa=function(i){function s(e){var n,t,a,r;w(this,s);var o,l,u,c,d,m,p=(l=(o=e.directConnection)==null?void 0:o.azure)==null?void 0:l.textToSpeech,f=(u=e.directConnection)==null?void 0:u.azure;return r=z(this,s,[e,xn.buildTextToSpeechHeaders.bind({},(p==null?void 0:p.outputFormat)||"audio-16khz-128kbitrate-mono-mp3"),p.region,f]),r.permittedErrorPrefixes=[s.REGION_ERROR_MESSAGE],r.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Azure Text To Speech</b></div>
    <p>Insert text to synthesize it to audio.
    <p>
      Click <a href="`.concat(s.HELP_LINK,`">here</a> for more info.
    </p>`),r.isTextInputDisabled=!1,r.url="",p.region?(Object.assign(r.rawBody,p),(n=(c=r.rawBody).lang)!==null&&n!==void 0||(c.lang="en-US"),(t=(d=r.rawBody).name)!==null&&t!==void 0||(d.name="en-US-JennyNeural"),(a=(m=r.rawBody).gender)!==null&&a!==void 0||(m.gender="Female"),r.url="https://".concat(p.region,".tts.speech.microsoft.com/cognitiveservices/v1")):(r.isTextInputDisabled=!0,r.canSendMessage=function(){return!1},setTimeout(function(){e.addMessage({error:s.REGION_ERROR_MESSAGE})})),r}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=t[t.length-1].text;if(a)return"<speak version='1.0' xml:lang='".concat(n.lang,`'>
      <voice xml:lang='`).concat(n.lang,"' xml:gender='").concat(n.gender,"' name='").concat(n.name,`'>
        `).concat(a,`
      </voice>
    </speak>`)}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a,!1);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise(function(l){var u=new FileReader;u.readAsDataURL(a),u.onload=function(c){l({files:[{src:c.target.result,type:"audio"}]})}}));case 1:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(ro);oa.HELP_LINK="https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest",oa.REGION_ERROR_MESSAGE="Please define a region config property. [More Information](https://deepchat.dev/docs/directConnection/Azure#TextToSpeech)";var Q0=oa,la=function(i){function s(e){var n;w(this,s);var t,a,r,o=(a=(t=e.directConnection)==null?void 0:t.azure)==null?void 0:a.speechToText,l=(r=e.directConnection)==null?void 0:r.azure,u={audio:{files:{acceptedFormats:".wav,.ogg"}}};if(n=z(this,s,[e,xn.buildSpeechToTextHeaders,o.region,l,u]),n.permittedErrorPrefixes=[s.REGION_ERROR_MESSAGE],n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Azure Speech To Text</b></div>
    <p><b>Upload a .wav or .ogg audio file</b> to transcribe it into text.
    <p>
      Click <a href="`.concat(s.HELP_LINK,`">here</a> for more info.
    </p>`),n.url="",n.isTextInputDisabled=!0,n.textInputPlaceholderText="Upload an audio file",!o.region)n.isTextInputDisabled=!0,n.canSendMessage=function(){return!1},setTimeout(function(){e.addMessage({error:s.REGION_ERROR_MESSAGE})});else{n.canSendMessage=s.canFileSendMessage;var c=o.lang||"en-US";n.url="https://".concat(o.region,".stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=").concat(c,"&format=detailed"),n.recordAudio=void 0}return n}return U(s,i),S(s,[{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((l=this.connectSettings)!=null&&l.headers){d.next=2;break}throw new Error("Request settings have not been set up");case 2:if(o!=null&&o[0]){d.next=4;break}throw new Error("No file was added");case 4:(u=this.connectSettings)!=null&&u.headers&&(this.connectSettings.headers["Content-Type"]=o[0].name.toLocaleLowerCase().endsWith(".wav")?"audio/wav; codecs=audio/pcm; samplerate=16000":"audio/ogg; codecs=opus"),me.request(this,o[0],a,!1);case 5:case"end":return d.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.error){o.next=2;break}throw a.error;case 2:return o.abrupt("return",{text:a.DisplayText||""});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"canFileSendMessage",value:function(n,t){return!!(t!=null&&t[0])}}])}(ro);la.HELP_LINK="https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest",la.REGION_ERROR_MESSAGE="Please define a region config property. [More Information](https://deepchat.dev/docs/directConnection/Azure#SpeechToText)";var J0=la,$0=function(i){function s(e){var n;w(this,s);var t,a,r,o=(a=(t=e.directConnection)==null?void 0:t.azure)==null?void 0:a.translation,l=(r=e.directConnection)==null?void 0:r.azure;return n=z(this,s,[e,xn.buildTranslationKeyVerificationDetails(o.region),xn.buildTranslationHeaders.bind({},o==null?void 0:o.region),l]),n.insertKeyPlaceholderText="Azure Translate Subscription Key",n.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",n.url="",n.url="https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=".concat(o.language||"es"),n}return U(s,i),S(s,[{key:"preprocessBody",value:function(n){var t=n[n.length-1].text;if(t)return[{Text:t}]}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(r),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!Array.isArray(a)){l.next=2;break}return l.abrupt("return",{text:((r=a[0].translations)==null?void 0:r[0].text)||""});case 2:throw a.error;case 3:case"end":return l.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Re),oo=function(i){function s(e,n,t,a,r){var o,l,u;w(this,s);var c,d,m,p,f=JSON.parse(JSON.stringify(e.directConnection)),g=n||ve.buildKeyVerificationDetails(),y=t||ve.buildHeaders,v=a||f.openAI;u=z(this,s,[e,g,y,v]),u.insertKeyPlaceholderText="OpenAI API Key",u.keyHelpUrl="https://platform.openai.com/account/api-keys",u.url="https://api.openai.com/v1/chat/completions",u.permittedErrorPrefixes=["Incorrect"],u.asyncCallInProgress=!1,u._systemMessage=s.generateSystemMessage("You are a helpful assistant.");var b=r||((c=f.openAI)==null?void 0:c.chat);if(B(b)=="object"){b.system_prompt&&(u._systemMessage=s.generateSystemMessage(b.system_prompt));var _=(m=(d=e.directConnection)==null?void 0:d.openAI)==null?void 0:m.chat,C=_.function_handler;C&&(u._functionHandler=C),u.cleanConfig(b),Object.assign(u.rawBody,b)}return(o=u.maxMessages)!==null&&o!==void 0||(u.maxMessages=-1),(l=(p=u.rawBody).model)!==null&&l!==void 0||(p.model="gpt-4o"),u}return U(s,i),S(s,[{key:"cleanConfig",value:function(n){delete n.system_prompt,delete n.function_handler}},{key:"preprocessBody",value:function(n,t){var a,r=JSON.parse(JSON.stringify(n)),o=Pa.getCharacterLimitMessages(t,this.totalMessagesMaxCharLength?this.totalMessagesMaxCharLength-this._systemMessage.content.length:-1).map(function(l){return{content:s.getContent(l),role:l.role===V.USER_ROLE?"user":"assistant"}});return t.find(function(l){return l.files&&l.files.length>0})&&((a=r.max_tokens)!==null&&a!==void 0||(r.max_tokens=300)),r.messages=[this._systemMessage].concat(ni(o)),r}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectSettings){c.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),l=this.stream,l&&(B(l)!="object"||!l.simulation)||o.stream?(o.stream=!0,ye.request(this,o,a)):me.request(this,o,a);case 4:case"end":return c.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!a.error){p.next=2;break}throw a.error.message;case 2:return p.abrupt("return",(u=(l=a.choices)==null?void 0:l[0])!=null&&u.delta?this.extractStreamResult(a.choices[0],r,o):(d=(c=a.choices)==null?void 0:c[0])!=null&&d.message?a.choices[0].message.tool_calls?this.handleTools(a.choices[0].message,r,o):{text:a.choices[0].message.content}:{text:""});case 3:case"end":return p.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractStreamResult",value:function(){var e=k(h().mark(function t(a,r,o){var l=this,u,c,d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u=a.delta,c=a.finish_reason,c!=="tool_calls"){p.next=7;break}return this.asyncCallInProgress=!0,d={tool_calls:this._streamToolCalls},p.abrupt("return",(this._streamToolCalls=void 0,this.handleTools(d,r,o)));case 7:u!=null&&u.tool_calls&&(this._streamToolCalls?u.tool_calls.forEach(function(f,g){l._streamToolCalls&&(l._streamToolCalls[g].function.arguments+=f.function.arguments)}):this._streamToolCalls=u.tool_calls);case 8:return p.abrupt("return",{text:(u==null?void 0:u.content)||""});case 9:case"end":return p.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"handleTools",value:function(){var e=k(h().mark(function t(a,r,o){var l,u,c,d,m,p,f,g,y,v,b;return h().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(!a.tool_calls||!r||!o||!this._functionHandler)){C.next=2;break}throw Error("Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Chat) object.");case 2:return p=JSON.parse(JSON.stringify(o)),f=a.tool_calls.map(function(A){return{name:A.function.name,arguments:A.function.arguments}}),C.next=6,(l=this._functionHandler)==null?void 0:l.call(this,f);case 6:if(g=C.sent,Array.isArray(g)){C.next=17;break}if(!g.text){C.next=16;break}return y={text:g.text},C.next=12,(c=(u=this.deepChat).responseInterceptor)==null?void 0:c.call(u,y);case 12:if(C.t0=C.sent,C.t0){C.next=15;break}C.t0=y;case 15:return C.abrupt("return",C.t0);case 16:throw Error(ve.FUNCTION_TOOL_RESP_ERROR);case 17:return C.next=19,Promise.all(g);case 19:if(v=C.sent,p.messages.push({tool_calls:a.tool_calls,role:"assistant",content:null}),!(!v.find(function(A){var x=A.response;return typeof x!="string"})&&f.length===v.length)){C.next=40;break}return v.forEach(function(A,x){var D,R=(D=a.tool_calls)==null?void 0:D[x];p==null||p.messages.push({role:"tool",tool_call_id:R==null?void 0:R.id,name:R==null?void 0:R.function.name,content:A.response})}),delete p.tools,delete p.tool_choice,delete p.stream,C.prev=22,C.next=25,r==null?void 0:r(p).then(function(A){return W.processResponseByType(A)});case 25:return b=C.sent,C.next=28,(m=(d=this.deepChat).responseInterceptor)==null?void 0:m.call(d,b);case 28:if(C.t1=C.sent,C.t1){C.next=31;break}C.t1=b;case 31:if(b=C.t1,!b.error){C.next=34;break}throw b.error.message;case 34:return C.abrupt("return",{text:b.choices[0].message.content||""});case 37:throw C.prev=37,C.t2=C.catch(22),this.asyncCallInProgress=!1,C.t2;case 40:throw Error(ve.FUNCTION_TOOL_RESP_ERROR);case 41:case"end":return C.stop()}},t,this,[[22,37]])}));function n(t,a,r){return e.apply(this,arguments)}return n}()}],[{key:"generateSystemMessage",value:function(n){return{role:"system",content:n}}},{key:"getContent",value:function(n){if(n.files&&n.files.length>0){var t=n.files.map(function(a){return{type:"image_url",image_url:{url:a.src}}});return n.text&&n.text.trim().length>0&&t.unshift({type:"text",text:n.text}),t}return n.text}}])}(Re),W0=function(i){function s(e){var n;w(this,s);var t,a,r,o,l,u,c,d=JSON.parse(JSON.stringify(e.directConnection)),m=d.azure,p=((a=(t=d.azure)==null?void 0:t.openAI)==null?void 0:a.urlDetails)||{},f=(o=(r=d.azure)==null?void 0:r.openAI)==null?void 0:o.chat;if(n=z(this,s,[e,Ge.buildKeyVerificationDetails(p),Ge.buildHeaders,m,f]),n.permittedErrorPrefixes=[Ge.URL_DETAILS_ERROR_MESSAGE],n.isTextInputDisabled=!1,B(f)=="object"){var g=(c=(u=(l=e.directConnection)==null?void 0:l.azure)==null?void 0:u.openAI)==null?void 0:c.chat,y=g.function_handler;y&&(n._functionHandler=y)}return Ge.validateURLDetails(p)?n.url=s.buildURL(p):(n.isTextInputDisabled=!0,n.canSendMessage=function(){return!1},setTimeout(function(){e.addMessage({error:Ge.URL_DETAILS_ERROR_MESSAGE})})),n}return U(s,i),S(s,null,[{key:"buildURL",value:function(n){var t=n.endpoint,a=n.deploymentId,r=n.version;return"".concat(t,"/openai/deployments/").concat(a,"/completions?api-version=").concat(r)}}])}(oo),Zt=function(i){function s(e){var n;w(this,s);var t,a=e.directConnection,r=a==null?void 0:a.openAI,o={images:{files:{acceptedFormats:".png",maxNumberOfFiles:2}}};n=z(this,s,[e,ve.buildKeyVerificationDetails(),ve.buildHeaders,r,o]),n.insertKeyPlaceholderText="OpenAI API Key",n.keyHelpUrl="https://platform.openai.com/account/api-keys",n.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI DALL·E</b></div>
    <p><b>Insert text</b> to generate an image.</p>
    <p><b>Upload 1</b> PNG image to generate its variation and optionally insert text to specify the change.</p>
    <p><b>Upload 2</b> PNG images where the second is a copy of the first with a transparent area where the edit should
      take place and text to specify the edit.</p>
    <p>Click <a href="https://platform.openai.com/docs/guides/images/introduction">here</a> for more info.</p>`,n.url="",n.permittedErrorPrefixes=["Incorrect","Invalid input image"];var l=(t=a==null?void 0:a.openAI)==null?void 0:t.images;if(n.camera){var u=B(l)=="object"&&l.size?Number.parseInt(l.size):1024;n.camera.files={dimensions:{width:u,height:u}}}return B(l)=="object"&&Object.assign(n.rawBody,l),n.canSendMessage=s.canFileSendMessage,n}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n));return t&&t!==""&&(a.prompt=t),a}},{key:"callApiWithImage",value:function(n,t,a){var r,o,l,u=(o=(r=t[t.length-1])==null?void 0:r.text)==null?void 0:o.trim();if(a[1]||u&&u!==""){this.url=s.IMAGE_EDIT_URL;var c=this.preprocessBody(this.rawBody,u);l=s.createFormDataBody(c,a[0],a[1])}else this.url=s.IMAGE_VARIATIONS_URL,l=s.createFormDataBody(this.rawBody,a[0]);W.tempRemoveContentHeader(this.connectSettings,me.request.bind(this,this,l,n),!1)}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r,o){var l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((l=this.connectSettings)!=null&&l.headers){d.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!(o!=null&&o[0])){d.next=6;break}this.callApiWithImage(a,r,o),d.next=11;break;case 6:if(this.connectSettings){d.next=8;break}throw new Error("Request settings have not been set up");case 8:this.url=s.IMAGE_GENERATION_URL,u=this.preprocessBody(this.rawBody,r[r.length-1].text),me.request(this,u,a);case 11:case"end":return d.stop()}},t,this)}));function n(t,a,r){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.error){o.next=2;break}throw a.error.message;case 2:return o.abrupt("return",{files:a.data.map(function(l){return l.url?{src:l.url,type:"image"}:{src:"".concat(vt).concat(l.b64_json),type:"image"}})});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}],[{key:"canFileSendMessage",value:function(n,t){return!!(t!=null&&t[0])||!!(n&&n.trim()!=="")}},{key:"createFormDataBody",value:function(n,t,a){var r=new FormData;return r.append("image",t),a&&r.append("mask",a),Object.keys(n).forEach(function(o){r.append(o,String(n[o]))}),r}}])}(Re);Zt.IMAGE_GENERATION_URL="https://api.openai.com/v1/images/generations",Zt.IMAGE_VARIATIONS_URL="https://api.openai.com/v1/images/variations",Zt.IMAGE_EDIT_URL="https://api.openai.com/v1/images/edits";var K0=Zt,Y0=function(i){function s(e){var n,t;w(this,s);var a,r=JSON.parse(JSON.stringify(e.directConnection)),o=(a=r.cohere)==null?void 0:a.chat,l=r.cohere;return t=z(this,s,[e,"https://api.cohere.ai/v1/chat","Ask me anything!",o,l]),B(o)=="object"&&Object.assign(t.rawBody,o),(n=t.maxMessages)!==null&&n!==void 0||(t.maxMessages=-1),t}return U(s,i),S(s,[{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n)),r=t.filter(function(o){return o.text});return a.query=r[r.length-1].text,a.chat_history=r.slice(0,r.length-1).map(function(o){return{text:o.text,user_name:o.role==="ai"?"CHATBOT":"USER"}}),a}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{text:a.text});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(La),xs=function(){function i(){w(this,i)}return S(i,null,[{key:"buildHeaders",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json",accept:"application/json"}}},{key:"handleVerificationResult",value:function(e,n,t,a){var r;(r=e.message)!=null&&r.includes("invalid request: prompt must be at least 1 token long")?t(n):a(fe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.mistral.ai/v1/models",method:"GET",handleVerificationResult:i.handleVerificationResult}}}])}(),X0=function(i){function s(e){var n,t,a;w(this,s);var r,o=JSON.parse(JSON.stringify(e.directConnection)).mistral;return a=z(this,s,[e,xs.buildKeyVerificationDetails(),xs.buildHeaders,o]),a.insertKeyPlaceholderText="Mistral API Key",a.keyHelpUrl="https://console.mistral.ai/api-keys/",a.url="https://api.mistral.ai/v1/chat/completions",a.permittedErrorPrefixes=["invalid"],o&&(a.cleanConfig(o),Object.assign(a.rawBody,o)),(n=a.maxMessages)!==null&&n!==void 0||(a.maxMessages=-1),(t=(r=a.rawBody).model)!==null&&t!==void 0||(r.model="open-mistral-7b"),a}return U(s,i),S(s,[{key:"cleanConfig",value:function(n){delete n.key}},{key:"preprocessBody",value:function(n,t){var a=JSON.parse(JSON.stringify(n)),r=t.filter(function(o){return o.text});return a.messages=r.slice(0,r.length-1).map(function(o){return{text:o.text,user_name:o.role==="ai"?"system":"user"}}),a}},{key:"callServiceAPI",value:function(){var e=k(h().mark(function t(a,r){var o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectSettings){u.next=2;break}throw new Error("Request settings have not been set up");case 2:o=this.preprocessBody(this.rawBody,r),me.request(this,o,a);case 4:case"end":return u.stop()}},t,this)}));function n(t,a){return e.apply(this,arguments)}return n}()},{key:"extractResultData",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.message){o.next=2;break}throw a.message;case 2:return o.abrupt("return",{text:a.text});case 3:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()}])}(Re),em=function(){function i(){w(this,i)}return S(i,null,[{key:"create",value:function(e){var n=e.directConnection,t=e.connect,a=e.demo,r=e.webModel;if(r)return new Da(e);if(n){if(n.openAI)return n.openAI.images?new K0(e):n.openAI.speechToText?new z0(e):n.openAI.textToSpeech?new V0(e):n.openAI.assistant?new N0(e):new oo(e);if(n.assemblyAI)return new H0(e);if(n.cohere)return n.cohere.textGeneration?new Z0(e):n.cohere.summarization?new j0(e):new Y0(e);if(n.huggingFace)return n.huggingFace.textGeneration?new E0(e):n.huggingFace.summarization?new q0(e):n.huggingFace.translation?new F0(e):n.huggingFace.fillMask?new O0(e):n.huggingFace.questionAnswer?new M0(e):n.huggingFace.audioSpeechRecognition?new x0(e):n.huggingFace.audioClassification?new k0(e):n.huggingFace.imageClassification?new R0(e):new P0(e);if(n.azure){if(n.azure.openAI){if(n.azure.openAI.chat)return new W0(e);if(n.azure.openAI.assistant)return new B0(e)}if(n.azure.speechToText)return new J0(e);if(n.azure.textToSpeech)return new Q0(e);if(n.azure.summarization)return new G0(e);if(n.azure.translation)return new $0(e)}if(n.stabilityAI)return n.stabilityAI.imageToImage?new D0(e):n.stabilityAI.imageToImageUpscale?new _0(e):n.stabilityAI.imageToImageMasking?new I0(e):new L0(e);if(n.mistral)return new X0(e)}return t&&(!a||!t.stream)?new Wt(e):new Wt(e,void 0,a||!0)}}])}(),lo=S(function i(){w(this,i)});lo.attibutes={string:function(s){return s},number:function(s){return parseFloat(s)},boolean:function(s){return s==="true"},object:function(s){return JSON.parse(s)},array:function(s){return JSON.parse(s)},function:function(s){return new Function("return ".concat(s))()}};var nm=lo;function K(i){return function(s,e){Object.defineProperty(s,e,{});var n=s.constructor,t=e.toLocaleLowerCase();n._attributes_[t]=nm.attibutes[i],n._attributeToProperty_[t]=e}}var tm=function(){function i(s,e,n){w(this,i),this._isDisplayed=!1,s?(this._elementRef=this.createIntroPanelWithChild(s,n),this._isDisplayed=!0):e&&(this._elementRef=this.createInternalIntroPanel(e,n),this._isDisplayed=!0)}return S(i,[{key:"createIntroPanelWithChild",value:function(e,n){var t=i.createIntroPanel(n);return e.style.display==="none"&&(e.style.display="block"),t.appendChild(e),t}},{key:"createInternalIntroPanel",value:function(e,n){var t=i.createIntroPanel(n);return t.id="internal-intro-panel",t.innerHTML=e,t}},{key:"hide",value:function(){this._isDisplayed&&this._elementRef&&(this._elementRef.style.display="none",this._isDisplayed=!1)}},{key:"display",value:function(){!this._isDisplayed&&this._elementRef&&(this._elementRef.style.display="",this._isDisplayed=!0)}}],[{key:"createIntroPanel",value:function(e){var n=document.createElement("div");return n.classList.add("intro-panel"),Object.assign(n.style,e),n}}])}(),im=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="50 30 420 450" xml:space="preserve">
<g filter="brightness(0) saturate(100%) invert(16%) sepia(0%) saturate(1942%) hue-rotate(215deg) brightness(99%) contrast(93%)">
	<g>
		<path d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008
			C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237
			h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931
			l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278
			c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239
			h66.527V486.763z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/>
	</g>
</g>
<g>
	<g>
		<path d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256
			c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/>
	</g>
</g>
</svg>`,Bt=function(){function i(){w(this,i)}return S(i,null,[{key:"createImage",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r=new Image;return r.src=e.src,!t&&a&&_e.scrollDownOnImageLoad(r.src,n),_e.processContent("image",r,r.src,e.name)}},{key:"createImageMessage",value:function(e,n,t,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=i.createImage(n,e.elementRef,a,r),l=e.createNewMessageElement("",t);return l.bubbleElement.appendChild(o),l.bubbleElement.classList.add(i.IMAGE_BUBBLE_CLASS),{type:"image",elements:l}}},{key:"createAudioElement",value:function(e,n){var t=document.createElement("audio");return t.src=e.src,t.classList.add("audio-player"),t.controls=!0,Gn.IS_SAFARI&&(t.classList.add("audio-player-safari"),t.classList.add(n===V.USER_ROLE?"audio-player-safari-right":"audio-player-safari-left")),t}},{key:"createNewAudioMessage",value:function(e,n,t,a){var r=i.createAudioElement(n,t),o=e.createMessageElementsOnOrientation("",t,a);return o.bubbleElement.appendChild(r),o.bubbleElement.classList.add(i.AUDIO_BUBBLE_CLASS),{type:"audio",elements:o}}},{key:"createAnyFile",value:function(e){var n=document.createElement("div");n.classList.add("any-file-message-contents");var t=document.createElement("div");t.classList.add("any-file-message-icon-container");var a=De.createSVGElement(im);a.classList.add("any-file-message-icon"),t.appendChild(a);var r=document.createElement("div");return r.classList.add("any-file-message-text"),r.textContent=e.name||_e.DEFAULT_FILE_NAME,n.appendChild(t),n.appendChild(r),_e.processContent("any",n,e.src,r.textContent)}},{key:"createNewAnyFileMessage",value:function(e,n,t,a){var r=e.createMessageElementsOnOrientation("",t,a),o=i.createAnyFile(n);return r.bubbleElement.classList.add(i.ANY_FILE_BUBBLE_CLASS),r.bubbleElement.appendChild(o),{type:"file",elements:r}}},{key:"createMessages",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n.map(function(o){return o.ref&&(o=_e.removeFileRef(o)),_e.isAudioFile(o)?i.createNewAudioMessage(e,o,t,a):_e.isImageFile(o)?i.createImageMessage(e,o,t,a,r):i.createNewAnyFileMessage(e,o,t,a)})}},{key:"addMessages",value:function(e,n,t,a){i.createMessages(e,n,t,a).forEach(function(r){var o=r.type,l=r.elements;_e.addMessage(e,l,o,t,a)})}}])}();Bt.IMAGE_BUBBLE_CLASS="image-message",Bt.AUDIO_BUBBLE_CLASS="audio-message",Bt.ANY_FILE_BUBBLE_CLASS="any-file-message";var uo=Bt,am=function(){function i(){w(this,i)}return S(i,null,[{key:"removeElements",value:function(e,n){if(n){var t=e.findIndex(function(a){return a===n});e.splice(t,1),n==null||n.outerContainer.remove()}}},{key:"removeFilesMessages",value:function(e,n){var t;(t=n[1].files)==null||t.forEach(function(a){i.removeElements(e.messageElementRefs,a)}),delete n[0].files,delete n[1].files}},{key:"removeTextHTMLMessage",value:function(e,n,t){var a=n[1][t];i.removeElements(e.messageElementRefs,a),delete n[0][t],delete n[1][t]}},{key:"updateHTMLMessage",value:function(e,n,t){var a,r;if(n[1].html)dn.overwriteElements(e,t,n[1].html);else{var o=dn.create(e,t,n[0].role),l=((r=n[1].files)==null?void 0:r[((a=n[1].files)==null?void 0:a.length)-1])||n[1].text;e.elementRef.insertBefore(o.outerContainer,l.outerContainer.nextSibling),e.messageElementRefs.splice(e.messageElementRefs.length-1,1);var u=e.messageElementRefs.findIndex(function(c){return c===l});e.messageElementRefs.splice(u+1,0,o),n[1].html=o}n[0].html=t}},{key:"updateFileMessages",value:function(e,n,t){var a,r,o=n[0].role,l=uo.createMessages(e,t,o),u=n[1].html,c=((r=n[1].files)==null?void 0:r[((a=n[1].files)==null?void 0:a.length)-1])||n[1].text,d=u||c,m=e.messageElementRefs.findIndex(function(f){return f===d});c&&(m+=1);var p=(u==null?void 0:u.outerContainer)||(c==null?void 0:c.outerContainer.nextSibling);l.forEach(function(f,g){var y=f.type,v=f.elements;_e.setElementProps(e,v,y,o),e.elementRef.insertBefore(v.outerContainer,p),e.messageElementRefs.splice(e.messageElementRefs.length-1,1),e.messageElementRefs.splice(m+g,0,v)}),i.removeFilesMessages(e,n),n[1].files=l.map(function(f){var g=f.elements;return g}),n[0].files=t}},{key:"updateTextMessage",value:function(e,n,t){var a;if(n[1].text)e.renderText(n[1].text.bubbleElement,t);else{var r=e.createElements(t,n[0].role),o=((a=n[1].files)==null?void 0:a[0])||n[1].html;e.elementRef.insertBefore(r.outerContainer,o.outerContainer);var l=e.messageElementRefs.findIndex(function(u){return u===o});e.messageElementRefs.splice(l,0,r),n[1].text=r}n[0].text=t}},{key:"isElementActive",value:function(e){var n,t;return ua.isActiveElement((n=e.text)==null?void 0:n.bubbleElement.classList)||ua.isActiveElement((t=e.html)==null?void 0:t.bubbleElement.classList)}},{key:"update",value:function(e,n,t){var a=e.messageToElements[t];if(a){if(i.isElementActive(a[1]))return console.error("Cannot update a message that is being streamed");n.text&&i.updateTextMessage(e,a,n.text),n.html&&i.updateHTMLMessage(e,a,n.html),n.files?i.updateFileMessages(e,a,n.files):i.removeFilesMessages(e,a),!n.text&&a[1].text&&i.removeTextHTMLMessage(e,a,"text"),!n.html&&a[1].html&&i.removeTextHTMLMessage(e,a,"html")}else console.error("Message index not found. Please use the `getMessages` method to find the correct index")}}])}(),sm=function(){function i(){w(this,i)}return S(i,null,[{key:"getText",value:function(e,n){var t;if(!e.directConnection&&!e.connect&&!e.webModel&&!e.demo)return`Connect to any API using the [connect](https://deepchat.dev/docs/connect#connect-1) property or a popular service via [directConnection](https://deepchat.dev/docs/directConnection/#directConnection).
 Host AI entirely on your browser via a [webModel](https://deepchat.dev/docs/webModel).
 To get started checkout the [Start](https://deepchat.dev/start) page and live code [examples](https://deepchat.dev/examples/frameworks).
 To remove this message set the [demo](https://deepchat.dev/docs/demo#demo) property to true.`;if(e.directConnection){if(!n.isDirectConnection())return`Please define a valid service inside
          the [directConnection](https://deepchat.dev/docs/directConnection/#directConnection) object.`;var a=(t=e.directConnection.openAI)==null?void 0:t.chat;if(B(a)=="object"&&a.tools&&!a.function_handler)return"Please define the `function_handler` property inside the openAI [chat](https://deepchat.dev/docs/directConnection/openAI#Chat) object."}else if(e.connect&&!e.connect.url&&!e.connect.handler)return e.demo?e.connect.stream?null:"When [demo](https://deepchat.dev/docs/demo) mode is enabled - the [connect](https://deepchat.dev/docs/connect#connect-1) object can only accept the [stream](https://deepchat.dev/docs/connect#Stream) property.":"Please define a `url` or a `handler` property inside the [connect](https://deepchat.dev/docs/connect#connect-1) object.";return null}}])}(),ua=function(i){function s(e,n,t){var a;w(this,s);var r,o;a=z(this,s,[e]);var l=n.permittedErrorPrefixes,u=n.introPanelMarkUp,c=n.demo;return a._errorMessageOverrides=(r=e.errorMessages)==null?void 0:r.overrides,a._onClearMessages=$t.onClearMessages.bind(a,e),a._onError=$t.onError.bind(a,e),a._displayLoadingMessage=s.getDisplayLoadingMessage(e,n),a._permittedErrorPrefixes=l,a.addSetupMessageIfNeeded(e,n)||a.populateIntroPanel(t,u,e.introPanelStyle),a.addIntroductoryMessages(e,n),new qa(e,a,n),a._displayServiceErrorMessages=(o=e.errorMessages)==null?void 0:o.displayServiceErrorMessages,e.getMessages=function(){return JSON.parse(JSON.stringify(a.messageToElements.map(function(d){var m=Ca(d,1),p=m[0];return p})))},e.clearMessages=a.clearMessages.bind(a,n),e.refreshMessages=a.refreshTextMessages.bind(a,e.remarkable),e.scrollToBottom=Ze.scrollToBottom.bind(a,a.elementRef),e.addMessage=function(d,m){a.addAnyMessage(ne(ne({},d),{},{sendUpdate:!!m}),!m)},e.updateMessage=function(d,m){return am.update(a,d,m)},n.isWebModel()&&n.setUpMessages(a),c&&a.prepareDemo(xe.processDemo(c)),e.textToSpeech&&Ft.processConfig(e.textToSpeech,function(d){a.textToSpeech=d}),a}return U(s,i),S(s,[{key:"prepareDemo",value:function(n){var t;if(B(n)=="object"){if(n.displayLoading){var a=n.displayLoading.history;a!=null&&a.small&&Sn.addMessage(this,!1),a!=null&&a.full&&Sn.addMessage(this)}n.displayErrors&&(n.displayErrors.default&&this.addNewErrorMessage("",""),n.displayErrors.service&&this.addNewErrorMessage("service",""),n.displayErrors.speechToText&&this.addNewErrorMessage("speechToText","")),(t=n.displayLoading)!=null&&t.message&&this.addLoadingMessage(),n.response&&(this.customDemoResponse=n.response)}}},{key:"addSetupMessageIfNeeded",value:function(n,t){var a=sm.getText(n,t);if(a){var r=this.createAndAppendNewMessageElement(a,V.AI_ROLE);this.applyCustomStyles(r,V.AI_ROLE,!1)}return!!a}},{key:"addIntroductoryMessages",value:function(n,t){var a,r=this;n!=null&&n.shadowRoot&&(this._introMessage=n.introMessage);var o=this._introMessage;t!=null&&t.isWebModel()&&((a=o)!==null&&a!==void 0||(o=t.getIntroMessage(o))),o&&(Array.isArray(o)?o.forEach(function(l,u){u!==0&&V.hideRoleElements(r.messageElementRefs,!!r._avatars,!!r._names),r.addIntroductoryMessage(l)}):this.addIntroductoryMessage(o))}},{key:"addIntroductoryMessage",value:function(n){var t,a;n!=null&&n.text?a=this.createAndAppendNewMessageElement(n.text,V.AI_ROLE):n!=null&&n.html&&(a=dn.add(this,n.html,V.AI_ROLE,this.messageElementRefs)),a&&(this.applyCustomStyles(a,V.AI_ROLE,!1,(t=this.messageStyles)==null?void 0:t.intro),a.outerContainer.classList.add(Tn.INTRO_CLASS))}},{key:"removeIntroductoryMessage",value:function(){var n=this.messageElementRefs[0];n.outerContainer.classList.contains(Tn.INTRO_CLASS)&&(n.outerContainer.remove(),this.messageElementRefs.shift())}},{key:"addAnyMessage",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n.error?this.addNewErrorMessage("service",n.error):this.addNewMessage(n,t,a)}},{key:"addNewMessage",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=s.createMessageContent(n),o={status:n.overwrite};if(!n.ignoreText&&r.text!==void 0&&n.text!==null&&(this.addNewTextMessage(r.text,r.role,o,a),!t&&this.textToSpeech&&r.role!==V.USER_ROLE&&Ft.speak(r.text,this.textToSpeech)),r.files&&Array.isArray(r.files)&&uo.addMessages(this,r.files,r.role,a),r.html!==void 0&&r.html!==null){var l=dn.add(this,r.html,r.role,this.messageElementRefs,o,a);dt.isElementTemporary(l)&&delete r.html}return this.isValidMessageContent(r)&&!a&&this.updateStateOnMessage(r,n.overwrite,n.sendUpdate,t),r}},{key:"isValidMessageContent",value:function(n){return n.text||n.html||n.files&&n.files.length>0}},{key:"updateStateOnMessage",value:function(n,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!t){var o=V.generateMessageBody(n,this.messageElementRefs);this.messageToElements.push([n,o])}a&&this.sendClientUpdate(n,r)}},{key:"removeMessageOnError",value:function(){var n=this.messageElementRefs[this.messageElementRefs.length-1],t=n==null?void 0:n.bubbleElement;(t!=null&&t.classList.contains(mn.MESSAGE_CLASS)&&t.textContent===""||s.isTemporaryElement(n))&&this.removeLastMessage()}},{key:"addNewErrorMessage",value:function(n,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r,o,l,u,c;this.removeMessageOnError();var d=this.getPermittedMessage(t)||((r=this._errorMessageOverrides)==null?void 0:r[n])||((o=this._errorMessageOverrides)==null?void 0:o.default)||"Error, please try again.",m=this.createMessageElementsOnOrientation(d,"error",a);V.hideRoleElements(this.messageElementRefs,!!this._avatars,!!this._names);var p=m.bubbleElement,f=m.outerContainer;p.classList.add("error-message-text"),this.renderText(p,d);var g=Lt.extractParticularSharedStyles(["fontSize","fontFamily"],(l=this.messageStyles)==null?void 0:l.default);Lt.applyCustomStylesToElements(m,!1,g),Lt.applyCustomStylesToElements(m,!1,(u=this.messageStyles)==null?void 0:u.error),a||this.elementRef.appendChild(f),this.textToSpeech&&Ft.speak(d,this.textToSpeech),(c=this._onError)==null||c.call(this,d)}},{key:"getPermittedMessage",value:function(n){if(n)for(var t=s.extractErrorMessages(n),a=0;a<t.length;a+=1){var r=t[a];if(typeof r=="string"){if(this._displayServiceErrorMessages)return r;if(this._permittedErrorPrefixes){var o=s.checkPermittedErrorPrefixes(this._permittedErrorPrefixes,r);if(o)return o}}}}},{key:"removeError",value:function(){this.isLastMessageError()&&V.getLastMessageElement(this.elementRef).remove()}},{key:"addDefaultLoadingMessage",value:function(){var n=this.createMessageElements("",V.AI_ROLE),t=n.bubbleElement;n.bubbleElement.classList.add(wn.DOTS_CONTAINER_CLASS);var a=document.createElement("div");return a.classList.add("loading-message-dots"),t.appendChild(a),wn.setDots(t,this.messageStyles),n}},{key:"addLoadingMessage",value:function(){var n,t,a,r,o,l;if(this._displayLoadingMessage){var u=(a=(t=(n=this.messageStyles)==null?void 0:n.loading)==null?void 0:t.message)==null?void 0:a.html,c=u?dn.createElements(this,u,V.AI_ROLE,!1):this.addDefaultLoadingMessage();this.elementRef.appendChild(c.outerContainer),c.bubbleElement.classList.add(wn.BUBBLE_CLASS),this.applyCustomStyles(c,V.AI_ROLE,!1,(l=(o=(r=this.messageStyles)==null?void 0:r.loading)==null?void 0:o.message)==null?void 0:l.styles),Ze.scrollToBottom(this.elementRef)}}},{key:"populateIntroPanel",value:function(n,t,a){(n||t)&&(this._introPanel=new tm(n,t,a),this._introPanel._elementRef&&(Hn.apply(this,this._introPanel._elementRef),this.elementRef.appendChild(this._introPanel._elementRef)))}},{key:"addMultipleFiles",value:function(){var e=k(h().mark(function t(a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.all((a||[]).map(function(l){return new Promise(function(u){if(!l.type||l.type==="any"){var c=l.file.name||_e.DEFAULT_FILE_NAME;u({name:c,type:"any",ref:l.file})}else{var d=new FileReader;d.readAsDataURL(l.file),d.onload=function(){u({src:d.result,type:l.type,ref:l.file})}}})})));case 1:case"end":return o.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"clearMessages",value:function(n,t){var a,r,o,l=[];this.messageElementRefs.forEach(function(c){s.isActiveElement(c.bubbleElement.classList)?l.push(c):c.outerContainer.remove()}),Array.from(this.elementRef.children).forEach(function(c){var d,m=(d=c.children[0])==null?void 0:d.children[0];m!=null&&m.classList.contains("error-message-text")&&c.remove()}),this.messageElementRefs=l;var u=this.messageToElements.filter(function(c){return c[1].text&&s.isActiveElement(c[1].text.bubbleElement.classList)||c[1].html&&s.isActiveElement(c[1].html.bubbleElement.classList)});(a=this.messageToElements).splice.apply(a,[0,this.messageToElements.length].concat(ni(u))),t!==!1&&((r=this._introPanel)!=null&&r._elementRef&&this._introPanel.display(),this.addIntroductoryMessages()),(o=this._onClearMessages)==null||o.call(this),delete n.sessionId}}],[{key:"getDisplayLoadingMessage",value:function(n,t){var a;return t.websocket?!1:(a=n.displayLoadingBubble)!==null&&a!==void 0?a:!0}},{key:"checkPermittedErrorPrefixes",value:function(n,t){for(var a=0;a<n.length;a+=1)if(t.startsWith(n[a]))return t}},{key:"extractErrorMessages",value:function(n){return Array.isArray(n)?n:n instanceof Error?[n.message]:typeof n=="string"?[n]:B(n)=="object"&&n.error?[n.error]:[]}},{key:"isActiveElement",value:function(n){return n?n.contains(wn.BUBBLE_CLASS)||n.contains(Sn.CLASS)||n.contains(mn.MESSAGE_CLASS):!1}}])}(Tn),tt=function(){function i(){w(this,i)}return S(i,null,[{key:"adjustInputPadding",value:function(e,n){n["inside-left"].length>0&&e.classList.add("text-input-inner-left-adjustment"),n["inside-right"].length>0&&e.classList.add("text-input-inner-right-adjustment")}},{key:"adjustForOutsideButton",value:function(e,n,t){t["outside-right"].length===0&&t["outside-left"].length>0?(e[0].classList.add(i.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS),n.classList.add(i.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS)):t["outside-left"].length===0&&t["outside-right"].length>0&&(e[3].classList.add(i.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS),n.classList.add(i.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS))}},{key:"adjustOutsideSubmit",value:function(e,n,t){if(!(t["inside-left"].length>0||t["inside-right"].length>0)){if(t["outside-right"].length===0&&t["outside-left"].length>0)return e[0].classList.add(i.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS),n.classList.add(i.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS),t["outside-left"].map(function(a){return a.button.elementRef.classList.add("submit-button-enlarged")});if(t["outside-left"].length===0&&t["outside-right"].length>0)return e[3].classList.add(i.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS),n.classList.add(i.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS),t["outside-right"].map(function(a){return a.button.elementRef.classList.add("submit-button-enlarged")})}}},{key:"set",value:function(e,n,t,a){i.adjustOutsideSubmit(n,t,a)||i.adjustForOutsideButton(n,t,a),i.adjustInputPadding(e,a)}}])}();tt.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS="text-input-container-left-adjustment",tt.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS="text-input-container-right-adjustment",tt.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS="text-input-container-left-small-adjustment",tt.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS="text-input-container-right-small-adjustment";var rm=tt,Kt=function(){function i(){w(this,i)}return S(i,null,[{key:"create",value:function(){return Array.from({length:4}).map(function(e,n){var t=document.createElement("div");return t.classList.add("input-button-container"),(n===0||n===3)&&t.classList.add("outer-button-container"),(n===1||n===2)&&t.classList.add("inner-button-container"),t})}},{key:"add",value:function(e,n){e.insertBefore(n[1],e.firstChild),e.insertBefore(n[0],e.firstChild),e.appendChild(n[2]),e.appendChild(n[3])}},{key:"getContainerIndex",value:function(e){return e==="outside-left"?0:e==="inside-left"?1:e==="inside-right"?2:3}},{key:"addButton",value:function(e,n,t){n.classList.add(t);var a=i.getContainerIndex(t);e[a].appendChild(n),a===3&&n.classList.add("outside-right")}}])}(),Es=["camera","gifs","images","audio","mixedFiles","submit","microphone"],Cn=function(){function i(){w(this,i)}return S(i,null,[{key:"createTextElement",value:function(e){var n=document.createElement("div");return n.classList.add("text-button"),n.innerText=e,n}},{key:"createElement",value:function(e,n){return n?i.createTextElement(e):De.createSVGElement(e)}},{key:"createCustomElement",value:function(e,n){var t,a,r,o,l=n==null?void 0:n[e];if((t=l==null?void 0:l.svg)!=null&&t.content)return i.createElement((a=l==null?void 0:l.svg)==null?void 0:a.content,!1);if((r=l==null?void 0:l.text)!=null&&r.content)return i.createElement((o=l==null?void 0:l.text)==null?void 0:o.content,!0)}},{key:"processElement",value:function(e,n){n!=null&&n.classList.contains("text-button")||e.classList.add("input-button-svg")}},{key:"createSpecificStateElement",value:function(e,n,t){var a;return t&&(a=i.createCustomElement(n,t)),i.processElement(e,a),a}},{key:"createInnerElement",value:function(e,n,t,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o,l;return r&&!((l=(o=a==null?void 0:a[t])==null?void 0:o.svg)!=null&&l.content)?n:i.createSpecificStateElement(e,t,a)||n}}])}(),om=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z"></path>
</svg>`,yn=function(){function i(){w(this,i)}return S(i,null,[{key:"unsetAllCSS",value:function(e,n){var t,a;n.container&&Se.unsetAllCSSMouseStates(e,n.container),(t=n.svg)!=null&&t.styles&&Se.unsetAllCSSMouseStates(e.children[0],n.svg.styles),(a=n.text)!=null&&a.styles&&Se.unsetAllCSSMouseStates(e.children[0],n.text.styles)}},{key:"unsetActionCSS",value:function(e,n){var t,a;n.container&&Se.unsetActivityCSSMouseStates(e,n.container),(t=n.svg)!=null&&t.styles&&Se.unsetActivityCSSMouseStates(e.children[0],n.svg.styles),(a=n.text)!=null&&a.styles&&Se.unsetActivityCSSMouseStates(e.children[0],n.text.styles)}},{key:"setElementsCSS",value:function(e,n,t){var a,r,o,l,u;Object.assign(e.style,(a=n.container)==null?void 0:a[t]),Object.assign(e.children[0].style,(o=(r=n.svg)==null?void 0:r.styles)==null?void 0:o[t]),Object.assign(e.children[0].style,(u=(l=n.text)==null?void 0:l.styles)==null?void 0:u[t])}},{key:"setElementCssUpToState",value:function(e,n,t){i.setElementsCSS(e,n,"default"),t!=="default"&&(i.setElementsCSS(e,n,"hover"),t!=="hover"&&i.setElementsCSS(e,n,"click"))}}])}(),bt=function(){function i(s,e,n,t){w(this,i),this._mouseState={state:"default"},this.elementRef=s,this._customStyles=n,this.position=e,this.dropupText=t}return S(i,[{key:"buttonMouseLeave",value:function(e){this._mouseState.state="default",e&&(yn.unsetAllCSS(this.elementRef,e),yn.setElementsCSS(this.elementRef,e,"default"))}},{key:"buttonMouseEnter",value:function(e){this._mouseState.state="hover",e&&yn.setElementsCSS(this.elementRef,e,"hover")}},{key:"buttonMouseUp",value:function(e){e&&yn.unsetActionCSS(this.elementRef,e),this.buttonMouseEnter(e)}},{key:"buttonMouseDown",value:function(e){this._mouseState.state="click",e&&yn.setElementsCSS(this.elementRef,e,"click")}},{key:"setEvents",value:function(e){this.elementRef.onmousedown=this.buttonMouseDown.bind(this,e),this.elementRef.onmouseup=this.buttonMouseUp.bind(this,e),this.elementRef.onmouseenter=this.buttonMouseEnter.bind(this,e),this.elementRef.onmouseleave=this.buttonMouseLeave.bind(this,e)}},{key:"unsetCustomStateStyles",value:function(e){if(this._customStyles)for(var n=0;n<e.length;n+=1){var t=e[n],a=t&&this._customStyles[t];a&&yn.unsetActionCSS(this.elementRef,a)}}},{key:"reapplyStateStyle",value:function(e,n){if(this._customStyles){n&&this.unsetCustomStateStyles(n);var t=this._customStyles[e];t&&yn.setElementCssUpToState(this.elementRef,t,this._mouseState.state),this.setEvents(t)}}}])}(),Ms=function(){function i(){w(this,i)}return S(i,null,[{key:"focusItemWhenOnEdge",value:function(e,n){var t=n?e.children[0]:e.children[e.children.length-1];i.focusSiblingItem(t,e,n,!0)}},{key:"focusSiblingItem",value:function(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=a?e:e[t?"nextSibling":"previousSibling"];r?(e.dispatchEvent(new MouseEvent("mouseleave")),r.dispatchEvent(new MouseEvent("mouseenter"))):(e.dispatchEvent(new MouseEvent("mouseleave")),i.focusItemWhenOnEdge(n,t))}}])}(),lm=function(){function i(){w(this,i)}return S(i,null,[{key:"addItemEvents",value:function(e,n,t,a){Pr.add(n,a),n.addEventListener("click",function(){t.click()}),n.addEventListener("mouseenter",function(r){e.highlightedItem=r.target}),n.addEventListener("mouseleave",function(){e.highlightedItem=void 0})}},{key:"createItemText",value:function(e,n){var t=document.createElement("div");return Object.assign(t.style,n),t.classList.add("dropup-menu-item-text"),t.textContent=e||"File",t}},{key:"createItemIcon",value:function(e,n){var t=document.createElement("div");return Object.assign(t.style,n),t.classList.add("dropup-menu-item-icon"),t.appendChild(e.children[0]),t}},{key:"populateItem",value:function(e,n,t,a){var r=e.children[0];r.classList.contains("text-button")?n.appendChild(i.createItemText(r.textContent,a==null?void 0:a.text)):(n.appendChild(i.createItemIcon(e,a==null?void 0:a.iconContainer)),n.appendChild(i.createItemText(t,a==null?void 0:a.text)))}},{key:"createItem",value:function(e,n,t){var a,r=n.elementRef,o=n.dropupText,l=document.createElement("div");Object.assign(l.style,(a=t==null?void 0:t.item)==null?void 0:a.default),i.populateItem(r,l,o,t),l.classList.add("dropup-menu-item");var u=Se.processStateful((t==null?void 0:t.item)||{},{backgroundColor:"#f3f3f3"},{backgroundColor:"#ebebeb"});return i.addItemEvents(e,l,r,u),l}}])}(),um=function(){function i(s,e){var n=this;w(this,i);var t;this._isOpen=!0,this._styles=e,this.elementRef=i.createElement((t=this._styles)==null?void 0:t.container),this.close(),setTimeout(function(){return n.addWindowEvents(s)})}return S(i,[{key:"open",value:function(){this.elementRef.style.display="block",this._isOpen=!0}},{key:"close",value:function(){this._isOpen&&(this.elementRef.style.display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.close():this.open()}},{key:"addItem",value:function(e){var n=lm.createItem(this,e,this._styles);this.elementRef.appendChild(n)}},{key:"addWindowEvents",value:function(e){this.clickEvent=this.windowClick.bind(this,e),window.addEventListener("click",this.clickEvent),this.keyDownEvent=this.windowKeyDown.bind(this,e),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowClick",value:function(e,n){var t;!e.isConnected&&this.clickEvent?window.removeEventListener("click",this.clickEvent):e.parentElement!==((t=n.target.shadowRoot)==null?void 0:t.children[0])&&this.close()}},{key:"windowKeyDown",value:function(e,n){var t,a,r;!e.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(n.key===be.ESCAPE?(this.close(),(t=this.highlightedItem)==null||t.dispatchEvent(new MouseEvent("mouseleave"))):n.key===be.ENTER?((a=this.highlightedItem)==null||a.click(),(r=this.highlightedItem)==null||r.dispatchEvent(new MouseEvent("mouseleave"))):n.key===be.ARROW_DOWN?Ms.focusSiblingItem(this.highlightedItem||this.elementRef.children[this.elementRef.children.length-1],this.elementRef,!0):n.key===be.ARROW_UP&&Ms.focusSiblingItem(this.highlightedItem||this.elementRef.children[0],this.elementRef,!1))}}],[{key:"createElement",value:function(e){var n=document.createElement("div");return n.id="dropup-menu",Object.assign(n.style,e),n}}])}(),qs=function(i){function s(e,n){var t;w(this,s);var a;t=z(this,s,[s.createButtonElement(),void 0,{styles:(a=n==null?void 0:n.button)==null?void 0:a.styles}]);var r=t.createInnerElements(t._customStyles);return t._menu=new um(e,n==null?void 0:n.menu),t.addClickEvent(),t.buttonContainer=s.createButtonContainer(),t.elementRef.appendChild(r.styles),t.buttonContainer.appendChild(t.elementRef),t.elementRef.classList.add("dropup-icon","upload-file-button"),t.elementRef.children[0].id="dropup-icon",t.buttonContainer.appendChild(t._menu.elementRef),t.reapplyStateStyle("styles"),t.addContainerEvents(e),t}return U(s,i),S(s,[{key:"createInnerElements",value:function(n){return{styles:this.createInnerElement(s.createSVGIconElement(),"styles",n)}}},{key:"createInnerElement",value:function(n,t,a){return Cn.createSpecificStateElement(this.elementRef,t,a)||n}},{key:"addClickEvent",value:function(){this.elementRef.onclick=this._menu.toggle.bind(this._menu)}},{key:"addItem",value:function(n){this._menu.addItem(n)}},{key:"addContainerEvents",value:function(n){var t=this;n.addEventListener("click",function(a){a.target.classList.contains("dropup-icon")||t._menu.close()})}}],[{key:"createButtonElement",value:function(){var n=document.createElement("div");return n.classList.add("input-button"),n}},{key:"createSVGIconElement",value:function(){return De.createSVGElement(om)}},{key:"createButtonContainer",value:function(){var n=document.createElement("div");return n.id="dropup-container",n}},{key:"getPosition",value:function(n,t){var a,r;return(a=t==null?void 0:t.button)!=null&&a.position?(r=t==null?void 0:t.button)==null?void 0:r.position:n["outside-left"].length>0&&n["outside-right"].length===0?"outside-right":"outside-left"}}])}(bt),cm=function(){function i(){w(this,i)}return S(i,null,[{key:"addToDropup",value:function(e,n,t,a){var r=new qs(t,a);Es.forEach(function(l){var u=n["dropup-menu"].findIndex(function(d){return d.buttonType===l}),c=n["dropup-menu"][u];c&&(r.addItem(c.button),n["dropup-menu"].splice(u,1))});var o=qs.getPosition(n,a);Kt.addButton(e,r.buttonContainer,o),n[o].push({})}},{key:"addToSideContainer",value:function(e,n){["inside-left","inside-right","outside-left","outside-right"].forEach(function(t){var a=t;n[a].forEach(function(r){Kt.addButton(e,r.button.elementRef,a)})})}},{key:"setPosition",value:function(e,n,t){var a=ne(ne({},e[n]),{},{buttonType:n});t.push(a),delete e[n]}},{key:"createPositionsObj",value:function(){return{"dropup-menu":[],"outside-left":[],"inside-left":[],"inside-right":[],"outside-right":[]}}},{key:"generatePositions",value:function(e){var n=i.createPositionsObj();Object.keys(e).forEach(function(a){var r,o=(r=e[a])==null?void 0:r.button.position;o&&i.setPosition(e,a,n[o])}),n["inside-right"].length===0&&e.submit&&i.setPosition(e,"submit",n["inside-right"]),n["outside-right"].length===0&&(e.submit?i.setPosition(e,"submit",n["outside-right"]):e.microphone?i.setPosition(e,"microphone",n["outside-right"]):e.camera&&i.setPosition(e,"camera",n["outside-right"])),e.submit&&i.setPosition(e,"submit",n["outside-left"].length===0?n["outside-left"]:n["inside-right"]),e.microphone&&i.setPosition(e,"microphone",n["outside-left"].length===0?n["outside-left"]:n["inside-right"]);var t=Object.keys(e);return t.length>1||n["dropup-menu"].length>0?Es.forEach(function(a){e[a]&&n["dropup-menu"].push(ne(ne({},e[a]),{},{buttonType:a}))}):t.length===1&&i.setPosition(e,t[0],n["outside-right"].length===0?n["outside-right"]:n["outside-left"]),n}},{key:"addButtons",value:function(e,n,t,a){var r=i.generatePositions(n);return i.addToSideContainer(e,r),r["dropup-menu"].length>0&&i.addToDropup(e,r,t,a),r}}])}(),dm=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<title>file</title>
<path d="M20 10.9696L11.9628 18.5497C10.9782 19.4783 9.64274 20 8.25028 20C6.85782 20 5.52239 19.4783 4.53777 18.5497C3.55315 17.6211 3 16.3616 3 15.0483C3 13.7351 3.55315 12.4756 4.53777 11.547L12.575 3.96687C13.2314 3.34779 14.1217 3 15.05 3C15.9783 3 16.8686 3.34779 17.525 3.96687C18.1814 4.58595 18.5502 5.4256 18.5502 6.30111C18.5502 7.17662 18.1814 8.01628 17.525 8.63535L9.47904 16.2154C9.15083 16.525 8.70569 16.6989 8.24154 16.6989C7.77738 16.6989 7.33224 16.525 7.00403 16.2154C6.67583 15.9059 6.49144 15.4861 6.49144 15.0483C6.49144 14.6106 6.67583 14.1907 7.00403 13.8812L14.429 6.88674" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,mm=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20,15.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L5.5,4 C4.67157288,4 4,4.67157288 4,5.5 L4,12.2928932 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 L13.5,14.7928932 L16.1464466,12.1464466 C16.3417088,11.9511845 16.6582912,11.9511845 16.8535534,12.1464466 L20,15.2928932 Z M20,16.7071068 L16.5,13.2071068 L13.8535534,15.8535534 C13.6582912,16.0488155 13.3417088,16.0488155 13.1464466,15.8535534 L7.5,10.2071068 L4,13.7071068 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,16.7071068 Z M3,5.5 C3,4.11928813 4.11928813,3 5.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,5.5 Z M15,6 L17,6 C17.5522847,6 18,6.44771525 18,7 L18,9 C18,9.55228475 17.5522847,10 17,10 L15,10 C14.4477153,10 14,9.55228475 14,9 L14,7 C14,6.44771525 14.4477153,6 15,6 Z M15,7 L15,9 L17,9 L17,7 L15,7 Z"/>
</svg>
`,pm=`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-49.49 -49.49 593.87 593.87" stroke-width="3.95908" transform="rotate(0)">
  <g stroke-width="0"></g>
  <g stroke-linecap="round" stroke-linejoin="round" stroke-width="0.98977"></g>
  <g>
    <g>
      <g>
        <path d="M163.205,76.413v293.301c-3.434-3.058-7.241-5.867-11.486-8.339c-21.38-12.452-49.663-15.298-77.567-7.846 c-49.038,13.096-80.904,54.519-71.038,92.337c4.019,15.404,14.188,28.221,29.404,37.087c13.553,7.894,29.87,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.447-4.087c42.74-11.406,72.411-44.344,72.807-77.654h0.011v-0.162c0.002-0.166,0-0.331,0-0.496V187.072 l290.971-67.3v178.082c-3.433-3.055-7.238-5.863-11.481-8.334c-21.385-12.452-49.654-15.308-77.567-7.846 c-49.038,13.087-80.904,54.519-71.038,92.356c4.019,15.385,14.183,28.212,29.404,37.067c13.548,7.894,29.875,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.452-4.087c42.74-11.413,72.411-44.346,72.804-77.654h0.004v-0.065c0.003-0.236,0.001-0.469,0-0.704V0 L163.205,76.413z M104.999,471.779c-22.543,6.038-45.942,3.846-62.572-5.846c-10.587-6.163-17.591-14.817-20.255-25.038 c-7.144-27.375,18.452-58.029,57.062-68.346c8.409-2.25,16.938-3.346,25.188-3.346c13.87,0,26.962,3.115,37.389,9.192 c10.587,6.163,17.591,14.817,20.255,25.029c0.809,3.102,1.142,6.248,1.139,9.4v0.321h0.014 C162.99,437.714,139.082,462.678,104.999,471.779z M182.898,166.853V92.067l290.971-67.298v74.784L182.898,166.853z M415.677,399.923c-22.558,6.038-45.942,3.837-62.587-5.846c-10.587-6.163-17.587-14.817-20.25-25.019 c-7.144-27.385,18.452-58.058,57.058-68.365c8.414-2.25,16.942-3.346,25.192-3.346c13.875,0,26.962,3.115,37.385,9.192 c10.596,6.163,17.596,14.817,20.26,25.029v0.01c0.796,3.05,1.124,6.144,1.135,9.244v0.468h0.02 C473.668,365.851,449.763,390.814,415.677,399.923z">
        </path>
      </g>
    </g>
  </g>
</svg>`,fm=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 5.9266752 5.6408391" height="21.31971" width="22.4">
  <g>
    <path d="m 5.2564627,1.548212 c -3.1136005,-0.4796804 -1.5568006,-0.2398402 0,0 z M 2.0001198,2.0922063 c 0.1556781,0 0.2657489,0.020893 0.3917849,0.080366 0.081154,0.038347 0.1153492,0.134065 0.076377,0.2138602 -0.038973,0.07979 -0.1363527,0.1134129 -0.2175069,0.075091 -0.078199,-0.036919 -0.1407455,-0.048792 -0.250655,-0.048792 -0.2260486,0 -0.3921482,0.2042182 -0.3921482,0.4801409 0,0.2761822 0.1663188,0.4810688 0.3921482,0.4810688 0.1117901,0 0.2064255,-0.046133 0.255659,-0.1284198 l 0.00162,-0.00389 V 3.0534032 l -0.098011,1.75e-4 c -0.081844,0 -0.1495979,-0.059305 -0.1612403,-0.1365887 l -0.00175,-0.023683 c 0,-0.08047 0.060311,-0.1470874 0.1389194,-0.1585331 l 0.024085,-0.00195 h 0.2612303 c 0.081842,0 0.149598,0.059305 0.1612404,0.1365891 l 0.00175,0.023683 -3.398e-4,0.3968809 v 0 l -0.00168,0.014211 v 0 l -0.00553,0.023034 v 0 l -0.00532,0.014145 c -0.098178,0.22826 -0.3236506,0.3528713 -0.5706303,0.3528713 -0.4240855,0 -0.7181621,-0.3622714 -0.7181621,-0.8016063 0,-0.4391857 0.2940275,-0.8006848 0.7181621,-0.8006848 z m 1.2034759,0.031275 c 0.081843,0 0.1495977,0.059305 0.1612403,0.1365891 l 0.00175,0.023683 v 1.2211775 c 0,0.088516 -0.07298,0.1602721 -0.1630073,0.1602721 -0.081841,0 -0.1495972,-0.059305 -0.1612397,-0.1365892 L 3.040589,3.5049308 V 2.2837527 c 0,-0.088516 0.07298,-0.1602721 0.1630067,-0.1602714 z m 0.7813442,0 0.5209469,0.00195 c 0.090025,3.048e-4 0.1627543,0.072306 0.1624458,0.1608234 -2.809e-4,0.08047 -0.06083,0.1468798 -0.1394772,0.158066 l -0.024092,0.00195 -0.3575326,-0.0013 v 0.4497782 l 0.2928918,2.27e-4 c 0.081842,0 0.1495979,0.059305 0.1612403,0.136589 l 0.00175,0.023683 c 0,0.080469 -0.06031,0.1470871 -0.1389193,0.1585393 l -0.024092,0.00195 -0.2928919,-2.336e-4 1.563e-4,0.2860316 c 0,0.080471 -0.06031,0.1470873 -0.1389193,0.1585395 l -0.024085,0.00195 c -0.081843,0 -0.1495979,-0.059305 -0.1612403,-0.1365826 l -0.00175,-0.023691 V 2.2841354 c 2.798e-4,-0.08047 0.060829,-0.1468797 0.1394758,-0.1580594 z"/>
    <path d="m 5.0894191,1.0943261 c 0,-0.21918999 -0.177687,-0.39686999 -0.396876,-0.39686999 h -3.43959 c -0.2191879,0 -0.391262,0.1777519 -0.3968759,0.39686999 l -0.027082,3.4379266 c 0.040152,0.2939927 0.4235456,0.409415 0.4235456,0.409415 l 3.4785583,-0.00851 c 0,0 0.3008506,-0.1402998 0.3236271,-0.4201576 0.042911,-0.5272495 0.034693,-1.6106146 0.034693,-3.4186761 z m -4.49792494,0 c 0,-0.36530999 0.29614504,-0.66145999 0.66145894,-0.66145999 h 3.43959 c 0.365314,0 0.66146,0.29615 0.66146,0.66145999 v 3.43959 c 0,0.36532 -0.296146,0.66146 -0.66146,0.66146 h -3.43959 c -0.3653139,0 -0.66145894,-0.29614 -0.66145894,-0.66146 z"/>
  </g>
</svg>
`,gm={images:{id:"upload-images-icon",svgString:mm,dropupText:"Image"},gifs:{id:"upload-gifs-icon",svgString:fm,dropupText:"GIF"},audio:{id:"upload-audio-icon",svgString:pm,dropupText:"Audio"},mixedFiles:{id:"upload-mixed-files-icon",svgString:dm,dropupText:"File"}},hm=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg height="1.4em" width="1.4em" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 viewBox="0 0 490.9 490.9" xml:space="preserve">
	<g>
		<g>
			<path d="M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5
				C149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5
				c0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z"/>
			<path d="M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3
				s5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8
				c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9
				C106.6,220,101.2,214.5,94.4,214.5z"/>
		</g>
	</g>
</svg>
`,je=function(){function i(){w(this,i)}return S(i,null,[{key:"addAttributes",value:function(e){e.role="button",e.setAttribute("tabindex","0")}},{key:"addAriaBusy",value:function(e){e.setAttribute("aria-busy","true")}},{key:"removeAriaBusy",value:function(e){e.removeAttribute("aria-busy")}},{key:"addAriaDisabled",value:function(e){e.setAttribute("aria-disabled","true")}},{key:"removeAriaDisabled",value:function(e){e.removeAttribute("aria-disabled")}},{key:"removeAriaAttributes",value:function(e){i.removeAriaBusy(e),i.removeAriaDisabled(e)}}])}(),co=function(i){function s(e){var n;return w(this,s),(e==null?void 0:e.position)==="dropup-menu"&&(e.position="outside-right"),n=z(this,s,[s.createMicrophoneElement(),e==null?void 0:e.position,e]),n.isActive=!1,n._innerElements=n.createInnerElements(n._customStyles),n.changeToDefault(),n}return U(s,i),S(s,[{key:"createInnerElements",value:function(n){var t=s.createSVGIconElement();return{default:this.createInnerElement(t,"default",n),active:this.createInnerElement(t,"active",n),unsupported:this.createInnerElement(t,"unsupported",n),commandMode:this.createInnerElement(t,"commandMode",n)}}},{key:"createInnerElement",value:function(n,t,a){return Cn.createSpecificStateElement(this.elementRef,t,a)||n}},{key:"changeToActive",value:function(){this.elementRef.replaceChildren(this._innerElements.active),this.toggleIconFilter("active"),this.reapplyStateStyle("active",["default","commandMode"]),this.isActive=!0}},{key:"changeToDefault",value:function(){this.elementRef.replaceChildren(this._innerElements.default),this.toggleIconFilter("default"),this.reapplyStateStyle("default",["active","commandMode"]),this.isActive=!1}},{key:"changeToCommandMode",value:function(){this.elementRef.replaceChildren(this._innerElements.unsupported),this.toggleIconFilter("command"),this.reapplyStateStyle("commandMode",["active"])}},{key:"changeToUnsupported",value:function(){this.elementRef.replaceChildren(this._innerElements.unsupported),this.elementRef.classList.add("unsupported-microphone"),this.reapplyStateStyle("unsupported",["active"])}},{key:"toggleIconFilter",value:function(n){var t=this.elementRef.children[0];if(t.tagName.toLocaleLowerCase()==="svg")switch(n){case"default":t.classList.remove("active-microphone-icon","command-microphone-icon"),t.classList.add("default-microphone-icon");break;case"active":t.classList.remove("default-microphone-icon","command-microphone-icon"),t.classList.add("active-microphone-icon");break;case"command":t.classList.remove("active-microphone-icon","default-microphone-icon"),t.classList.add("command-microphone-icon");break}}}],[{key:"createMicrophoneElement",value:function(){var n=document.createElement("div");return n.id="microphone-button",n.classList.add("input-button"),je.addAttributes(n),n}},{key:"createSVGIconElement",value:function(){var n=De.createSVGElement(hm);return n.id="microphone-icon",n}}])}(bt),mo={},si={},ri={},At={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.Text=void 0;var oi=function(){function i(){w(this,i)}return S(i,null,[{key:"capitalize",value:function(e){return e.replace(i.FIRST_CHAR_REGEX,function(n){return n.toUpperCase()})}},{key:"lineBreak",value:function(e){return e.replace(i.DOUBLE_LINE,"<p></p>").replace(i.ONE_LINE,"<br>")}},{key:"isCharDefined",value:function(e){return e!==void 0&&e!==" "&&e!==" "&&e!==`
`&&e!==""}},{key:"breakupIntoWordsArr",value:function(e){return e.split(/(\W+)/)}}])}();Fn.Text=oi;oi.FIRST_CHAR_REGEX=/\S/;oi.DOUBLE_LINE=/\n\n/g;oi.ONE_LINE=/\n/g;Object.defineProperty(At,"__esModule",{value:!0});At.Translate=void 0;var ym=Fn,vm=function(){function i(){w(this,i)}return S(i,null,[{key:"translate",value:function(e,n){for(var t=ym.Text.breakupIntoWordsArr(e),a=0;a<t.length;a+=1)n[t[a]]&&(t[a]=n[t[a]]);return t.join("")}}])}();At.Translate=vm;Object.defineProperty(ri,"__esModule",{value:!0});ri.WebSpeechTranscript=void 0;var Ps=At,bm=function(){function i(){w(this,i)}return S(i,null,[{key:"extract",value:function(e,n,t){for(var a="",r=e.resultIndex;r<e.results.length;++r){var o=e.results[r][0].transcript;t&&(o=Ps.Translate.translate(o,t)),e.results[r].isFinal?n+=o:a+=o}return{interimTranscript:a,finalTranscript:n,newText:a||n}}},{key:"extractSafari",value:function(e,n,t){for(var a="",r="",o=e.resultIndex;o<e.results.length;++o){var l=e.results[o][0].transcript;t&&(l=Ps.Translate.translate(l,t)),a+=l}return{interimTranscript:r,finalTranscript:a,newText:a}}}])}();ri.WebSpeechTranscript=bm;var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.Browser=void 0;var it=S(function i(){w(this,i)});$n.Browser=it;it.IS_SAFARI=function(){return it._IS_SAFARI===void 0&&(it._IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),it._IS_SAFARI};var wt={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.EventListeners=void 0;var po=function(){function i(){w(this,i)}return S(i,null,[{key:"getElementIfFocusedOnAvailable",value:function(e,n){return Array.isArray(e)?e.find(function(t){return n===t}):n===e?e:void 0}},{key:"keyDownWindow",value:function(e){var n=this;e.element&&i.getElementIfFocusedOnAvailable(e.element,document.activeElement)&&(i.KEY_DOWN_TIMEOUT!==null&&clearTimeout(i.KEY_DOWN_TIMEOUT),i.KEY_DOWN_TIMEOUT=setTimeout(function(){i.KEY_DOWN_TIMEOUT=null,n.resetRecording(e)},500))}},{key:"mouseDownWindow",value:function(e,n){this.mouseDownElement=i.getElementIfFocusedOnAvailable(e,n.target)}},{key:"mouseUpWindow",value:function(e){this.mouseDownElement&&this.resetRecording(e),this.mouseDownElement=void 0}},{key:"add",value:function(e,n){var t=(n==null?void 0:n.insertInCursorLocation)===void 0||(n==null?void 0:n.insertInCursorLocation);n!=null&&n.element&&t&&(e.mouseDownEvent=i.mouseDownWindow.bind(e,n.element),document.addEventListener("mousedown",e.mouseDownEvent),e.mouseUpEvent=i.mouseUpWindow.bind(e,n),document.addEventListener("mouseup",e.mouseUpEvent),e.keyDownEvent=i.keyDownWindow.bind(e,n),document.addEventListener("keydown",e.keyDownEvent))}},{key:"remove",value:function(e){document.removeEventListener("mousedown",e.mouseDownEvent),document.removeEventListener("mouseup",e.mouseUpEvent),document.removeEventListener("keydown",e.keyDownEvent)}}])}();li.EventListeners=po;po.KEY_DOWN_TIMEOUT=null;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.PreResultUtils=void 0;var Am=function(){function i(){w(this,i)}return S(i,null,[{key:"process",value:function(e,n,t,a,r){var o=a==null?void 0:a(n,t);return o?(setTimeout(function(){o.restart?e.resetRecording(r):o.stop&&e.stop()}),(o.stop||o.restart)&&o.removeNewText):!1}}])}();ui.PreResultUtils=Am;var St={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.AutoScroll=void 0;var wm=function(){function i(){w(this,i)}return S(i,null,[{key:"changeStateIfNeeded",value:function(e,n){n&&!e.isCursorAtEnd&&(e.endPadding="",e.scrollingSpan.innerHTML="&nbsp;")}},{key:"scrollGeneric",value:function(e,n){e.isCursorAtEnd?n.scrollTop=n.scrollHeight:e.scrollingSpan.scrollIntoView({block:"nearest"})}},{key:"scrollSafariPrimitiveToEnd",value:function(e){e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight}},{key:"isElementOverflown",value:function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}},{key:"isRequired",value:function(e,n){return e&&i.isElementOverflown(n)}}])}();Tt.AutoScroll=wm;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Elements=void 0;var Sm=function(){function i(){w(this,i)}return S(i,null,[{key:"isPrimitiveElement",value:function(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}},{key:"createInterimSpan",value:function(){var e=document.createElement("span");return e.style.color="grey",e.style.pointerEvents="none",e}},{key:"createGenericSpan",value:function(){var e=document.createElement("span");return e.style.pointerEvents="none",e}},{key:"appendSpans",value:function(e,n){if(e.spansPopulated=!0,e.insertInCursorLocation&&document.activeElement===n){var t=window.getSelection();if(t!=null&&t.focusNode){var a=t.getRangeAt(0);a.insertNode(e.scrollingSpan),a.insertNode(e.interimSpan),a.insertNode(e.finalSpan),a.collapse(!1),t.removeAllRanges(),t.addRange(a);return}}n.appendChild(e.finalSpan),n.appendChild(e.interimSpan),n.appendChild(e.scrollingSpan)}},{key:"applyCustomColors",value:function(e,n){n.interim&&(e.interimSpan.style.color=n.interim),n.final&&(e.finalSpan.style.color=n.final)}},{key:"isInsideShadowDOM",value:function(e){return e.getRootNode()instanceof ShadowRoot}}])}();Ln.Elements=Sm;var On={};Object.defineProperty(On,"__esModule",{value:!0});On.Cursor=void 0;var Tm=function(){function i(){w(this,i)}return S(i,null,[{key:"setOffsetForGeneric",value:function(e,n){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=0,r=0;r<e.childNodes.length;r+=1){var o=e.childNodes[r];if(o.childNodes.length>0){var l=i.setOffsetForGeneric(o,n,t);if(l===-1)return-1;t+=l}else if(o.textContent!==null){if(t+o.textContent.length>n){var u=document.createRange();u.setStart(o,n-t),u.collapse(!0);var c=window.getSelection();return c==null||c.removeAllRanges(),c==null||c.addRange(u),e.focus(),-1}t+=o.textContent.length,a+=o.textContent.length}}return a}},{key:"focusEndOfGeneric",value:function(e){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(n))}},{key:"setOffsetForSafariGeneric",value:function(e,n){var t=window.getSelection();if(t){var a=i.getGenericElementCursorOffset(e,t,!0);console.log(a),setTimeout(function(){},100),i.setOffsetForGeneric(e,a+n)}}},{key:"setOffsetForPrimitive",value:function(e,n,t){t&&e.blur(),e.setSelectionRange(n,n),e.focus()}},{key:"getGenericElementCursorOffset",value:function(e,n,t){var a=0;if(n.rangeCount>0){var r=n.getRangeAt(0),o=r.cloneRange();o.selectNodeContents(e),t?o.setEnd(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),a=o.toString().length}return a}}])}();On.Cursor=Tm;Object.defineProperty(St,"__esModule",{value:!0});St.CommandUtils=void 0;var Ds=Tt,Cm=Ln,km=$n,Fs=On,Ls=Fn,Rm=function(){function i(){w(this,i)}return S(i,null,[{key:"processCommand",value:function(e,n){return(!n||!n.caseSensitive)&&(e=e.toLowerCase()),(n==null?void 0:n.substrings)===!1?Ls.Text.breakupIntoWordsArr(e):e}},{key:"process",value:function(e){var n;return((n=e.settings)===null||n===void 0?void 0:n.caseSensitive)===!0?e:Object.keys(e).reduce(function(t,a){var r=e[a];return t[a]=typeof r=="string"?i.processCommand(r,e.settings):r,t},{})}},{key:"toggleCommandModeOn",value:function(e){var n;e.isWaitingForCommand=!0,(n=e.onCommandModeTrigger)===null||n===void 0||n.call(e,!0)}},{key:"toggleCommandModeOff",value:function(e){var n;e.isWaitingForCommand&&((n=e.onCommandModeTrigger)===null||n===void 0||n.call(e,!1),e.isWaitingForCommand=!1)}},{key:"setText",value:function(e,n,t,a){i.toggleCommandModeOff(e),Cm.Elements.isPrimitiveElement(a)?(a.value=t,e.isTargetInShadow||Fs.Cursor.setOffsetForPrimitive(a,t.length,!0),km.Browser.IS_SAFARI()&&e.autoScroll&&Ds.AutoScroll.scrollSafariPrimitiveToEnd(a)):(a.textContent=t,e.isTargetInShadow||Fs.Cursor.focusEndOfGeneric(a),setTimeout(function(){return Ds.AutoScroll.scrollGeneric(e,a)})),e.resetRecording(n)}},{key:"checkIfMatchesSubstring",value:function(e,n){return n.includes(e)}},{key:"checkIfMatchesWord",value:function(e,n,t){for(var a=e,r=t.length-1;r>=0;r-=1){for(var o=r,l=a.length-1;t[o]===a[l]&&l>=0;)o-=1,l-=1;if(l<0)return!0}return!1}},{key:"execCommand",value:function(e,n,t,a,r){var o,l,u,c=e.commands;if(!(!c||!a||!t)){var d=((o=c.settings)===null||o===void 0?void 0:o.caseSensitive)===!0?n:n.toLowerCase(),m=Ls.Text.breakupIntoWordsArr(d),p=((l=c.settings)===null||l===void 0?void 0:l.substrings)===!1?i.checkIfMatchesWord:i.checkIfMatchesSubstring;if(c.commandMode&&p(c.commandMode,d,m))return e.setInterimColorToFinal(),setTimeout(function(){return i.toggleCommandModeOn(e)}),{doNotProcessTranscription:!1};if(!(c.commandMode&&!e.isWaitingForCommand)){if(c.stop&&p(c.stop,d,m))return i.toggleCommandModeOff(e),setTimeout(function(){return e.stop()}),{doNotProcessTranscription:!1};if(c.pause&&p(c.pause,d,m))return i.toggleCommandModeOff(e),e.setInterimColorToFinal(),setTimeout(function(){var f;e.isPaused=!0,(f=e.onPauseTrigger)===null||f===void 0||f.call(e,!0)}),{doNotProcessTranscription:!1};if(c.resume&&p(c.resume,d,m))return e.isPaused=!1,(u=e.onPauseTrigger)===null||u===void 0||u.call(e,!1),i.toggleCommandModeOff(e),e.resetRecording(t),{doNotProcessTranscription:!0};if(c.reset&&p(c.reset,d,m))return r!==void 0&&i.setText(e,t,r,a),{doNotProcessTranscription:!0};if(c.removeAllText&&p(c.removeAllText,d,m))return i.setText(e,t,"",a),{doNotProcessTranscription:!0}}}}}])}();St.CommandUtils=Rm;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.Highlight=void 0;var _m=Ln,et=On,Im=function(){function i(){w(this,i)}return S(i,null,[{key:"setStateForPrimitive",value:function(e,n){var t,a;n.selectionStart!==null&&(t=n.selectionStart),n.selectionEnd!==null&&(a=n.selectionEnd),e.isHighlighted=t!==a}},{key:"setStateForGeneric",value:function(e,n){var t=window.getSelection();if(t!=null&&t.focusNode){var a=et.Cursor.getGenericElementCursorOffset(n,t,!0),r=et.Cursor.getGenericElementCursorOffset(n,t,!1);e.isHighlighted=a!==r}}},{key:"setState",value:function(e,n){document.activeElement===n&&(_m.Elements.isPrimitiveElement(n)?i.setStateForPrimitive(e,n):i.setStateForGeneric(e,n))}},{key:"removeForGeneric",value:function(e,n){var t=window.getSelection();if(t){var a=et.Cursor.getGenericElementCursorOffset(n,t,!0);t.deleteFromDocument(),et.Cursor.setOffsetForGeneric(n,a),e.isHighlighted=!1}}},{key:"removeForPrimitive",value:function(e,n){var t=n.selectionStart,a=n.selectionEnd,r=n.value;if(t&&a){var o=r.substring(0,t)+r.substring(a);n.value=o,et.Cursor.setOffsetForPrimitive(n,t,e.autoScroll)}e.isHighlighted=!1}}])}();ci.Highlight=Im;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.Padding=void 0;var xm=Ln,Os=On,Vn=Fn,Em=function(){function i(){w(this,i)}return S(i,null,[{key:"setStateForPrimitiveElement",value:function(e,n){if(document.activeElement===n&&n.selectionStart!==null){var t=n.selectionStart,a=n.value[t-1],r=n.selectionEnd===null?t:n.selectionEnd,o=n.value[r];Vn.Text.isCharDefined(a)&&(e.startPadding=" ",e.numberOfSpacesBeforeNewText=1),Vn.Text.isCharDefined(o)&&(e.endPadding=" ",e.numberOfSpacesAfterNewText=1),e.isCursorAtEnd=n.value.length===r;return}var l=n.value[n.value.length-1];Vn.Text.isCharDefined(l)&&(e.startPadding=" ",e.numberOfSpacesBeforeNewText=1),e.isCursorAtEnd=!0}},{key:"setStateForGenericElement",value:function(e,n){var t,a,r;if(document.activeElement===n){var o=window.getSelection();if(o!=null&&o.focusNode){var l=Os.Cursor.getGenericElementCursorOffset(n,o,!0),u=(t=n.textContent)===null||t===void 0?void 0:t[l-1],c=Os.Cursor.getGenericElementCursorOffset(n,o,!1),d=(a=n.textContent)===null||a===void 0?void 0:a[c];Vn.Text.isCharDefined(u)&&(e.startPadding=" "),Vn.Text.isCharDefined(d)&&(e.endPadding=" "),e.isCursorAtEnd=((r=n.textContent)===null||r===void 0?void 0:r.length)===c;return}}var m=n.innerText.charAt(n.innerText.length-1);Vn.Text.isCharDefined(m)&&(e.startPadding=" "),e.isCursorAtEnd=!0}},{key:"setState",value:function(e,n){xm.Elements.isPrimitiveElement(n)?i.setStateForPrimitiveElement(e,n):i.setStateForGenericElement(e,n)}},{key:"adjustStateAfterRecodingPrimitiveElement",value:function(e,n){if(e.primitiveTextRecorded=!0,e.insertInCursorLocation&&document.activeElement===n&&(n.selectionEnd!==null&&(e.endPadding=e.endPadding+n.value.slice(n.selectionEnd)),n.selectionStart!==null)){e.startPadding=n.value.slice(0,n.selectionStart)+e.startPadding;return}e.startPadding=n.value+e.startPadding}},{key:"adjustSateForNoTextPrimitiveElement",value:function(e){e.numberOfSpacesBeforeNewText===1&&(e.startPadding=e.startPadding.substring(0,e.startPadding.length-1),e.numberOfSpacesBeforeNewText=0),e.numberOfSpacesAfterNewText===1&&(e.endPadding=e.endPadding.substring(1),e.numberOfSpacesAfterNewText=0)}}])}();di.Padding=Em;Object.defineProperty(wt,"__esModule",{value:!0});wt.Speech=void 0;var Ns=li,Mm=ui,Zs=St,qt=Tt,Mi=ci,ze=Ln,qi=di,Bs=$n,js=On,Pi=Fn,qm=function(){function i(){w(this,i),this.finalTranscript="",this.interimSpan=ze.Elements.createInterimSpan(),this.finalSpan=ze.Elements.createGenericSpan(),this.scrollingSpan=ze.Elements.createGenericSpan(),this.isCursorAtEnd=!1,this.spansPopulated=!1,this.startPadding="",this.endPadding="",this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.recognizing=!1,this._displayInterimResults=!0,this.insertInCursorLocation=!0,this.autoScroll=!0,this.isRestarting=!1,this.isPaused=!1,this.isWaitingForCommand=!1,this.isTargetInShadow=!1,this.cannotBeStopped=!1,this.resetState()}return S(i,[{key:"prepareBeforeStart",value:function(e){var n,t;if(e!=null&&e.element)if(Ns.EventListeners.add(this,e),Array.isArray(e.element)){var a=e.element.find(function(r){return r===document.activeElement})||e.element[0];if(!a)return;this.prepare(a)}else this.prepare(e.element);(e==null?void 0:e.displayInterimResults)!==void 0&&(this._displayInterimResults=e.displayInterimResults),e!=null&&e.textColor&&(this._finalTextColor=(n=e==null?void 0:e.textColor)===null||n===void 0?void 0:n.final,ze.Elements.applyCustomColors(this,e.textColor)),(e==null?void 0:e.insertInCursorLocation)!==void 0&&(this.insertInCursorLocation=e.insertInCursorLocation),(e==null?void 0:e.autoScroll)!==void 0&&(this.autoScroll=e.autoScroll),this._onResult=e==null?void 0:e.onResult,this._onPreResult=e==null?void 0:e.onPreResult,this._onStart=e==null?void 0:e.onStart,this._onStop=e==null?void 0:e.onStop,this._onError=e==null?void 0:e.onError,this.onCommandModeTrigger=e==null?void 0:e.onCommandModeTrigger,this.onPauseTrigger=e==null?void 0:e.onPauseTrigger,this._options=e,!((t=this._options)===null||t===void 0)&&t.commands&&(this.commands=Zs.CommandUtils.process(this._options.commands))}},{key:"prepare",value:function(e){qi.Padding.setState(this,e),Mi.Highlight.setState(this,e),this.isTargetInShadow=ze.Elements.isInsideShadowDOM(e),ze.Elements.isPrimitiveElement(e)?(this._primitiveElement=e,this._originalText=this._primitiveElement.value):(this._genericElement=e,this._originalText=this._genericElement.textContent)}},{key:"resetRecording",value:function(e){this.isRestarting=!0,this.stop(!0),this.resetState(!0),this.start(e,!0)}},{key:"updateElements",value:function(e,n,t){var a,r=Pi.Text.capitalize(n);if(!(this.finalTranscript===r&&e==="")){Mm.PreResultUtils.process(this,t,e==="",this._onPreResult,this._options)&&(e="",t="");var o=this.commands&&Zs.CommandUtils.execCommand(this,t,this._options,this._primitiveElement||this._genericElement,this._originalText);if(o){if(o.doNotProcessTranscription)return;e="",t=""}if(!(this.isPaused||this.isWaitingForCommand)){(a=this._onResult)===null||a===void 0||a.call(this,t,e===""),this.finalTranscript=r,this._displayInterimResults||(e="");var l=this.finalTranscript===""&&e==="";this._primitiveElement?this.updatePrimitiveElement(this._primitiveElement,e,l):this._genericElement&&this.updateGenericElement(this._genericElement,e,l)}}}},{key:"updatePrimitiveElement",value:function(e,n,t){this.isHighlighted&&Mi.Highlight.removeForPrimitive(this,e),this.primitiveTextRecorded||qi.Padding.adjustStateAfterRecodingPrimitiveElement(this,e),t&&qi.Padding.adjustSateForNoTextPrimitiveElement(this);var a=this.startPadding+this.finalTranscript+n;if(e.value=a+this.endPadding,!this.isTargetInShadow){var r=a.length+this.numberOfSpacesAfterNewText;js.Cursor.setOffsetForPrimitive(e,r,this.autoScroll)}this.autoScroll&&Bs.Browser.IS_SAFARI()&&this.isCursorAtEnd&&qt.AutoScroll.scrollSafariPrimitiveToEnd(e)}},{key:"updateGenericElement",value:function(e,n,t){this.isHighlighted&&Mi.Highlight.removeForGeneric(this,e),this.spansPopulated||ze.Elements.appendSpans(this,e);var a=(t?"":this.startPadding)+Pi.Text.lineBreak(this.finalTranscript);this.finalSpan.innerHTML=a;var r=qt.AutoScroll.isRequired(this.autoScroll,e);qt.AutoScroll.changeStateIfNeeded(this,r);var o=Pi.Text.lineBreak(n)+(t?"":this.endPadding);this.interimSpan.innerHTML=o,Bs.Browser.IS_SAFARI()&&this.insertInCursorLocation&&js.Cursor.setOffsetForSafariGeneric(e,a.length+o.length),r&&qt.AutoScroll.scrollGeneric(this,e),t&&(this.scrollingSpan.innerHTML="")}},{key:"finalise",value:function(e){this._genericElement&&(e?(this.finalSpan=ze.Elements.createGenericSpan(),this.setInterimColorToFinal(),this.interimSpan=ze.Elements.createInterimSpan(),this.scrollingSpan=ze.Elements.createGenericSpan()):this._genericElement.textContent=this._genericElement.textContent,this.spansPopulated=!1),Ns.EventListeners.remove(this)}},{key:"setInterimColorToFinal",value:function(){this.interimSpan.style.color=this._finalTextColor||"black"}},{key:"resetState",value:function(e){this._primitiveElement=void 0,this._genericElement=void 0,this.finalTranscript="",this.finalSpan.innerHTML="",this.interimSpan.innerHTML="",this.scrollingSpan.innerHTML="",this.startPadding="",this.endPadding="",this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,e||(this.stopTimeout=void 0)}},{key:"setStateOnStart",value:function(){var e;this.recognizing=!0,this.isRestarting?this.isRestarting=!1:(e=this._onStart)===null||e===void 0||e.call(this)}},{key:"setStateOnStop",value:function(){var e;this.recognizing=!1,this.isRestarting||(e=this._onStop)===null||e===void 0||e.call(this)}},{key:"setStateOnError",value:function(e){var n;(n=this._onError)===null||n===void 0||n.call(this,e),this.recognizing=!1}}])}();wt.Speech=qm;Object.defineProperty(si,"__esModule",{value:!0});si.WebSpeech=void 0;var Vs=ri,zs=$n,Pm=wt,Dm=function(i){function s(){return w(this,s),z(this,s)}return U(s,i),S(s,[{key:"start",value:function(n){var t;this._extractText===void 0&&(this._extractText=zs.Browser.IS_SAFARI()?Vs.WebSpeechTranscript.extractSafari:Vs.WebSpeechTranscript.extract),this.validate()&&(this.prepareBeforeStart(n),this.instantiateService(n),(t=this._service)===null||t===void 0||t.start(),this._translations=n==null?void 0:n.translations)}},{key:"validate",value:function(){return s.getAPI()?!0:(this.error("Speech Recognition is unsupported"),!1)}},{key:"instantiateService",value:function(n){var t,a,r=s.getAPI();this._service=new r,this._service.continuous=!0,this._service.interimResults=(t=n==null?void 0:n.displayInterimResults)!==null&&t!==void 0?t:!0,this._service.lang=((a=n==null?void 0:n.language)===null||a===void 0?void 0:a.trim())||"en-US",this.setEvents()}},{key:"setEvents",value:function(){var n=this;this._service&&(this._service.onstart=function(){n.setStateOnStart()},this._service.onerror=function(t){zs.Browser.IS_SAFARI()&&t.message==="Another request is started"||t.error==="aborted"&&n.isRestarting||t.error!=="no-speech"&&n.error(t.message||t.error)},this._service.onaudioend=function(){n.setStateOnStop()},this._service.onend=function(){n._stopping=!1},this._service.onresult=function(t){if(B(t.results)>"u"&&n._service)n._service.onend=null,n._service.stop();else if(n._extractText&&!n._stopping){var a=n._extractText(t,n.finalTranscript,n._translations),r=a.interimTranscript,o=a.finalTranscript,l=a.newText;n.updateElements(r,o,l)}})}},{key:"stop",value:function(n){var t;this._stopping=!0,(t=this._service)===null||t===void 0||t.stop(),this.finalise(n)}},{key:"error",value:function(n){console.error(n),this.setStateOnError(n),this.stop()}}],[{key:"getAPI",value:function(){return window.webkitSpeechRecognition||window.SpeechRecognition}}])}(Pm.Speech);si.WebSpeech=Dm;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.GlobalState=void 0;var fo=function(){function i(){w(this,i)}return S(i,null,[{key:"doubleClickDetector",value:function(){return i.doubleClickPending?!0:(i.doubleClickPending=!0,setTimeout(function(){i.doubleClickPending=!1},300),!1)}}])}();mi.GlobalState=fo;fo.doubleClickPending=!1;var pi={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.PreventConnectionStop=void 0;var Fm=function(){function i(){w(this,i)}return S(i,null,[{key:"applyPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!0,e._manualConnectionStopPrevention=setTimeout(function(){e.cannotBeStopped=!1},800)}},{key:"clearPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!1}}])}();fi.PreventConnectionStop=Fm;var gi={},hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.README_URL=void 0;hi.README_URL="https://github.com/OvidijusParsiunas/speech-to-element";Object.defineProperty(gi,"__esModule",{value:!0});gi.AzureSpeechConfig=void 0;var Di=hi,Lm=function(){function i(){w(this,i)}return S(i,null,[{key:"validateOptions",value:function(e,n){return n?!n.subscriptionKey&&!n.token&&!n.retrieveToken?(e("Please define a 'subscriptionKey', 'token' or 'retrieveToken' property - more info: ".concat(Di.README_URL)),!1):n.region?!0:(e("Please define a 'region' property - more info: ".concat(Di.README_URL)),!1):(e("Please provide subscription details - more info: ".concat(Di.README_URL)),!1)}},{key:"getNewSpeechConfig",value:function(){var s=k(h().mark(function n(t,a){return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.region){o.next=2;break}return o.abrupt("return",a.subscriptionKey?t.fromSubscription(a.subscriptionKey.trim(),a.region.trim()):a.token?t.fromAuthorizationToken(a.token.trim(),a.region.trim()):a.retrieveToken?a.retrieveToken().then(function(l){return a.region?t.fromAuthorizationToken((l==null?void 0:l.trim())||"",a.region.trim()):null}).catch(function(l){return console.error(l),null}):null);case 2:case"end":return o.stop()}},n)}));function e(n,t){return s.apply(this,arguments)}return e}()},{key:"process",value:function(e,n){n.language&&(e.speechRecognitionLanguage=n.language.trim())}},{key:"get",value:function(){var s=k(h().mark(function n(t,a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.getNewSpeechConfig(t,a);case 2:return r=l.sent,l.abrupt("return",(r&&i.process(r,a),r));case 4:case"end":return l.stop()}},n)}));function e(n,t){return s.apply(this,arguments)}return e}()}])}();gi.AzureSpeechConfig=Lm;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.StopTimeout=void 0;var go=function(){function i(){w(this,i)}return S(i,null,[{key:"set",value:function(e){e.stopTimeout=setTimeout(function(){return e.stop()},e.stopTimeoutMS)}},{key:"reset",value:function(e,n){e.stopTimeoutMS=n||i.DEFAULT_MS,e.stopTimeout&&clearTimeout(e.stopTimeout),i.set(e)}}])}();yi.StopTimeout=go;go.DEFAULT_MS=2e4;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.AzureTranscript=void 0;var Om=At,Nm=function(){function i(){w(this,i)}return S(i,null,[{key:"extract",value:function(e,n,t,a){return a&&(e=Om.Translate.translate(e,a)),t?{interimTranscript:"",finalTranscript:n+e,newText:e}:{interimTranscript:e,finalTranscript:n,newText:e}}}])}();vi.AzureTranscript=Nm;Object.defineProperty(pi,"__esModule",{value:!0});pi.Azure=void 0;var Us=fi,Gs=gi,Fi=yi,Hs=vi,Zm=wt,Bm=function(i){function s(){var e;return w(this,s),e=z(this,s,arguments),e._newTextPadding="",e}return U(s,i),S(s,[{key:"start",value:function(n,t){this._newTextPadding="",this.stopTimeout===void 0&&Fi.StopTimeout.reset(this,n==null?void 0:n.stopAfterSilenceMs),this.prepareBeforeStart(n),this.startAsync(n),t||Us.PreventConnectionStop.applyPrevention(this)}},{key:"startAsync",value:function(){var e=k(h().mark(function t(a){var r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.t0=this.validate(a),!l.t0){l.next=6;break}return l.next=4,this.instantiateService(a);case 4:this._translations=a==null?void 0:a.translations,(r=this._service)===null||r===void 0||r.startContinuousRecognitionAsync(function(){},this.error);case 6:case"end":return l.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"validate",value:function(n){return s.getAPI()?Gs.AzureSpeechConfig.validateOptions(this.error.bind(this),n):(this.moduleNotFound(),!1)}},{key:"instantiateService",value:function(){var e=k(h().mark(function t(a){var r,o,l,u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=s.getAPI(),o=r.AudioConfig.fromDefaultMicrophoneInput(),d.next=4,Gs.AzureSpeechConfig.get(r.SpeechConfig,a);case 4:l=d.sent,l?(u=new r.SpeechRecognizer(l,o),this.setEvents(u),this._service=u,a.retrieveToken&&this.retrieveTokenInterval(a.retrieveToken)):this.error("Unable to contact Azure server");case 6:case"end":return d.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"setEvents",value:function(n){n.recognizing=this.onRecognizing.bind(this),n.recognized=this.onRecognized.bind(this),n.sessionStarted=this.onSessionStarted.bind(this),n.canceled=this.onCanceled.bind(this),n.sessionStopped=this.onSessionStopped.bind(this)}},{key:"onRecognizing",value:function(n,t){if(!this._stopping){var a=Hs.AzureTranscript.extract(this._newTextPadding+t.result.text,this.finalTranscript,!1,this._translations),r=a.interimTranscript,o=a.finalTranscript,l=a.newText;Fi.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(r,o,l)}}},{key:"onRecognized",value:function(n,t){var a=t.result;switch(a.reason){case window.SpeechSDK.ResultReason.Canceled:break;case window.SpeechSDK.ResultReason.RecognizedSpeech:if(a.text&&!this._stopping){var r=Hs.AzureTranscript.extract(this._newTextPadding+a.text,this.finalTranscript,!0,this._translations),o=r.interimTranscript,l=r.finalTranscript,u=r.newText;Fi.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(o,l,u),l!==""&&(this._newTextPadding=" ")}break}}},{key:"onCanceled",value:function(n,t){t.reason===window.SpeechSDK.CancellationReason.Error&&this.error(t.errorDetails)}},{key:"onSessionStarted",value:function(){Us.PreventConnectionStop.clearPrevention(this),this.setStateOnStart()}},{key:"onSessionStopped",value:function(){this._retrieveTokenInterval||clearInterval(this._retrieveTokenInterval),this._stopping=!1,this.setStateOnStop()}},{key:"retrieveTokenInterval",value:function(n){var t=this;this._retrieveTokenInterval=setInterval(function(){n==null||n().then(function(a){t._service&&(t._service.authorizationToken=(a==null?void 0:a.trim())||"")}).catch(function(a){t.error(a)})},1e4)}},{key:"stop",value:function(n){var t;!n&&this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),this._stopping=!0,(t=this._service)===null||t===void 0||t.stopContinuousRecognitionAsync(),this.finalise(n)}},{key:"moduleNotFound",value:function(){console.error("speech recognition module not found:"),console.error(`please install the 'microsoft-cognitiveservices-speech-sdk' npm package or add a script tag: <script src="https://aka.ms/csspeech/jsbrowserpackageraw"><\/script>`),this.setStateOnError("speech recognition module not found")}},{key:"error",value:function(n){this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),console.error(n),this.setStateOnError(n),this.stop()}}],[{key:"getAPI",value:function(){return window.SpeechSDK}}])}(Zm.Speech);pi.Azure=Bm;Object.defineProperty(mo,"__esModule",{value:!0});var Qs=si,jm=St,Be=mi,Vm=pi,zm=function(){function i(){w(this,i)}return S(i,null,[{key:"toggle",value:function(e,n){var t,a,r=e.toLocaleLowerCase().trim();!((t=Be.GlobalState.service)===null||t===void 0)&&t.recognizing?this.stop():r==="webspeech"?i.startWebSpeech(n):r==="azure"?i.startAzure(n):(console.error("service not found - must be either 'webspeech' or 'azure'"),(a=n==null?void 0:n.onError)===null||a===void 0||a.call(n,"service not found - must be either 'webspeech' or 'azure'"))}},{key:"startWebSpeech",value:function(e){i.stop()||(Be.GlobalState.service=new Qs.WebSpeech,Be.GlobalState.service.start(e))}},{key:"isWebSpeechSupported",value:function(){return!!Qs.WebSpeech.getAPI()}},{key:"startAzure",value:function(e){var n;i.stop()||!((n=Be.GlobalState.service)===null||n===void 0)&&n.cannotBeStopped||(Be.GlobalState.service=new Vm.Azure,Be.GlobalState.service.start(e))}},{key:"stop",value:function(){var e;return Be.GlobalState.doubleClickDetector()?!0:(!((e=Be.GlobalState.service)===null||e===void 0)&&e.recognizing&&Be.GlobalState.service.stop(),!1)}},{key:"endCommandMode",value:function(){Be.GlobalState.service&&jm.CommandUtils.toggleCommandModeOff(Be.GlobalState.service)}}])}(),jt=mo.default=zm,Um=function(){function i(s,e){w(this,i),this.silenceMS=2e3,this.stop=!0,typeof e=="boolean"&&e===!1&&(this.stop=!1),typeof s=="number"&&(this.silenceMS=s)}return S(i,[{key:"setSilenceTimeout",value:function(e,n){var t=this;this._silenceTimeout=setTimeout(function(){var a;(a=e.submit)==null||a.call(e),jt.stop(),t.stop||setTimeout(n,Oa.MICROPHONE_RESET_TIMEOUT_MS)},this.silenceMS)}},{key:"clearSilenceTimeout",value:function(){this._silenceTimeout&&clearTimeout(this._silenceTimeout)}},{key:"resetSilenceTimeout",value:function(e,n){this.clearSilenceTimeout(),this.setSilenceTimeout(e,n)}},{key:"onPause",value:function(e,n,t){e?this.resetSilenceTimeout(n,t):this.clearSilenceTimeout()}}])}(),ho=function(i){function s(e,n,t){var a;w(this,s);var r=B(e.speechToText)=="object"?e.speechToText:{};a=z(this,s,[r==null?void 0:r.button]);var o=a.processConfiguration(n,e.speechToText),l=o.serviceName,u=o.processedConfig;if(a._addErrorMessage=t,l==="webspeech"&&!jt.isWebSpeechSupported())a.changeToUnsupported();else{var c=!e.textInput||!e.textInput.disabled;a.elementRef.onclick=a.buttonClick.bind(a,n,c,l,u)}return setTimeout(function(){a._validationHandler=e._validationHandler}),a}return U(s,i),S(s,[{key:"processConfiguration",value:function(n,t){var a,r,o,l,u,c,d=B(t)=="object"?t:{},m=B(d.webSpeech)=="object"?d.webSpeech:{},p=d.azure||{},f=ne(ne({displayInterimResults:(a=d.displayInterimResults)!==null&&a!==void 0?a:void 0,textColor:(r=d.textColor)!==null&&r!==void 0?r:void 0,translations:(o=d.translations)!==null&&o!==void 0?o:void 0,commands:(l=d.commands)!==null&&l!==void 0?l:void 0,events:(u=d.events)!==null&&u!==void 0?u:void 0},m),p),g=(c=d.commands)==null?void 0:c.submit;return g&&(f.onPreResult=function(y){return y.toLowerCase().includes(g)?(setTimeout(function(){var v;return(v=n.submit)==null?void 0:v.call(n)}),jt.endCommandMode(),{restart:!0,removeNewText:!0}):null}),d.submitAfterSilence&&(this._silenceSubmit=new Um(d.submitAfterSilence,d.stopAfterSubmit)),{serviceName:s.getServiceName(d),processedConfig:f}}},{key:"buttonClick",value:function(n,t,a,r){var o=this,l=r==null?void 0:r.events;n.removePlaceholderStyle(),jt.toggle(a,ne({insertInCursorLocation:!1,element:t?n.inputElementRef:void 0,onError:function(){var c;o.onError(),(c=o._silenceSubmit)==null||c.clearSilenceTimeout()},onStart:function(){var c;o.changeToActive(),(c=l==null?void 0:l.onStart)==null||c.call(l)},onStop:function(){var c,d,m;(c=o._validationHandler)==null||c.call(o),(d=o._silenceSubmit)==null||d.clearSilenceTimeout(),o.changeToDefault(),(m=l==null?void 0:l.onStop)==null||m.call(l)},onPauseTrigger:function(c){var d,m;(d=o._silenceSubmit)==null||d.onPause(c,n,o.elementRef.onclick),(m=l==null?void 0:l.onPauseTrigger)==null||m.call(l,c)},onPreResult:function(c,d){var m;(m=l==null?void 0:l.onPreResult)==null||m.call(l,c,d)},onResult:function(c,d){var m,p,f;d&&((m=o._validationHandler)==null||m.call(o)),(p=o._silenceSubmit)==null||p.resetSilenceTimeout(n,o.elementRef.onclick),(f=l==null?void 0:l.onResult)==null||f.call(l,c,d)},onCommandModeTrigger:function(c){var d;o.onCommandModeTrigger(c),(d=l==null?void 0:l.onCommandModeTrigger)==null||d.call(l,c)}},r))}},{key:"onCommandModeTrigger",value:function(n){n?this.changeToCommandMode():this.changeToActive()}},{key:"onError",value:function(){this._addErrorMessage("speechToText","speech input error")}}],[{key:"getServiceName",value:function(n){return n.azure?"azure":"webspeech"}},{key:"toggleSpeechAfterSubmit",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n.click(),t||setTimeout(function(){return n.click()},s.MICROPHONE_RESET_TIMEOUT_MS)}}])}(co);ho.MICROPHONE_RESET_TIMEOUT_MS=300;var Oa=ho,Na=function(){function i(s,e,n,t){var a=this;w(this,i),this._attachments=[],this._fileCountLimit=99,this._acceptedFormat="",e.maxNumberOfFiles&&(this._fileCountLimit=e.maxNumberOfFiles),this._toggleContainerDisplay=n,this._fileAttachmentsContainerRef=t,e.acceptedFormats&&(this._acceptedFormat=e.acceptedFormats),setTimeout(function(){a._validationHandler=s._validationHandler})}return S(i,[{key:"attemptAddFile",value:function(e,n){return i.isFileTypeValid(e,this._acceptedFormat)?(this.addAttachmentBasedOnType(e,n,!0),!0):!1}},{key:"addAttachmentBasedOnType",value:function(e,n,t){var a=i.getTypeFromBlob(e);if(a==="image"){var r=i.createImageAttachment(n);this.addFileAttachment(e,"image",r,t)}else if(a==="audio"){var o=ca.createAudioAttachment(n);this.addFileAttachment(e,"audio",o,t)}else{var l=i.createAnyFileAttachment(e.name);this.addFileAttachment(e,"any",l,t)}}},{key:"addFileAttachment",value:function(e,n,t,a){var r,o=i.createContainer(t);if(this._attachments.length>=this._fileCountLimit){var l=this._attachments[this._attachments.length-1].removeButton;l==null||l.click();var u=this._fileAttachmentsContainerRef.children;this._fileAttachmentsContainerRef.insertBefore(o,u[0])}else this._fileAttachmentsContainerRef.appendChild(o);var c={file:e,attachmentContainerElement:o,fileType:n};return a&&(c.removeButton=this.createRemoveAttachmentButton(c),o.appendChild(c.removeButton)),this._toggleContainerDisplay(!0),this._attachments.push(c),this._fileAttachmentsContainerRef.scrollTop=this._fileAttachmentsContainerRef.scrollHeight,(r=this._validationHandler)==null||r.call(this),c}},{key:"createRemoveAttachmentButton",value:function(e){var n=document.createElement("div");n.classList.add("remove-file-attachment-button"),n.onclick=this.removeAttachment.bind(this,e);var t=document.createElement("div");return t.classList.add("x-icon"),t.innerText="×",n.appendChild(t),n}},{key:"removeAttachment",value:function(e){var n,t=this._attachments.findIndex(function(r){return r===e}),a=this._attachments[t].attachmentContainerElement;this._attachments.splice(t,1),ca.stopAttachmentPlayback(a),a.remove(),this._toggleContainerDisplay(!1),(n=this._validationHandler)==null||n.call(this)}},{key:"getFiles",value:function(){return Array.from(this._attachments).map(function(e){return{file:e.file,type:e.fileType}})}},{key:"removeAllAttachments",value:function(){this._attachments.forEach(function(e){setTimeout(function(){var n;return(n=e.removeButton)==null?void 0:n.click()})})}}],[{key:"isFileTypeValid",value:function(e,n){if(n==="")return!0;for(var t=n.split(","),a=0;a<t.length;a++){var r=t[a].trim();if(e.type===r)return!0;if(r.startsWith(".")){var o=r.slice(1);if(e.name.endsWith(o))return!0}else if(e.name.endsWith(r)||r.endsWith("/*")&&e.type.startsWith(r.slice(0,-2)))return!0}return!1}},{key:"getTypeFromBlob",value:function(e){var n=e.type;return n.startsWith("image")?"image":n.startsWith("audio")?"audio":"any"}},{key:"createImageAttachment",value:function(e){var n=new Image;return n.src=e,n.classList.add("image-attachment"),n}},{key:"createAnyFileAttachment",value:function(e){var n=document.createElement("div");n.classList.add("border-bound-attachment"),Gn.IS_SAFARI&&n.classList.add("border-bound-attachment-safari");var t=document.createElement("div");t.classList.add("any-file-attachment-text");var a=document.createElement("div");return a.classList.add("file-attachment-text-container"),a.appendChild(t),t.textContent=e,n.appendChild(a),n}},{key:"createContainer",value:function(e){var n=document.createElement("div");return n.classList.add("file-attachment"),n.appendChild(e),n}}])}(),Gm=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <title>play</title>
  <path d="M5.92 24.096q0 1.088 0.928 1.728 0.512 0.288 1.088 0.288 0.448 0 0.896-0.224l16.16-8.064q0.48-0.256 0.8-0.736t0.288-1.088-0.288-1.056-0.8-0.736l-16.16-8.064q-0.448-0.224-0.896-0.224-0.544 0-1.088 0.288-0.928 0.608-0.928 1.728v16.16z"></path>
</svg>`,Js=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
<title>stop</title>
<path d="M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h16.128q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-16.128q-0.832 0-1.44 0.576t-0.576 1.44v16.16z"></path>
</svg>`,yo=function(i){function s(e,n,t,a){return w(this,s),z(this,s,[e,n,t,a])}return U(s,i),S(s,[{key:"createTimer",value:function(n,t){var a=this,r=0,o=t!==void 0&&t<s.TIMER_LIMIT_S?t:s.TIMER_LIMIT_S;return setInterval(function(){var l;r+=1,r===o&&((l=a.stopPlaceholderCallback)==null||l.call(a),a.clearTimer()),r===600&&n.classList.add("audio-placeholder-text-4-digits");var u=Math.floor(r/60),c=(r%60).toString().padStart(2,"0");n.textContent="".concat(u,":").concat(c)},1e3)}},{key:"createPlaceholderAudioAttachment",value:function(n){var t=s.createAudioContainer(),a=document.createElement("div");a.classList.add("audio-placeholder-text-3-digits");var r=document.createElement("div");r.classList.add("file-attachment-text-container","audio-placeholder-text-3-digits-container"),r.appendChild(a);var o=De.createSVGElement(Js);return o.classList.add("attachment-icon","stop-icon","not-removable-attachment-icon"),a.textContent="0:00",this._activePlaceholderTimer=this.createTimer(a,n),t.appendChild(r),this.addPlaceholderAudioAttachmentEvents(t,o,r),t}},{key:"addPlaceholderAudioAttachmentEvents",value:function(n,t,a){var r=this,o=function(){return n.replaceChildren(t)};n.addEventListener("mouseenter",o);var l=function(){return n.replaceChildren(a)};n.addEventListener("mouseleave",l);var u=function(){var d;return(d=r.stopPlaceholderCallback)==null?void 0:d.call(r)};n.addEventListener("click",u)}},{key:"addPlaceholderAttachment",value:function(n,t){var a=this.createPlaceholderAudioAttachment(t);this._activePlaceholderAttachment=this.addFileAttachment(new File([],""),"audio",a,!1),this.stopPlaceholderCallback=n}},{key:"completePlaceholderAttachment",value:function(n,t){var a=this._activePlaceholderAttachment;a&&(a.file=n,s.addAudioElements(a.attachmentContainerElement.children[0],t),a.removeButton=this.createRemoveAttachmentButton(a),a.attachmentContainerElement.appendChild(a.removeButton),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"removePlaceholderAttachment",value:function(){this._activePlaceholderAttachment&&(this.removeAttachment(this._activePlaceholderAttachment),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"clearTimer",value:function(){this._activePlaceholderTimer!==void 0&&(clearInterval(this._activePlaceholderTimer),this._activePlaceholderTimer=void 0,this.stopPlaceholderCallback=void 0)}}],[{key:"createAudioContainer",value:function(){var n=document.createElement("div");return n.classList.add("border-bound-attachment","audio-attachment-icon-container"),Gn.IS_SAFARI&&n.classList.add("border-bound-attachment-safari"),n}},{key:"addAudioElements",value:function(n,t){var a=n.parentElement?Ze.cloneElement(n):n,r=document.createElement("audio");r.src=t;var o=De.createSVGElement(Gm);o.classList.add("attachment-icon","play-icon");var l=De.createSVGElement(Js);l.classList.add("attachment-icon","stop-icon"),a.replaceChildren(o),r.onplay=function(){a.replaceChildren(l)},r.onpause=function(){a.replaceChildren(o),r.currentTime=0},r.onended=function(){a.replaceChildren(o)},a.onclick=function(){r.paused?r.play():r.pause()}}},{key:"createAudioAttachment",value:function(n){var t=s.createAudioContainer();return s.addAudioElements(t,n),t}},{key:"stopAttachmentPlayback",value:function(n){var t,a,r;(r=(a=(t=n.children[0])==null?void 0:t.children)==null?void 0:a[0])!=null&&r.classList.contains("stop-icon")&&n.children[0].click()}}])}(Na);yo.TIMER_LIMIT_S=5999;var ca=yo,Hm=function(){function i(){w(this,i)}return S(i,null,[{key:"create",value:function(e,n,t,a,r){return r==="audio"?new ca(e,n,t,a):new Na(e,n,t,a)}}])}(),Za=function(){function i(s,e,n){w(this,i),this._fileAttachmentsTypes=[],this.elementRef=this.createAttachmentContainer();var t=B(n)=="object"&&!!n.displayFileAttachmentContainer;this.toggleContainerDisplay(t),s.appendChild(this.elementRef),e&&Object.assign(this.elementRef.style,e)}return S(i,[{key:"addType",value:function(e,n,t){var a=Hm.create(e,n,this.toggleContainerDisplay.bind(this),this.elementRef,t);return this._fileAttachmentsTypes.push(a),a}},{key:"createAttachmentContainer",value:function(){var e=document.createElement("div");return e.id="file-attachment-container",e}},{key:"toggleContainerDisplay",value:function(e){e?this.elementRef.style.display="block":this.elementRef.children.length===0&&(this.elementRef.style.display="none")}},{key:"getAllFileData",value:function(){var e=this._fileAttachmentsTypes.map(function(n){return n.getFiles()}).flat();return e.length>0?e:void 0}},{key:"completePlaceholders",value:function(){var s=k(h().mark(function n(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(this._fileAttachmentsTypes.map(function(){var r=k(h().mark(function o(l){var u;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(u=l.stopPlaceholderCallback)==null?void 0:u.call(l));case 1:case"end":return d.stop()}},o)}));return function(o){return r.apply(this,arguments)}}()));case 2:case"end":return a.stop()}},n,this)}));function e(){return s.apply(this,arguments)}return e}()},{key:"addFilesToAnyType",value:function(e){i.addFilesToType(e,this._fileAttachmentsTypes)}},{key:"removeAllFiles",value:function(){this._fileAttachmentsTypes.forEach(function(e){return e.removeAllAttachments()}),this.elementRef.replaceChildren(),this.toggleContainerDisplay(!1)}},{key:"getNumberOfTypes",value:function(){return this._fileAttachmentsTypes.length}}],[{key:"addFilesToType",value:function(e,n){e.forEach(function(t){var a=new FileReader;a.readAsDataURL(t),a.onload=function(r){for(var o=0;o<n.length&&!n[o].attemptAddFile(t,r.target.result);o+=1);}})}}])}(),vo=function(){function i(s,e,n){w(this,i),this._isOpen=!1,this._contentRef=i.createModalContent(e,n==null?void 0:n.backgroundColor),this._buttonPanel=i.createButtonPanel(n==null?void 0:n.backgroundColor),this._elementRef=i.createContainer(this._contentRef,n),this._elementRef.appendChild(this._buttonPanel),s.appendChild(this._elementRef),this._backgroundPanelRef=i.createDarkBackgroundPanel(),s.appendChild(this._backgroundPanelRef),this.addWindowEvents(s)}return S(i,[{key:"isOpen",value:function(){return this._isOpen}},{key:"addButtons",value:function(){for(var e=this,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];t.forEach(function(r){je.addAttributes(r),e._buttonPanel.appendChild(r)})}},{key:"close",value:function(){var e=this;this._elementRef.classList.remove("show-modal"),this._elementRef.classList.add("hide-modal"),this._backgroundPanelRef.classList.remove("show-modal-background"),this._backgroundPanelRef.classList.add("hide-modal-background"),this._isOpen=!1,setTimeout(function(){e._elementRef.style.display="none",e._backgroundPanelRef.style.display="none"},i.MODAL_CLOSE_TIMEOUT_MS)}},{key:"displayModalElements",value:function(){this._elementRef.style.display="flex",this._elementRef.classList.remove("hide-modal"),this._elementRef.classList.add("show-modal"),this._backgroundPanelRef.style.display="block",this._backgroundPanelRef.classList.remove("hide-modal-background"),this._backgroundPanelRef.classList.add("show-modal-background"),this._isOpen=!0}},{key:"openTextModal",value:function(e){this._contentRef.innerHTML=e,this.displayModalElements()}},{key:"addCloseButton",value:function(e,n,t){var a=this,r=n?i.createSVGButton(e):i.createTextButton(e);return this.addButtons(r),r.onclick=function(){a.close(),setTimeout(function(){t==null||t()},140)},r}},{key:"addWindowEvents",value:function(e){this.keyDownEvent=this.windowKeyDown.bind(this,e),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowKeyDown",value:function(e,n){var t,a;!e.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(n.key===be.ESCAPE?(this.close(),(t=this.extensionCloseCallback)==null||t.call(this)):n.key===be.ENTER&&(this.close(),(a=this.extensionCloseCallback)==null||a.call(this)))}}],[{key:"createContainer",value:function(e,n){var t=document.createElement("div");return t.classList.add("modal"),t.appendChild(e),n&&delete n.backgroundColor,Object.assign(t.style,n),t}},{key:"createModalContent",value:function(e,n){var t,a=document.createElement("div");return(t=a.classList).add.apply(t,ni(e)),n&&(a.style.backgroundColor=n),document.createElement("div").appendChild(a),a}},{key:"createButtonPanel",value:function(e){var n=document.createElement("div");return n.classList.add("modal-button-panel"),e&&(n.style.backgroundColor=e),n}},{key:"createDarkBackgroundPanel",value:function(){var e=document.createElement("div");return e.id="modal-background-panel",e}},{key:"createTextButton",value:function(e){var n=document.createElement("div");return n.classList.add("modal-button"),n.textContent=e,n}},{key:"createSVGButton",value:function(e){var n=document.createElement("div");n.classList.add("modal-button","modal-svg-button");var t=De.createSVGElement(e);return t.classList.add("modal-svg-button-icon"),n.appendChild(t),n}},{key:"createTextModalFunc",value:function(e,n,t){var a;if(B(n)=="object"&&(a=n.files)!=null&&a.infoModal){var r=new i(e,["modal-content"],n.files.infoModal.containerStyle);return r.addCloseButton("OK",!1,t),r.openTextModal.bind(r,n.infoModalTextMarkUp||"")}}}])}();vo.MODAL_CLOSE_TIMEOUT_MS=190;var at=vo,Qm=function(i){function s(e,n,t,a,r,o){var l;w(this,s);var u,c,d,m,p,f,g,y,v,b=(u=t==null?void 0:t.button)==null?void 0:u.position,_=((m=(d=(c=t==null?void 0:t.button)==null?void 0:c.styles)==null?void 0:d.text)==null?void 0:m.content)||o;l=z(this,s,[s.createButtonElement(),b,t.button,_]);var C=b==="dropup-menu",A=l.createInnerElements(a,r,l._customStyles,C);return l._inputElement=s.createInputElement((p=t==null?void 0:t.files)==null?void 0:p.acceptedFormats),l.addClickEvent(e,t),l.elementRef.replaceChildren(A.styles),l.reapplyStateStyle("styles"),l._fileAttachmentsType=n,l._openModalOnce=((g=(f=t.files)==null?void 0:f.infoModal)==null?void 0:g.openModalOnce)===!1||(v=(y=t.files)==null?void 0:y.infoModal)==null?void 0:v.openModalOnce,l}return U(s,i),S(s,[{key:"createInnerElements",value:function(n,t,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=s.createSVGIconElement(n,t);return{styles:Cn.createInnerElement(this.elementRef,o,"styles",a,r)}}},{key:"triggerImportPrompt",value:function(n){n.onchange=this.import.bind(this,n),n.click()}},{key:"import",value:function(n){Za.addFilesToType(Array.from(n.files||[]),[this._fileAttachmentsType]),n.value=""}},{key:"addClickEvent",value:function(n,t){var a=this.triggerImportPrompt.bind(this,this._inputElement),r=at.createTextModalFunc(n,t,a);this.elementRef.onclick=this.click.bind(this,r)}},{key:"click",value:function(n){n&&(this._openModalOnce===void 0||this._openModalOnce===!0)?(n(),this._openModalOnce===!0&&(this._openModalOnce=!1)):this.triggerImportPrompt(this._inputElement)}}],[{key:"createInputElement",value:function(n){var t=document.createElement("input");return t.type="file",t.accept=n||"",t.hidden=!0,t.multiple=!0,t}},{key:"createButtonElement",value:function(){var n=document.createElement("div");return n.classList.add("input-button","upload-file-button"),je.addAttributes(n),n}},{key:"createSVGIconElement",value:function(n,t){var a=De.createSVGElement(t);return a.id=n,a}}])}(bt),$s=function(){function i(){w(this,i)}return S(i,null,[{key:"create",value:function(e,n,t){var a=i.createElement(t);i.addEvents(a,e,n),e.appendChild(a)}},{key:"createElement",value:function(e){var n=document.createElement("div");return n.id="drag-and-drop",B(e)=="object"&&Object.assign(n.style,e),n}},{key:"addEvents",value:function(e,n,t){n.ondragenter=function(a){a.preventDefault(),i.display(e)},e.ondragleave=function(a){a.preventDefault(),i.hide(e)},e.ondragover=function(a){a.preventDefault()},e.ondrop=function(a){a.preventDefault(),i.uploadFile(t,a),i.hide(e)}}},{key:"uploadFile",value:function(e,n){var t,a=(t=n.dataTransfer)==null?void 0:t.files;a&&e.addFilesToAnyType(Array.from(a))}},{key:"display",value:function(e){e.style.display="block"}},{key:"hide",value:function(e){e.style.display="none"}},{key:"isEnabled",value:function(e,n){return n!==void 0&&n===!1?!1:!!n||e.getNumberOfTypes()>0}}])}(),Jm=function(){function i(){w(this,i)}return S(i,null,[{key:"validate",value:function(e,n,t,a,r){var o=e(t,a,r);return o?n.changeToSubmitIcon():n.changeToDisabledIcon(),o}},{key:"useValidationFunc",value:function(){var s=k(h().mark(function n(t,a,r,o){var l,u,c;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l=a.isTextInputEmpty()?"":a.inputElementRef.textContent,m.next=3,r.completePlaceholders();case 3:return u=r.getAllFileData(),c=u==null?void 0:u.map(function(p){return p.file}),m.abrupt("return",i.validate(t,o,l,c));case 5:case"end":return m.stop()}},n)}));function e(n,t,a,r){return s.apply(this,arguments)}return e}()},{key:"useValidationFuncProgrammatic",value:function(){var s=k(h().mark(function n(t,a,r){var o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=(o=a.files)==null?void 0:o.map(function(d){return d.file}),c.abrupt("return",i.validate(t,r,a.text,l,!0));case 2:case"end":return c.stop()}},n)}));function e(n,t,a){return s.apply(this,arguments)}return e}()},{key:"validateWebsocket",value:function(e,n){return e.websocket&&!ft.canSendMessage(e.websocket)?(n.changeToDisabledIcon(),!1):!0}},{key:"attach",value:function(e,n,t,a,r){var o=e.validateInput||xe.processValidateInput(e);e._validationHandler=function(){var l=k(h().mark(function u(c){var d;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(r.status.loadingActive||r.status.requestInProgress||n.isSubmitProgrammaticallyDisabled===!0||!i.validateWebsocket(n,r))){p.next=2;break}return p.abrupt("return",!1);case 2:return d=o||n.canSendMessage,p.abrupt("return",d?c?i.useValidationFuncProgrammatic(d,c,r):i.useValidationFunc(d,t,a,r):null);case 4:case"end":return p.stop()}},u)}));return function(u){return l.apply(this,arguments)}}()}}])}(),bo=function(){function i(){w(this,i)}return S(i,null,[{key:"getFileName",value:function(e,n){var t=new Date,a=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r,"-").concat(o,".").concat(n)}}])}(),$m=function(i){function s(e,n){var t;w(this,s);var a,r;return t=z(this,s,[n.button]),t._waitingForBrowserApproval=!1,t._audioType=e,t._extension=((a=n.files)==null?void 0:a.format)||"mp3",t._maxDurationSeconds=(r=n.files)==null?void 0:r.maxDurationSeconds,t.elementRef.onclick=t.buttonClick.bind(Un(t)),t}return U(s,i),S(s,[{key:"buttonClick",value:function(){this._waitingForBrowserApproval||(this.isActive?this.stop():(this._waitingForBrowserApproval=!0,this.record()))}},{key:"stop",value:function(){var n=this;return new Promise(function(t){var a,r;n.changeToDefault(),(a=n._mediaRecorder)==null||a.stop(),(r=n._mediaStream)==null||r.getTracks().forEach(function(o){return o.stop()}),setTimeout(function(){t()},10)})}},{key:"record",value:function(){var n=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){n.changeToActive(),n._mediaRecorder=new MediaRecorder(t),n._audioType.addPlaceholderAttachment(n.stop.bind(n),n._maxDurationSeconds),n._mediaStream=t,n._mediaRecorder.addEventListener("dataavailable",function(a){n.createFile(a)}),n._mediaRecorder.start()}).catch(function(t){console.error(t),n.stop()}).finally(function(){n._waitingForBrowserApproval=!1})}},{key:"createFile",value:function(n){var t=this,a=new Blob([n.data],{type:"audio/".concat(this._extension)}),r=bo.getFileName(this._newFilePrefix||"audio",this._extension),o=new File([a],r,{type:a.type}),l=new FileReader;l.readAsDataURL(o),l.onload=function(u){t._audioType.completePlaceholderAttachment(o,u.target.result)}}}])}(co),Wm=`<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="1" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
  <line x1="22" y1="2" x2="11" y2="14"></line>
  <polygon points="22 2 15 22 11 14 2 10 22 2"></polygon>
</svg>
`,vn=function(){function i(){w(this,i)}return S(i,null,[{key:"setPropertyValueIfDoesNotExist",value:function(e,n,t){var a,r,o=n[0];n.length===1?(a=e[o])!==null&&a!==void 0||(e[o]=t):((r=e[o])!==null&&r!==void 0||(e[o]={}),n.shift(),i.setPropertyValueIfDoesNotExist(e[o],n,t))}},{key:"setPropertyValue",value:function(e,n,t){var a,r=n[0];n.length===1?e[r]=t:((a=e[r])!==null&&a!==void 0||(e[r]={}),n.shift(),i.setPropertyValue(e[r],n,t))}},{key:"getObjectValue",value:function(e,n){var t=n[0],a=e[t];return a===void 0||n.length===1?a:i.getObjectValue(a,n.slice(1))}},{key:"overwritePropertyObjectFromAnother",value:function(e,n,t){var a=i.getObjectValue(n,t);if(a){var r=ne(ne({},a),i.getObjectValue(e,t)||{});i.setPropertyValue(e,t,r)}}}])}(),Ws=function(){function i(){w(this,i)}return S(i,null,[{key:"resetSubmit",value:function(e,n){n?e.unsetCustomStateStyles(["loading","submit"]):e.unsetCustomStateStyles(["stop","loading","submit"]),e.reapplyStateStyle("submit")}},{key:"overwriteDefaultStyleWithSubmit",value:function(e,n){if(e.submit){var t=JSON.parse(JSON.stringify(e[n]||{}));vn.overwritePropertyObjectFromAnother(t,e.submit,["container","default"]),vn.overwritePropertyObjectFromAnother(t,e.submit,["text","styles","default"]),vn.overwritePropertyObjectFromAnother(t,e.submit,["svg","styles","default"]),e[n]=t}}},{key:"setUpDisabledButton",value:function(e){vn.setPropertyValueIfDoesNotExist(e,["submit","container","default","backgroundColor"],""),vn.setPropertyValueIfDoesNotExist(e,["disabled","container","default","backgroundColor"],"unset"),vn.setPropertyValueIfDoesNotExist(e.submit,["svg","styles","default","filter"],""),vn.setPropertyValueIfDoesNotExist(e.disabled,["svg","styles","default","filter"],"brightness(0) saturate(100%) invert(70%) sepia(0%) saturate(5564%) hue-rotate(207deg) brightness(100%) contrast(97%)"),i.overwriteDefaultStyleWithSubmit(e,"disabled")}},{key:"process",value:function(e){var n=JSON.parse(JSON.stringify(e||{}));return i.overwriteDefaultStyleWithSubmit(n,"loading"),i.overwriteDefaultStyleWithSubmit(n,"stop"),e!=null&&e.alwaysEnabled||i.setUpDisabledButton(n),n}}])}(),Vt=function(i){function s(e,n,t,a,r,o){var l;w(this,s);var u=Ws.process(e.submitButtonStyles);return l=z(this,s,[s.createButtonContainerElement(),u==null?void 0:u.position,u]),l._isSVGLoadingIconOverriden=!1,l.status={requestInProgress:!1,loadingActive:!1},l._messages=t,l._textInput=n,l._fileAttachments=r,l._innerElements=l.createInnerElements(),l._abortStream=new AbortController,l._stopClicked={listener:function(){}},l._serviceIO=a,l._alwaysEnabled=!!(u!=null&&u.alwaysEnabled),e.disableSubmitButton=l.disableSubmitButton.bind(Un(l),a),l.attemptOverwriteLoadingStyle(e),o.microphone&&l.setUpSpeechToText(o.microphone.button,e.speechToText),setTimeout(function(){var c;l._validationHandler=e._validationHandler,l.assignHandlers(l._validationHandler),(c=l._validationHandler)==null||c.call(Un(l))}),l}return U(s,i),S(s,[{key:"createInnerElements",value:function(){var n=this.createCustomElements(),t=n.submit,a=n.loading,r=n.stop,o=t||s.createSubmitIconElement();return{submit:o,loading:a||s.createLoadingIconElement(),stop:r||s.createStopIconElement(),disabled:this.createDisabledIconElement(o)}}},{key:"createCustomElements",value:function(){var n=this,t=Cn.createSpecificStateElement(this.elementRef,"submit",this._customStyles),a={loading:void 0,stop:void 0};return Object.keys(a).forEach(function(r){var o=r,l=Cn.createCustomElement(o,n._customStyles);l&&(a[o]=l)}),a.submit=t,a}},{key:"createDisabledIconElement",value:function(n){return Cn.createCustomElement("disabled",this._customStyles)||n.cloneNode(!0)}},{key:"attemptOverwriteLoadingStyle",value:function(n){var t,a,r,o,l,u,c,d,m;if(!((a=(t=this._customStyles)==null?void 0:t.submit)!=null&&a.svg||(l=(o=(r=this._customStyles)==null?void 0:r.loading)==null?void 0:o.svg)!=null&&l.content||(d=(c=(u=this._customStyles)==null?void 0:u.loading)==null?void 0:c.text)!=null&&d.content)&&(n.displayLoadingBubble===void 0||n.displayLoadingBubble===!0)){var p=document.createElement("style");p.textContent=`
        .loading-button > * {
          filter: brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%)
            contrast(96%) !important;
        }`,(m=n.shadowRoot)==null||m.appendChild(p),this._isSVGLoadingIconOverriden=!0}}},{key:"assignHandlers",value:function(n){this._serviceIO.completionsHandlers={onFinish:this.resetSubmit.bind(this,n)},this._serviceIO.streamHandlers={onOpen:this.changeToStopIcon.bind(this),onClose:this.resetSubmit.bind(this,n),abortStream:this._abortStream,stopClicked:this._stopClicked};var t=this._serviceIO.stream;B(t)=="object"&&typeof t.simulation=="number"&&(this._serviceIO.streamHandlers.simulationInterim=t.simulation)}},{key:"setUpSpeechToText",value:function(n,t){this._microphoneButton=n,this._stopSTTAfterSubmit=B(t)=="object"?t.stopAfterSubmit:!1}},{key:"resetSubmit",value:function(n){this.status.requestInProgress=!1,this.status.loadingActive=!1,n()}},{key:"submitFromInput",value:function(){var e=k(h().mark(function t(){var a,r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._fileAttachments.completePlaceholders();case 2:a=this._fileAttachments.getAllFileData(),this._textInput.isTextInputEmpty()?this.attemptSubmit({text:"",files:a}):(r=this._textInput.inputElementRef.innerText.trim(),this.attemptSubmit({text:r,files:a}));case 4:case"end":return l.stop()}},t,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"programmaticSubmit",value:function(){var e=k(h().mark(function t(a){var r=this,o;return h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:typeof a=="string"&&(a=xe.processSubmitUserMessage(a)),o={text:a.text},a.files&&(o.files=Array.from(a.files).map(function(c){return{file:c,type:Na.getTypeFromBlob(c)}})),setTimeout(function(){return r.attemptSubmit(o,!0)});case 3:case"end":return u.stop()}},t)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"attemptSubmit",value:function(){var e=k(h().mark(function t(a){var r,o,l,u,c,d,m=arguments;return h().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return r=m.length>1&&m[1]!==void 0?m[1]:!1,f.next=3,(o=this._validationHandler)==null?void 0:o.call(this,r?a:void 0);case 3:if(f.t0=f.sent,f.t1=!1,f.t0!==f.t1){f.next=7;break}return f.abrupt("return");case 7:return this.changeToLoadingIcon(),f.next=10,this.addNewMessage(a);case 10:return this._serviceIO.isWebModel()||this._messages.addLoadingMessage(),this._textInput.clear(),c=(l=a.files)==null?void 0:l.map(function(g){return g.file}),d={text:a.text===""?void 0:a.text,files:c},f.next=15,this._serviceIO.callAPI(d,this._messages);case 15:(u=this._fileAttachments)==null||u.removeAllFiles();case 16:case"end":return f.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"addNewMessage",value:function(){var e=k(h().mark(function t(a){var r,o,l;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=a.text,o=a.files,l={role:V.USER_ROLE},r&&(l.text=r),c.t0=o,!c.t0){c.next=8;break}return c.next=7,this._messages.addMultipleFiles(o);case 7:l.files=c.sent;case 8:this._serviceIO.sessionId&&(l._sessionId=this._serviceIO.sessionId),Object.keys(l).length>0&&this._messages.addNewMessage(l);case 10:case"end":return c.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"stopStream",value:function(){var n;this._abortStream.abort(),(n=this._stopClicked)==null||n.listener(),this._validationHandler&&this.resetSubmit(this._validationHandler)}},{key:"changeToStopIcon",value:function(){this._serviceIO.websocket||(this.elementRef.classList.remove(s.LOADING_CLASS,s.DISABLED_CLASS,s.SUBMIT_CLASS),je.removeAriaAttributes(this.elementRef),this.elementRef.replaceChildren(this._innerElements.stop),this.reapplyStateStyle("stop",["loading","submit"]),this.elementRef.onclick=this.stopStream.bind(this),this.status.loadingActive=!1)}},{key:"changeToLoadingIcon",value:function(){this._serviceIO.websocket||(this._isSVGLoadingIconOverriden||this.elementRef.replaceChildren(this._innerElements.loading),this.elementRef.classList.remove(s.SUBMIT_CLASS,s.DISABLED_CLASS),je.removeAriaDisabled(this.elementRef),this.elementRef.classList.add(s.LOADING_CLASS),je.addAriaBusy(this.elementRef),this.reapplyStateStyle("loading",["submit"]),this.elementRef.onclick=function(){},this.status.requestInProgress=!0,this.status.loadingActive=!0)}},{key:"changeToSubmitIcon",value:function(){var n=this;this.elementRef.classList.contains(s.SUBMIT_CLASS)||(this.elementRef.classList.remove(s.LOADING_CLASS,s.DISABLED_CLASS),je.removeAriaAttributes(this.elementRef),this.elementRef.classList.add(s.SUBMIT_CLASS),this.elementRef.replaceChildren(this._innerElements.submit),Ws.resetSubmit(this,this.status.loadingActive),this.elementRef.onclick=function(){var t;n.submitFromInput(),(t=n._microphoneButton)!=null&&t.isActive&&Oa.toggleSpeechAfterSubmit(n._microphoneButton.elementRef,!!n._stopSTTAfterSubmit)})}},{key:"changeToDisabledIcon",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._alwaysEnabled&&!n?this.changeToSubmitIcon():this.elementRef.classList.contains(s.DISABLED_CLASS)||(this.elementRef.classList.remove(s.LOADING_CLASS,s.SUBMIT_CLASS),je.removeAriaBusy(this.elementRef),this.elementRef.classList.add(s.DISABLED_CLASS),je.addAriaDisabled(this.elementRef),this.elementRef.replaceChildren(this._innerElements.disabled),this.reapplyStateStyle("disabled",["submit"]),this.elementRef.onclick=function(){})}},{key:"disableSubmitButton",value:function(n,t){var a;n.isSubmitProgrammaticallyDisabled=t!==!1,!(this.status.requestInProgress||this.status.loadingActive)&&(t===!1?(a=this._validationHandler)==null||a.call(this):this.changeToDisabledIcon(!0))}}],[{key:"createButtonContainerElement",value:function(){var n=document.createElement("div");return n.classList.add("input-button"),je.addAttributes(n),n}},{key:"createSubmitIconElement",value:function(){var n=De.createSVGElement(Wm);return n.id="submit-icon",n}},{key:"createLoadingIconElement",value:function(){var n=document.createElement("div");return n.classList.add("loading-submit-button"),n}},{key:"createStopIconElement",value:function(){var n=document.createElement("div");return n.id="stop-icon",n}}])}(bt);Vt.SUBMIT_CLASS="submit-button",Vt.LOADING_CLASS="loading-button",Vt.DISABLED_CLASS="disabled-button";var Km=Vt,Ym=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <path d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"/>
</svg>
`,Xm=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <title>capture</title>
  <path d="M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048z"></path>
</svg>
`,ep=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <path d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"/>
</svg>`,np=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.89163 13.2687L9.16582 17.5427L18.7085 8" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,tp=function(i){function s(e,n,t,a){var r;w(this,s),r=z(this,s,[e,["modal-content","modal-camera-content"],t]),r._stopped=!1,r._format="image/png",r._canvas=document.createElement("canvas"),r._canvas.classList.add("camera-modal-canvas");var o=r.addButtonsAndTheirEvents(n),l=o.captureButton,u=o.submitButton;return r._captureButton=l,r._submitButton=u,r._captureIcon=r._captureButton.children[0],r._refreshIcon=De.createSVGElement(Ym),r._refreshIcon.classList.add("modal-svg-button-icon","modal-svg-refresh-icon"),(a==null?void 0:a.format)==="jpeg"&&(r._format="image/jpeg"),a!=null&&a.dimensions&&(r._dimensions=a.dimensions),r._contentRef.appendChild(r._canvas),r.extensionCloseCallback=r.stop,r}return U(s,i),S(s,[{key:"addButtonsAndTheirEvents",value:function(n){var t=at.createSVGButton(Xm);t.classList.add("modal-svg-camera-button"),t.children[0].classList.add("modal-svg-camera-icon");var a=this.addCloseButton(ep,!0);a.classList.add("modal-svg-close-button"),a.children[0].classList.add("modal-svg-close-icon");var r=at.createSVGButton(np);return r.classList.add("modal-svg-submit-button"),this.addButtons(t,r),this.addButtonEvents(t,a,r,n),{captureButton:t,submitButton:r}}},{key:"addButtonEvents",value:function(n,t,a,r){var o=this;n.onclick=function(){o.capture()},t.addEventListener("click",this.stop.bind(this)),a.onclick=function(){var l=o.getFile();l&&Za.addFilesToType([l],[r]),o.stop(),o.close()}}},{key:"stop",value:function(){var n=this;this._mediaStream&&this._mediaStream.getTracks().forEach(function(t){return t.stop()}),this._stopped=!0,setTimeout(function(){n._captureButton.replaceChildren(n._captureIcon),n._captureButton.classList.replace("modal-svg-refresh-button","modal-svg-camera-button");var t=n._canvas.getContext("2d");t==null||t.clearRect(0,0,n._canvas.width,n._canvas.height)},at.MODAL_CLOSE_TIMEOUT_MS)}},{key:"start",value:function(){var n=this;this._dataURL=void 0,this._submitButton.classList.add("modal-svg-submit-disabled"),this._stopped=!1,navigator.mediaDevices.getUserMedia({video:this._dimensions||!0}).then(function(t){if(n._mediaStream=t,!n.isOpen())return n.stop();var a=document.createElement("video");a.srcObject=t,a.play(),requestAnimationFrame(n.updateCanvas.bind(n,a,n._canvas))}).catch(function(t){console.error(t),n.stop(),n.close()})}},{key:"capture",value:function(){this._dataURL?(this._captureButton.replaceChildren(this._captureIcon),this._captureButton.classList.replace("modal-svg-refresh-button","modal-svg-camera-button"),this._submitButton.classList.add("modal-svg-submit-disabled"),this._dataURL=void 0):(this._captureButton.replaceChildren(this._refreshIcon),this._captureButton.classList.replace("modal-svg-camera-button","modal-svg-refresh-button"),this._submitButton.classList.remove("modal-svg-submit-disabled"),this._dataURL=this._canvas.toDataURL())}},{key:"getFile",value:function(){if(this._dataURL){for(var n=atob(this._dataURL.split(",")[1]),t=new Array(n.length),a=0;a<n.length;a++)t[a]=n.charCodeAt(a);var r=new Uint8Array(t),o=new Blob([r],{type:this._format}),l=this._format==="image/jpeg"?"jpeg":"png",u=bo.getFileName(this._newFilePrefix||"photo",l);return new File([o],u,{type:o.type})}}},{key:"updateCanvas",value:function(n,t){if(!this._stopped){if(!this._dataURL){t.width=n.videoWidth,t.height=n.videoHeight;var a=t.getContext("2d");a==null||a.drawImage(n,0,0,t.width,t.height)}requestAnimationFrame(this.updateCanvas.bind(this,n,t))}}},{key:"openCameraModal",value:function(n){this.displayModalElements(),n.start()}}],[{key:"createCameraModalFunc",value:function(n,t,a,r){var o=new s(n,t,a,r);return o.openCameraModal.bind(o,o)}}])}(at),ip=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M29 7h-4.599l-2.401-4h-12l-2.4 4h-4.6c-1 0-3 1-3 2.969v16.031c0 1.657 1.5 3 2.792 3h26.271c1.313 0 2.938-1.406 2.938-2.968v-16.032c0-1-1-3-3-3zM30 26.032c0 0.395-0.639 0.947-0.937 0.969h-26.265c-0.232-0.019-0.797-0.47-0.797-1v-16.031c0-0.634 0.851-0.953 1-0.969h5.732l2.4-4h9.802l1.785 3.030 0.55 0.97h5.731c0.705 0 0.99 0.921 1 1v16.032zM16 10c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM16 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path>
</svg>`,ap=function(i){function s(e,n,t){var a;w(this,s);var r,o,l,u,c=(r=t==null?void 0:t.button)==null?void 0:r.position,d=((u=(l=(o=t==null?void 0:t.button)==null?void 0:o.styles)==null?void 0:l.text)==null?void 0:u.content)||"Photo";a=z(this,s,[s.createButtonElement(),c,(t==null?void 0:t.button)||{},d]);var m=a.createInnerElements(a._customStyles,c==="dropup-menu");return t&&a.addClickEvent(e,n,t.modalContainerStyle,t.files),a.elementRef.classList.add("upload-file-button"),a.elementRef.appendChild(m.styles),a.reapplyStateStyle("styles"),a}return U(s,i),S(s,[{key:"createInnerElements",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{styles:Cn.createInnerElement(this.elementRef,s.createSVGIconElement(),"styles",n,t)}}},{key:"addClickEvent",value:function(n,t,a,r){var o=tp.createCameraModalFunc(n,t,a,r);this.elementRef.onclick=o}}],[{key:"createButtonElement",value:function(){var n=document.createElement("div");return n.classList.add("input-button"),je.addAttributes(n),n}},{key:"createSVGIconElement",value:function(){var n=De.createSVGElement(ip);return n.id="camera-icon",n}}])}(bt),sp=function(){function i(s,e,n,t){w(this,i),this.elementRef=i.createPanelElement(s.inputAreaStyle);var a={},r=this.createFileUploadComponents(s,n,t,a),o=new Er(s,n,r);s.speechToText&&!a.microphone&&(a.microphone={button:new Oa(s,o,e.addNewErrorMessage.bind(e))});var l=new Km(s,o,e,n,r,a);o.submit=l.submitFromInput.bind(l),Jm.attach(s,n,o,r,l),s.submitUserMessage=l.programmaticSubmit.bind(l),a.submit={button:l},i.addElements(this.elementRef,o,a,t,r,s.dropupStyles)}return S(i,[{key:"createFileUploadComponents",value:function(e,n,t,a){var r,o,l,u,c=new Za(this.elementRef,e.attachmentContainerStyle,n.demo);if(i.createUploadButtons(e,n.fileTypes||{},c,t,a),(r=n.camera)!=null&&r.files){var d=((o=a.images)==null?void 0:o.fileType)||c.addType(e,n.camera.files,"images");a.camera={button:new ap(t,d,n.camera)}}if((l=n.recordAudio)!=null&&l.files){var m=((u=a.audio)==null?void 0:u.fileType)||c.addType(e,n.recordAudio.files,"audio");a.microphone={button:new $m(m,n.recordAudio)}}return $s.isEnabled(c,e.dragAndDrop)&&$s.create(t,c,e.dragAndDrop),c}}],[{key:"createPanelElement",value:function(e){var n=document.createElement("div");return n.id="input",Object.assign(n.style,e),n}},{key:"createUploadButtons",value:function(e,n,t,a,r){Object.keys(n).forEach(function(o){var l=o,u=n[l];if(u.files){var c=t.addType(e,u.files,l),d=gm[l],m=d.id,p=d.svgString,f=d.dropupText,g=new Qm(a,c,u,m,p,f);r[l]={button:g,fileType:c}}})}},{key:"addElements",value:function(e,n,t,a,r,o){Ze.addElements(e,n.elementRef);var l=Kt.create(),u=cm.addButtons(l,t,a,o);rm.set(n.inputElementRef,l,r.elementRef,u),Kt.add(e,l)}}])}(),rp=function(){function i(){w(this,i)}return S(i,null,[{key:"createElements",value:function(e,n,t){var a=document.createElement("div");a.id="chat-view";var r=new ua(e,n,t);n.websocket&&ft.createConnection(n,r);var o=new sp(e,r,n,a);return Ze.addElements(a,r.elementRef,o.elementRef),a}},{key:"render",value:function(e,n,t,a){var r=i.createElements(e,t,a);n.replaceChildren(r)}}])}(),op=`#validate-property-key-view{height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:8px}#loading-validate-key-property{display:inline-block;width:50px;height:50px}#loading-validate-key-property:after{content:" ";display:block;width:38px;height:38px;margin:1px;border-radius:50%;border:5px solid #5fb2ff;border-color:#5fb2ff transparent #5fb2ff transparent;animation:loading-spinner 1.4s linear infinite}#insert-key-view{height:100%;position:relative}#insert-key-contents{text-align:center;position:absolute;top:44%;left:50%;transform:translate(-50%,-50%);width:82%;display:flex;max-width:700px}#insert-key-title{margin-bottom:15px}#insert-key-input-container{margin-right:2.7em;width:calc(100% - 80px)}#insert-key-input{padding:.3em 1.7em .3em .3em;border-width:1px;border-style:solid;border-radius:3px;width:100%;font-size:inherit}.insert-key-input-valid{border-color:gray}.insert-key-input-invalid{border-color:red}#visibility-icon-container{position:relative;float:right;cursor:pointer;-webkit-user-select:none;user-select:none}.visibility-icon{filter:brightness(0) saturate(100%) invert(63%) sepia(1%) saturate(9%) hue-rotate(43deg) brightness(98%) contrast(92%);position:absolute;right:-1.7em;top:-1.43em}#visible-icon{top:-1.4em}.visibility-icon:hover{filter:unset}.visibility-icon>*{pointer-events:none}#start-button{border:1px solid grey;color:#454545;border-radius:4px;width:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.28em .3em;-webkit-user-select:none;user-select:none;background-color:#fff}#start-button:hover{background-color:#f2f2f2}#start-button:active{background-color:#d2d2d2}#insert-key-help-text-container{width:100%;position:absolute;margin-top:32px;margin-bottom:20px}#insert-key-help-text-contents{width:100%;position:absolute}#insert-key-input-invalid-text{display:block;margin-top:1em;margin-bottom:.5em;color:red}.insert-key-input-help-text{display:block;margin-top:16px}#loading-key{display:inline-block;width:16px;height:16px}#loading-key:after{content:" ";display:block;width:11px;height:11px;margin:1px;border-radius:50%;border:2px solid #0084ff;border-color:#0084ff transparent #0084ff transparent;animation:loading-spinner 1.2s linear infinite}#error-view{color:red;font-size:1.2em;line-height:1.3em;margin-top:-5px;text-align:center;height:100%;display:flex;justify-content:center;align-items:center;padding-left:8px;padding-right:8px}@keyframes loading-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.intro-panel{position:absolute;display:flex;justify-content:center;right:0;bottom:0;left:0;margin:auto;height:fit-content;top:-2.5em}#internal-intro-panel{width:250px;height:min-content;display:block;border-radius:5px;overflow:auto;border:1px solid rgb(203,203,203);padding:10px;max-height:calc(100% - 6.8em)}#internal-intro-panel>p{margin-block-start:.8em;margin-block-end:.8em}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: a11y-dark
  Author: @ericwbailey
  Maintainer: @ericwbailey

  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css
*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast: active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}#messages{overflow:auto}.outer-message-container:last-child{margin-bottom:5px}.inner-message-container{display:flex;margin-left:auto;margin-right:auto;width:calc(97.5% - 24px);max-width:100%}.message-bubble{margin-top:10px;word-wrap:break-word;width:fit-content;max-width:60%;border-radius:10px;padding:.42em .55em;height:fit-content;line-height:1.26em}.user-message-text{color:#fff;background-color:#0084ff;margin-right:0;margin-left:auto}.ai-message-text{color:#000;background-color:#e4e6eb;margin-left:0;margin-right:auto}.loading-history-message-full-view{position:absolute;height:70%;width:100%;display:flex;align-items:center}.loading-history-message-small{height:20px;margin-bottom:30px}.loading-history-message-small>div>div{scale:.6}.loading-history-message{margin-top:0;width:100%;max-width:100%;display:flex;justify-content:center;background-color:unset}.loading-history{width:70px}.loading-history div{position:absolute;width:var(--loading-history-width);height:var(--loading-history-height);margin:var(--loading-history-margin);border:var(--loading-history-border);border-radius:50%;animation:loading-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:var(--loading-history-color) transparent transparent transparent}.loading-history div:nth-child(1){animation-delay:-.45s}.loading-history div:nth-child(2){animation-delay:-.3s}.loading-history div:nth-child(3){animation-delay:-.15s}.html-message{max-width:unset}.error-message-text{margin:14px auto 10px;background-color:#f4c0c0;color:#474747;text-align:center;max-width:95%}.deep-chat-loading-message-dots-container{width:1em;padding:.6em .75em .6em 1.3em}.loading-message-dots{position:relative;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite linear alternate;animation-delay:.5s}.loading-message-dots:before,.loading-message-dots:after{content:"";display:inline-block;position:absolute;top:0}.loading-message-dots:before{left:-.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:0s}.loading-message-dots:after{left:.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:1s}@keyframes loading-message-dots{0%{background-color:var(--loading-message-color)}50%,to{background-color:var(--loading-message-color-fade)}}.message-bubble>p:first-child{margin-top:0}.message-bubble>p:last-child{margin-bottom:0}pre{overflow:auto;display:block;word-break:break-all;word-wrap:break-word;border-radius:7px;background:#2b2b2b;color:#f8f8f2;margin-top:.8em;margin-bottom:.8em;padding:.6em;font-size:.9em;line-height:1.5em}.image-message{padding:0;display:flex;background-color:#ddd}.image-message>*,.image-message>*>*{width:100%;border-radius:8px;display:flex}.audio-message{width:60%;max-width:300px;height:2.2em;max-height:54px;padding:0;background-color:unset}.audio-player{width:100%;height:100%}.audio-player-safari{height:fit-content;width:40px}.audio-player-safari-left{float:left}.audio-player-safari-right{float:right}.any-file-message{padding:1px}.any-file-message-contents{display:flex}.any-file-message-icon-container{width:1.3em;min-width:1.3em;position:relative;border-radius:4px;margin-left:6px;margin-right:2px}.any-file-message-icon{background-color:#fff;border-radius:4px;position:absolute;width:1em;height:1.25em;padding:1px;margin-top:auto;margin-bottom:auto;top:0;bottom:0}.any-file-message-text{padding-top:5px;overflow-wrap:anywhere;padding-bottom:5px;padding-right:7px}.message-bubble>a{color:inherit}.left-item-position{margin-right:10px}.right-item-position{margin-left:10px}.avatar{padding-top:5px;width:1.5em;height:1.5em;border-radius:1px}.avatar-container{margin-top:9px}.name{margin-top:16px;font-size:15px}#drag-and-drop{position:absolute;display:none;z-index:10;height:calc(100% - 10px);width:calc(100% - 10px);background-color:#70c6ff4d;border:5px dashed #6dafff}#file-attachment-container{position:absolute;height:3.6em;width:calc(80% - 4px);top:-2.5em;border-radius:5px;overflow:auto;text-align:left;background-color:#d7d7d73b;padding-left:4px}.file-attachment{width:2.85em;height:2.85em;display:inline-flex;margin-right:.6em;margin-bottom:.44em;margin-top:4px;position:relative;background-color:#fff;border-radius:5px}.image-attachment{width:100%;height:100%;object-fit:cover;border-radius:5px}.border-bound-attachment{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #c3c3c3;border-radius:5px;overflow:hidden}.border-bound-attachment-safari{width:calc(100% - 1px);height:calc(100% - 1px)}.audio-attachment-icon-container{cursor:pointer}.audio-attachment-icon-container:hover{background-color:#f8f8f8}.attachment-icon{left:0;right:0;bottom:0;top:2px;margin:auto;position:absolute;width:25px;-webkit-user-select:none;user-select:none}.not-removable-attachment-icon{top:0;right:0;bottom:0;left:0}.play-icon{filter:brightness(0) saturate(100%) invert(17%) sepia(0%) saturate(1392%) hue-rotate(67deg) brightness(98%) contrast(97%)}.stop-icon{filter:brightness(0) saturate(100%) invert(29%) sepia(90%) saturate(1228%) hue-rotate(198deg) brightness(93%) contrast(98%)}.audio-placeholder-text-3-digits{padding-left:.26rem}.audio-placeholder-text-4-digits{padding-left:.1rem}.any-file-attachment{padding:2px 0}.file-attachment-text-container{position:absolute;width:inherit;display:flex;align-items:center;height:100%;top:-1px}.audio-placeholder-text-3-digits-container{padding-top:1px;cursor:default}.any-file-attachment-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:.13em;margin-left:auto;margin-right:auto}.remove-file-attachment-button{height:1.25em;width:1.25em;border:1px solid #cfcfcf;border-radius:25px;background-color:#fff;top:-4px;right:-5px;position:absolute;display:flex;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none}.remove-file-attachment-button:hover{background-color:#e4e4e4}.remove-file-attachment-button:active{background-color:#d7d7d7}.x-icon{color:#4e4e4e;top:-.075em;position:relative;font-size:1.05em}.modal{display:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:80%;max-width:420px;max-height:80%;margin:auto;top:0;right:0;bottom:0;left:0;z-index:2}.modal-content{border-top:1px solid rgb(217,217,217);border-left:1px solid rgb(217,217,217);border-right:1px solid rgb(217,217,217);border-top-left-radius:inherit;border-top-right-radius:inherit;background-color:#fff;overflow-y:auto;height:fit-content;max-height:calc(100% - 3.3em);width:100%}.modal-content>p{margin-left:1em;margin-right:1em}.modal-content>ul{margin-right:1em}.modal-button-panel{height:3.3em;border:1px solid;border-color:rgb(223,223,223) rgb(217,217,217) rgb(217,217,217);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;background-color:#fff;text-align:center;justify-content:center;display:flex;width:100%}.modal-button{min-width:2.5em;text-align:center;color:#fff;border-radius:5px;padding:.4em .4em .3em;height:1.25em;background-color:#3279b2;top:0;bottom:0;cursor:pointer;-webkit-user-select:none;user-select:none;margin:auto .31em}.modal-button:hover{background-color:#276da7}.modal-button:active{background-color:#1b5687}.modal-svg-button{padding:0 0 2px;width:2em;height:1.8em}.modal-svg-button-icon{width:100%;height:100%;filter:brightness(0) saturate(100%) invert(100%) sepia(15%) saturate(4%) hue-rotate(346deg) brightness(101%) contrast(102%)}#modal-background-panel{position:absolute;width:100%;height:100%;background-color:#00000042;z-index:1;display:none}.show-modal-background{animation:fadeInBackground .3s ease-in-out}@keyframes fadeInBackground{0%{opacity:0}to{opacity:1}}.show-modal{animation:fadeInModal .3s ease-in-out}@keyframes fadeInModal{0%{opacity:0;scale:.95}to{opacity:1;scale:1}}.hide-modal-background{animation:fadeOutBackground .2s ease-in-out}@keyframes fadeOutBackground{0%{opacity:1}to{opacity:0}}.hide-modal{animation:fadeOutModal .2s ease-in-out}@keyframes fadeOutModal{0%{opacity:1;scale:1}to{opacity:0;scale:.95}}.modal-camera-content{overflow:hidden;text-align:center;border:unset;height:100%;background-color:#2a2a2a;display:flex;justify-content:center}.camera-modal-canvas{max-width:100%;max-height:100%;margin-top:auto;margin-bottom:auto}.modal-svg-submit-button{background-color:green}.modal-svg-submit-button:hover{background-color:#007500}.modal-svg-submit-button:active{background-color:#006500}.modal-svg-submit-disabled{pointer-events:none;background-color:#747474}.modal-svg-close-button{height:1.56em;padding-top:.37em;padding-bottom:0;background-color:#c13e3e}.modal-svg-close-button:hover{background-color:#b43434}.modal-svg-close-button:active{background-color:#972929}.modal-svg-close-icon{width:80%;height:80%}.modal-svg-camera-button{height:1.6em;padding-top:.38em;padding-bottom:0}.modal-svg-camera-icon{height:76%}.modal-svg-refresh-icon{height:105%}.modal-svg-refresh-button{height:1.66em;padding-top:.11em;padding-bottom:.21em}.input-button-container{position:relative;z-index:1}.inside-right{position:absolute;right:calc(10% + .35em);bottom:.85em}.inside-left{position:absolute;left:calc(10% + .35em);bottom:.85em}.outside-left{position:absolute;right:calc(11px - .55em);bottom:.88em}.outside-right{position:absolute;left:calc(11px - .55em);bottom:.88em}#upload-images-icon{position:absolute;pointer-events:none;width:1.45em;height:1.45em;left:.11em;bottom:.08em;filter:brightness(0) saturate(100%) invert(43%) sepia(0%) saturate(740%) hue-rotate(77deg) brightness(99%) contrast(92%)}#upload-gifs-icon{position:absolute;pointer-events:none;width:1.5em;height:1.48em;left:.07em;bottom:.08em;filter:brightness(0) saturate(100%) invert(49%) sepia(0%) saturate(2586%) hue-rotate(12deg) brightness(93%) contrast(90%)}#upload-audio-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.17em;bottom:.2em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%);transform:scaleX(.95)}#camera-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.23em;bottom:.2em;filter:brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(161%) hue-rotate(164deg) brightness(91%) contrast(92%);transform:scaleX(.95)}#upload-mixed-files-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.2em;filter:brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(36%) hue-rotate(74deg) brightness(98%) contrast(93%);transform:scaleX(.95)}#interim-text{color:gray}#microphone-button{padding-top:.5px}.outer-button-container>#microphone-button{padding-bottom:1px}#microphone-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.25em}.default-microphone-icon{filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%)}.active-microphone-icon{filter:brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%);border-radius:10px}.command-microphone-icon{filter:brightness(0) saturate(100%) invert(42%) sepia(96%) saturate(1067%) hue-rotate(77deg) brightness(99%) contrast(102%)}.unsupported-microphone{display:none}#submit-icon{height:100%;filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%);width:1.21em}#stop-icon{background-color:#acacac;position:absolute;width:.95em;height:.95em;left:.35em;bottom:.35em;border-radius:2px}.submit-button-enlarged{scale:1.1;margin-right:.3em;margin-left:.3em}.loading-submit-button{position:relative;left:calc(-9990px + .275em);width:.22em;height:.22em;border-radius:5px;background-color:#848484;color:#848484;box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484;animation:loading-submit-button 1.5s infinite linear;bottom:-.75em}@keyframes loading-submit-button{0%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}16.667%{box-shadow:9990px -6px #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}33.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}50%{box-shadow:9990px 0 #848484,calc(9990px + .44em) -6px 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}66.667%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}83.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) -6px 0 0 #848484}to{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}}.input-button{border-radius:4px;cursor:pointer;margin-bottom:.2em;-webkit-user-select:none;user-select:none}.input-button-svg{width:1.65em;height:1.65em}.input-button:hover,.input-button:focus-visible{background-color:#9c9c9c2e}.input-button:active{background-color:#9c9c9c5e}.loading-button{cursor:auto}.loading-button:hover{background-color:unset}.text-button{filter:unset!important;display:flex;justify-content:center;align-items:center;margin-left:4px;margin-right:4px;height:1.6em}#text-input-container{background-color:#fff;width:80%;display:flex;border:1px solid #0000001a;border-radius:5px;margin-top:.8em;margin-bottom:.8em;box-shadow:#959da533 0 1px 12px;overflow-y:auto;max-height:200px;position:relative}.text-input-container-left-adjustment{margin-left:1.5em}.text-input-container-right-adjustment{margin-right:1.5em}.text-input-container-left-small-adjustment{margin-left:1.1em}.text-input-container-left-small-adjustment>.outside-left{right:calc(14px - .55em)}.text-input-container-right-small-adjustment{margin-right:1.1em}.text-input-container-right-small-adjustment>.outside-right{left:calc(14px - .55em)}#text-input{text-align:left;outline:none;word-wrap:break-word;line-break:auto}.text-input-styling{padding:.4em .5em;overflow:overlay;width:100%}.text-input-inner-left-adjustment{padding-left:2.2em}.text-input-inner-right-adjustment{padding-right:2em}.text-input-disabled{pointer-events:none;-webkit-user-select:none;user-select:none}[contenteditable]:empty:before{content:attr(deep-chat-placeholder-text);pointer-events:none}[contenteditable][textcolor]:empty:before{color:gray}.outside-right>#dropup-menu,.inside-right>#dropup-menu{right:0}#dropup-icon{position:absolute;pointer-events:none;width:1.16em;height:1.2em;left:.265em;bottom:.43em;filter:brightness(0) saturate(100%) invert(54%) sepia(0%) saturate(724%) hue-rotate(6deg) brightness(92%) contrast(90%)}#dropup-menu{background-color:#fff;position:absolute;transform:translateY(-100%);border-radius:5px;z-index:1;top:-.49em;box-shadow:#0003 -1px 2px 10px,#0000001a 0 2px 4px;cursor:pointer;-webkit-user-select:none;user-select:none}.dropup-menu-item{height:1.4em;padding:.28em .84em .28em .35em;display:flex;position:relative}.dropup-menu-item:first-child{padding-top:.49em;border-top-left-radius:inherit;border-top-right-radius:inherit}.dropup-menu-item:last-child{padding-bottom:.45em;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.dropup-menu-item-icon{width:1.39em;position:relative;margin-right:.56em}.dropup-menu-item-icon>svg{bottom:0!important;top:0!important;margin-bottom:auto;margin-top:auto}.dropup-menu-item-text{margin-top:.08em;width:max-content}#input{width:100%;display:inline-flex;text-align:center;margin-left:auto;margin-right:auto;margin-top:auto;position:relative;justify-content:center}#chat-view{height:100%;display:grid;grid-template-columns:100%}::-webkit-scrollbar{width:9px;height:9px}::-webkit-scrollbar-thumb{background-color:#d0d0d0;border-radius:5px}::-webkit-scrollbar-track{background-color:#f2f2f2}.deep-chat-web-model-button{margin-top:10px;margin-bottom:5px;margin-left:1px}:host{all:initial;display:table-cell}#container{height:inherit;width:inherit;overflow:hidden}`,lp=Object.defineProperty,Y=function(s,e,n,t){for(var a=void 0,r=s.length-1,o;r>=0;r--)(o=s[r])&&(a=o(e,n,a)||a);return a&&lp(e,n,a),a},$=function(i){function s(){var e;return w(this,s),e=z(this,s),e.getMessages=function(){return[]},e.submitUserMessage=function(){return console.warn("submitUserMessage failed - please wait for chat view to render before calling this property.")},e.addMessage=function(){return console.warn("addMessage failed - please wait for chat view to render before calling this property.")},e.updateMessage=function(){},e.clearMessages=function(){},e.focusInput=function(){return Ra.focusFromParentElement(e._elementRef)},e.refreshMessages=function(){},e.scrollToBottom=function(){},e.disableSubmitButton=function(){},e.setPlaceholderText=function(){},e._hasBeenRendered=!1,e._auxiliaryStyleApplied=!1,e._elementRef=document.createElement("div"),e._elementRef.id="container",e.attachShadow({mode:"open"}).appendChild(e._elementRef),Ti.apply(op,e.shadowRoot),setTimeout(function(){e._hasBeenRendered||e.onRender()},20),e}return U(s,i),S(s,[{key:"changeToChatView",value:function(){this._activeService&&(this._activeService.validateKeyProperty=!1),this.onRender()}},{key:"onRender",value:function(){var n;Rr.attemptAppendStyleSheetToHead(this.style),xe.processConnect(this),(!this._activeService||this._activeService.demo)&&(this._activeService=em.create(this)),this.auxiliaryStyle&&!this._auxiliaryStyleApplied&&(Ti.apply(this.auxiliaryStyle,this.shadowRoot),this._auxiliaryStyleApplied=!0),Ti.applyDefaultStyleToComponent(this.style,this.chatStyle),xe.checkForContainerStyles(this,this._elementRef),this._activeService.key&&this._activeService.validateKeyProperty?vc.render(this._elementRef,this.changeToChatView.bind(this),this._activeService):!(this._activeService instanceof Re)||this._activeService.key?((n=this._childElement)!==null&&n!==void 0||(this._childElement=this.children[0]),rp.render(this,this._elementRef,this._activeService,this._childElement)):this._activeService instanceof Re&&C0.render(this._elementRef,this.changeToChatView.bind(this),this._activeService),this._hasBeenRendered=!0,$t.onRender(this)}},{key:"disconnectedCallback",value:function(){Da.chat=void 0}}])}(A0);Y([K("object")],$.prototype,"connect");Y([K("object")],$.prototype,"directConnection");Y([K("object")],$.prototype,"webModel");Y([K("object")],$.prototype,"requestBodyLimits");Y([K("function")],$.prototype,"requestInterceptor");Y([K("function")],$.prototype,"responseInterceptor");Y([K("function")],$.prototype,"validateInput");Y([K("function")],$.prototype,"loadHistory");Y([K("object")],$.prototype,"chatStyle");Y([K("object")],$.prototype,"attachmentContainerStyle");Y([K("object")],$.prototype,"dropupStyles");Y([K("object")],$.prototype,"inputAreaStyle");Y([K("object")],$.prototype,"textInput");Y([K("object")],$.prototype,"submitButtonStyles");Y([K("string")],$.prototype,"auxiliaryStyle");Y([K("array")],$.prototype,"history");Y([K("object")],$.prototype,"introMessage");Y([K("object")],$.prototype,"avatars");Y([K("object")],$.prototype,"names");Y([K("boolean")],$.prototype,"displayLoadingBubble");Y([K("object")],$.prototype,"errorMessages");Y([K("object")],$.prototype,"messageStyles");Y([K("object")],$.prototype,"textToSpeech");Y([K("object")],$.prototype,"speechToText");Y([K("object")],$.prototype,"images");Y([K("object")],$.prototype,"gifs");Y([K("object")],$.prototype,"camera");Y([K("object")],$.prototype,"audio");Y([K("object")],$.prototype,"microphone");Y([K("object")],$.prototype,"mixedFiles");Y([K("object")],$.prototype,"dragAndDrop");Y([K("object")],$.prototype,"introPanelStyle");Y([K("object")],$.prototype,"htmlClassUtilities");Y([K("object")],$.prototype,"remarkable");Y([K("function")],$.prototype,"onMessage");Y([K("function")],$.prototype,"onClearMessages");Y([K("function")],$.prototype,"onComponentRender");Y([K("function")],$.prototype,"onError");Y([K("object")],$.prototype,"demo");Y([K("object")],$.prototype,"_insertKeyViewStyles");customElements.define("deep-chat",$);var up=le('<main style="margin: -4px;" class="svelte-rnntss"><deep-chat></deep-chat></main>',2);function cp(i,s){Je(s,!1);const e=rr(),n=()=>Zi(un,"$createdItem",e);let t="https://dataiku.genai-cgi.com/web-apps-backends/NONCONFORMITIES/3DGvs3v/ai",a=X(s,"referencesList",28,()=>[]);const r=[{role:"system",text:"How can I help you today?"}],o=async m=>{const p=await m.text();try{const f=JSON.parse(p);a(f.sources);let g=l();return console.log("response",f),Ni(Cr,{role:g,label:f.label,description:f.description}),{html:re(f.text)}}catch(f){return console.error("Erreur lors du parsing du JSON:",f),{error:"Invalid JSON format"}}},l=()=>(console.log("history",n().analysis_history),n().analysis_history[500].length>0?"500":n().analysis_history[400].length>0?"400":n().analysis_history[300].length>0?"300":n().analysis_history[200].length>0?"200":n().analysis_history[100].length>0?"100":"000"),u=m=>{let p=l();return m.body.messages[0].role=p,m.body.messages[0].text=`
I have the role for task ${p}

I'm editing current task: ${JSON.stringify(n().analysis_history[p][0])}

Please helping me the base update for this task and following specific request: ${m.body.messages[0].text}
`,console.log("request",m),m};rn();var c=up(),d=N(c);gn(d,"avatars","true"),gn(d,"connect",{url:t,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:"https://svelte.dev"}}),gn(d,"textInput",{styles:{text:{color:"black"},container:{width:"100%","border-radius":"0px","border-color":"#555"},focus:{border:"2px solid #a2a2ff"}},placeholder:{text:"Ask your question"}}),gn(d,"responseInterceptor",o),gn(d,"requestInterceptor",u),gn(d,"history",r),gn(d,"chatStyle",{border:"0px",width:"300px",height:"250px"}),F(c),ie(i,c),$e()}var dp=le('<li style="padding: 8px; border-bottom: 1px solid #eee;" class="svelte-1n8yqga"><!></li>'),mp=le('<ul style="list-style-type: none; padding: 0;"><li style="padding: 8px; border-bottom: 1px solid #eee;" class="svelte-1n8yqga"><button type="button" style="text-transform: uppercase;cursor: pointer; padding: 8px; width: 100%; text-align: left; border: none; background: none;"><span> </span> <!></button></li> <!></ul>');function Li(i,s){let e=X(s,"title",8),n=X(s,"num",8),t=X(s,"expand",12);var a=mp(),r=N(a),o=N(r),l=N(o),u=N(l,!0);F(l);var c=Q(l),d=Q(c);{var m=g=>{var y=Ks();we(()=>Te(y,`(${n()??""})`)),ie(g,y)};Pe(d,g=>{n()!==void 0&&g(m)})}F(o),F(r);var p=Q(r,2);{var f=g=>{var y=dp(),v=N(y);cr(v,s,"default",{},null),F(y),ie(g,y)};Pe(p,g=>{t()&&g(f)})}F(a),we(()=>{Te(u,t()?"-":"+"),Te(c,` ${e()??""} `)}),ae("click",o,()=>t(!t())),ae("keypress",o,g=>g.key==="Enter"&&selectItem(item)),ie(i,a)}var pp=le("<li><button> </button></li>"),fp=le('<div class="box svelte-6z6d9a"><!></div>'),gp=le('<ul class="svelte-6z6d9a"></ul> <!>',1);function hp(i,s){let e=X(s,"items",24,()=>[]),n=X(s,"activeTabValue",12,1);const t=l=>()=>n(l);var a=gp(),r=an(a);Rn(r,5,e,kn,(l,u)=>{var c=pp(),d=N(c),m=en(()=>T(u).active!==!1?t(T(u).value):null),p=N(d,!0);F(d),F(c),we(()=>{$a(c,Bi(n()===T(u).value?"active":""),"svelte-6z6d9a"),$a(d,Bi(T(u).active?"":"inactive"),"svelte-6z6d9a"),d.disabled=!T(u).active,Te(p,T(u).label)}),ae("click",d,function(...f){var g;(g=T(m))==null||g.apply(this,f)}),ae("keypress",d,f=>f.key==="Enter"&&t(T(u))),ie(l,c)}),F(r);var o=Q(r,2);Rn(o,1,e,kn,(l,u)=>{var c=lt(),d=an(c);{var m=p=>{var f=fp(),g=N(f);sl(g,()=>T(u).component,(y,v)=>{v(y,rl(()=>T(u).arguments))}),F(f),ie(p,f)};Pe(d,p=>{n()==T(u).value&&p(m)})}ie(l,c)}),ie(i,a)}const yp=[{ATA_category:"Aircraft Systems",ATA_code:"ATA 26",nc_label:"Incorrectly detection fire detection issue",nc_scenario_id:"ATA-26-eb8f36b3dc8494",nc_event_seed:20673,nc_event_date:"2022-08-15 10:50:55.498000+00:00",nc_event_id:"ATA-26-eb8f36b3dc8494-eec0",analysis_history:{"000":[{date:"2022-08-15T10:50:55.498Z",role:"Quality Controler",observation:"check inspection incorrect routing paths",name:"Émile Tremblay",description:`This report pertains to the observation of a non-conformity regarding the fire detection system within the A220 aircraft. Specifically, it has been noted that there are incorrect routing paths that have been identified during the inspection process. These routing paths are crucial for the proper functioning of the fire detection sensors, and any discrepancies in their configuration could lead to significant operational issues. The affected part involved in this observation is identified as follows: 

- Part Number: FDW-8120 
- Serial Number: 51931 
- Supplier: AeroTech Circuits 

The implications of these incorrect routing paths could potentially compromise the effectiveness of the fire detection system, leading to either failure to detect actual fire scenarios or the triggering of false alarms. This situation necessitates immediate attention to ensure compliance with safety standards and to mitigate any risks associated with fire detection failures.`,style:"verbose",label:"Incorrect Routing Paths Detected"}],100:[{date:"2022-08-15T11:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Review routing paths for fire detection system. Identify issues from report 000. Need to confirm sensor placement and connections. Check if routing complies with standards. Possible need for additional data from Quality Controler.",style:"not fully fluent",label:"Initial Analysis of Routing Issues"},{date:"2022-08-15T12:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:"Received request for more details on routing paths. Check inspection records for specific configurations. Need to ensure all data is accurate for analysis.",style:"not fully fluent",label:"Provide Additional Data"},{date:"2022-08-15T13:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Analyze data received from Quality Controler. Confirm routing errors and their impact on fire detection. Recommend immediate re-routing of sensors to meet safety compliance.",style:"not fully fluent",label:"Analysis of Received Data"},{date:"2022-08-15T15:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:"Review sensor configurations and routing paths. Confirm electrical integrity and compliance with standards. Suggest modifications to improve detection reliability.",style:"not fully fluent",label:"Technical Review of Sensor Configuration"},{date:"2022-08-16T09:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Compile findings from analysis. Recommend re-routing of sensors. Plan for recalibration of affected units. Ensure all actions align with safety standards. Prepare documentation for next steps.",style:"not fully fluent",label:"Final Recommendations and Action Plan"}],200:[{date:"2022-08-17T10:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`### Analysis Summary
The analysis of the incorrect routing paths for the fire detection system has been completed. The identified issues stem from inadequate sensor routing and potential manufacturing defects that have led to improper calibration.

### Action Plan
1. **Immediate Re-routing**: Re-route the affected sensors to ensure compliance with safety standards.
2. **Recalibration**: Plan for recalibration of all affected units to restore functionality and reliability.
3. **Documentation**: Prepare comprehensive documentation of the changes made for future reference and compliance checks.

### Final Recommendation
It is crucial to implement these actions promptly to mitigate risks associated with fire detection failures. Ensuring the integrity of the fire detection system is paramount for the safety of passengers and crew. Further structural impact assessments will be conducted post-implementation.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-08-18T11:00:00.000Z",role:"Stress Office",name:"Louis Bouchard",description:`### Stress Analysis Results
Conducted stress analysis on modified routing paths for fire detection system. Evaluated impact on structural integrity and navigability.

### Findings
- **Routing Adjustments**: New paths show improved electromagnetic shielding.
- **Calibration**: Recalibration necessary to ensure sensor reliability.
- **Structural Impact**: No significant changes to load distribution observed.

### Recommendations
1. **Proceed with Re-routing**: Implement changes as per design recommendations.
2. **Monitor Performance**: Post-implementation checks required to validate effectiveness.
3. **Documentation**: Ensure all changes are documented for compliance.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2022-08-18T14:00:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:`### Request for Data
Need specific details on sensor configurations and routing paths from previous inspections. This data is crucial for validating stress analysis results and ensuring compliance with safety standards.`,style:"not fully fluent",label:"Provide Additional Data"},{date:"2022-08-19T09:00:00.000Z",role:"Stress Office",name:"Louis Bouchard",description:`### Final Analysis Summary
Received additional data from Quality Controller. Conducted comprehensive stress analysis with updated configurations.

### Final Findings
- **Routing Compliance**: Adjusted paths meet safety standards.
- **Sensor Reliability**: Recalibration confirmed necessary for optimal operation.
- **Cost Implications**: Potential labor costs estimated at $10,000 for recalibration.

### Final Recommendations
1. **Implement Re-routing and Recalibration**: Immediate action required to mitigate risks.
2. **Schedule Follow-up Checks**: Ensure ongoing monitoring of fire detection system performance.
3. **Document All Changes**: Maintain records for future audits and compliance checks.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2022-08-20T11:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`### Analysis Summary
The stress analysis conducted on the modified routing paths for the fire detection system has been reviewed. The adjustments made to the sensor routing have shown significant improvements in electromagnetic shielding and compliance with safety standards.

### Action Plan
1. **Re-routing Implementation**: Ensure the re-routing of sensors is executed as per the design recommendations.
2. **Recalibration Confirmation**: Confirm the recalibration of all affected sensors to restore their functionality and reliability.
3. **Performance Monitoring**: Schedule follow-up checks to validate the effectiveness of the changes made.

### Final Recommendation
It is essential to proceed with the outlined actions promptly to mitigate any risks associated with fire detection failures. The integrity of the fire detection system is critical for the safety of all onboard.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-08-21T14:45:00.000Z",role:"Quality Manager",name:"Luc Bergeron",description:`### Analyse Finale
L'analyse des chemins de routage incorrects pour le système de détection d'incendie a révélé des défauts de fabrication et des erreurs de calibration. Ces problèmes sont principalement internes, liés à des erreurs d'assemblage et de calibration inadéquate. Cependant, des défauts de fournisseurs peuvent également contribuer à ces non-conformités.

### Plan d'Action
1. **Re-routage Imminent** : Mettre en œuvre le re-routage des capteurs pour garantir la conformité aux normes de sécurité.
2. **Recalibration** : Confirmer la recalibration de tous les capteurs affectés pour restaurer leur fonctionnalité et fiabilité.
3. **Suivi de Performance** : Planifier des vérifications post-implémentation pour valider l'efficacité des modifications.
4. **Documentation Complète** : Documenter toutes les modifications pour les audits futurs et les vérifications de conformité.

### Recommandation Finale
Il est impératif de procéder rapidement avec ces actions pour atténuer les risques associés aux défaillances de détection d'incendie. L'intégrité du système de détection d'incendie est cruciale pour la sécurité des passagers et de l'équipage. Une approche proactive est nécessaire pour éviter des coûts supplémentaires et garantir la navigabilité de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 25",nc_label:"Passenger seat recline failure",nc_scenario_id:"ATA-25-8a3ffebf01c768a4",nc_event_seed:35910,nc_event_date:"2020-11-18 13:50:55.159000+00:00",nc_event_id:"ATA-25-8a3ffebf01c768a4-6775",analysis_history:{"000":[{date:"2020-11-18T13:50:55.159Z",role:"Quality Controler",observation:"during operation in-service maintenance",name:"Julien Tremblay",description:`Observation of non-conformity related to passenger seat recline failure during in-service maintenance.

Specific observations include:
- Inspection of seat recline latch screws shows incorrect material used.
- Initial feedback indicates potential material fatigue in gear components.
- Noted issues with latch malfunction during routine checks.

Affected part:
- Part Number: SSR81826
- Serial Number: SN001
- Supplier: SeatMakers Inc.`,style:"concise and precise",label:"Passenger Seat Recline Failure Observation"}],100:[{date:"2020-11-18T14:30:55.159Z",role:"Design Office",name:"Marc Lefebvre",description:`Upon reviewing the non-conformity report submitted by Quality Controller Julien Tremblay, it is evident that the passenger seat recline failure is attributed to the use of incorrect materials in the latch screws during the manufacturing process. This has led to material fatigue in the gear components, which subsequently causes malfunction of the latch mechanism. 

To address this issue, it is imperative to conduct a thorough investigation into the material specifications used in the latch screws. Additionally, we must assess the manufacturing processes employed by SeatMakers Inc. to identify any lapses in quality control that may have contributed to this failure. 

Furthermore, I recommend initiating a dialogue with the Quality Control team to gather more insights on the frequency and severity of the complaints received from customers regarding this issue. This will help us gauge the impact on customer satisfaction and operational efficiency. 

Lastly, I propose that we consider implementing strengthened quality control measures and explore potential contracts with alternate suppliers to mitigate future risks associated with material quality.`,style:"verbose",label:"Initial Analysis of Passenger Seat Recline Failure"},{date:"2020-11-18T15:45:55.159Z",role:"Quality Controler",name:"Julien Tremblay",description:`In response to the request from Design Office analyst Marc Lefebvre, I have compiled additional insights regarding customer complaints related to the passenger seat recline failure. 

The complaints have primarily focused on the inconvenience caused by the inability to recline the passenger seat, which has led to dissatisfaction among passengers during flights. 

Moreover, I have noted that the operational delays attributed to this issue have increased, resulting in a negative impact on flight schedules. I recommend that the Design Office take these customer feedbacks into account when formulating their analysis and proposed action plan.`,style:"verbose",label:"Provide Additional Insights on Customer Complaints"},{date:"2020-11-19T10:00:55.159Z",role:"Design Office",name:"Marc Lefebvre",description:`Following the insights provided by Quality Controller Julien Tremblay, I have consolidated the analysis regarding the passenger seat recline failure. 

The primary cause remains the incorrect material used in the latch screws, leading to material fatigue and subsequent latch malfunction. The increased customer complaints and operational delays underscore the urgency of addressing this issue. 

As a mitigation strategy, I recommend the following actions: 
1. Conduct a comprehensive review of the material specifications for the latch screws and ensure compliance with industry standards. 
2. Engage with SeatMakers Inc. to discuss their quality control processes and identify areas for improvement. 
3. Explore potential partnerships with alternate suppliers who can provide high-quality materials for the latch screws. 
4. Implement enhanced quality control measures, including more rigorous testing protocols during the manufacturing process. 
5. Monitor customer feedback closely to assess the effectiveness of the implemented measures and make adjustments as necessary.`,style:"verbose",label:"Consolidation of Analysis and Recommendations"}],200:[{date:"2020-11-20T10:30:55.159Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis confirms incorrect material in latch screws causes fatigue. 

Action plan includes: 
1. Review material specs for compliance. 
2. Engage SeatMakers Inc. on quality control. 
3. Explore alternate suppliers for latch screws. 
4. Enhance quality control measures, rigorous testing. 
5. Monitor customer feedback for effectiveness. 

Synthesis: Immediate action required to mitigate operational delays and customer complaints. Ensure compliance with industry standards to maintain navigability and reliability.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2020-11-21T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Conducted initial stress calculations on the passenger seat recline latch mechanism. The analysis indicates that the incorrect material used in the latch screws has led to significant stress concentrations, which could compromise the structural integrity of the seat recline system. 

**Recommendations:** 
1. Immediate review of the material properties used in the latch screws. 
2. Simulation of alternative materials to evaluate performance under operational loads. 
3. Engage with Design Office for potential redesign of latch mechanism to accommodate new materials.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2020-11-21T10:30:00.000Z",role:"Stress Office Expert",name:"Sophie Gagnon",description:"Requesting detailed material specifications and mechanical properties for the latch screws currently in use. This information is critical for accurate stress modeling and to assess the feasibility of alternative materials.",style:"concise and precise",label:"Request for Material Specifications"},{date:"2020-11-21T11:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Provided the requested material specifications for the latch screws. The current material is a low-grade alloy that does not meet the required fatigue resistance standards. 

**Next Steps:** 
- Awaiting feedback from Stress Office on alternative materials.`,style:"concise and precise",label:"Provide Material Specifications"},{date:"2020-11-22T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Analyzed alternative materials for the latch screws based on provided specifications. The proposed high-strength alloy demonstrates improved fatigue resistance and lower stress concentrations in simulations. 

**Recommendations:** 
1. Transition to the proposed high-strength alloy for latch screws. 
2. Conduct a full-scale test of the latch mechanism with the new material to validate performance. 
3. Update manufacturing processes to accommodate the new material specifications.`,style:"concise and precise",label:"Alternative Material Analysis"},{date:"2020-11-22T10:30:00.000Z",role:"Stress Office Expert",name:"Sophie Gagnon",description:`Final recommendations based on stress analysis: 
- Implement the use of high-strength alloy for latch screws to mitigate risks of material fatigue. 
- Revise quality control protocols to ensure compliance with new material specifications. 
- Monitor performance post-implementation to assess effectiveness and make adjustments as necessary.`,style:"concise and precise",label:"Final Recommendations"}],400:[{date:"2020-11-24T11:15:00.000Z",role:"Stress Manager",name:"Léa Gagnon",description:`After reviewing the stress analysis conducted on the passenger seat recline latch mechanism, it is confirmed that the transition to the proposed high-strength alloy for latch screws is essential to mitigate material fatigue risks. 

**Action Plan:** 
1. Implement the use of high-strength alloy for latch screws immediately. 
2. Revise quality control protocols to ensure compliance with new material specifications. 
3. Conduct full-scale testing of the latch mechanism with the new material to validate performance under operational loads. 
4. Monitor performance post-implementation to assess effectiveness and make adjustments as necessary. 

**Conclusion:** 
The proposed actions will enhance the structural integrity of the seat recline system, reduce customer complaints, and improve operational reliability.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2020-11-25T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale

L'analyse des défaillances du mécanisme d'inclinaison des sièges passagers de l'A220 a révélé que l'utilisation de matériaux incorrects dans les vis de verrouillage a conduit à une fatigue matérielle. Cette situation est exacerbée par des défauts de contrôle qualité chez le fournisseur, SeatMakers Inc.

### Causes Internes et Externes
- **Internes** : Erreur d'assemblage lors de la fabrication, absence de vérification des spécifications matérielles.
- **Externes** : Défauts de matériaux fournis par SeatMakers Inc., absence de conformité aux standards de résistance à la fatigue.

### Plan d'Action
1. **Transition Matérielle** : Adopter immédiatement l'alliage haute résistance recommandé pour les vis de verrouillage.
2. **Contrôle Qualité** : Réviser et renforcer les protocoles de contrôle qualité pour garantir la conformité aux nouvelles spécifications matérielles.
3. **Tests à Grande Échelle** : Effectuer des tests complets du mécanisme avec le nouveau matériau pour valider la performance sous charges opérationnelles.
4. **Surveillance Continue** : Mettre en place un suivi post-implémentation pour évaluer l'efficacité et ajuster si nécessaire.
5. **Engagement Fournisseur** : Collaborer avec SeatMakers Inc. pour améliorer leurs processus de contrôle qualité et explorer des partenariats avec des fournisseurs alternatifs.

### Synthèse
Les actions proposées visent à renforcer l'intégrité structurelle du système d'inclinaison des sièges, à réduire les plaintes des clients et à améliorer la fiabilité opérationnelle. L'implémentation rapide de ces mesures est cruciale pour minimiser les impacts financiers et opérationnels futurs.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 25",nc_label:"Overhead bin latch failure",nc_scenario_id:"ATA-25-25a3ffebf0c768a4",nc_event_seed:12161,nc_event_date:"2023-08-05 02:50:55.201000+00:00",nc_event_id:"ATA-25-25a3ffebf0c768a4-0a8d",analysis_history:{"000":[{date:"2023-08-05T02:50:55.201Z",role:"Quality Controler",observation:"Functional test during seat line final check",name:"Julien Tremblay",description:`Observation of overhead bin latch during functional test. 
Issues noted with latch not securing properly. 
Potential for bin to open in flight. 
Specific part affected: OBL97372, Serial: OB001 from LuggageLock Corp.`,style:"not fully fluent",label:"Overhead Bin Latch Issue"}],100:[{date:"2023-08-05T03:15:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Analysis initiated on latch failure. Human error identified as primary cause. Torque application inconsistency noted. Potential safety hazard due to bin opening in flight. Immediate attention required.",style:"elusive",label:"Initial Analysis of Overhead Bin Latch Failure"},{date:"2023-08-05T04:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Need detailed torque application data during assembly. Verify if torque tools calibrated. Requesting historical data on similar assemblies.",style:"elusive",label:"Request for Additional Data on Torque Application"},{date:"2023-08-05T05:30:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Torque tools were calibrated prior to assembly. Historical data shows 3% fault rate in manual reviews. Suggest further investigation into assembly process.",style:"elusive",label:"Response to Torque Application Data Request"},{date:"2023-08-05T06:45:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Propose automated torque verification process. Reduces human error risk. Implement training for assembly staff. Monitor torque application closely. Recommend further testing of affected parts.",style:"elusive",label:"Mitigation Plan Proposal"},{date:"2023-08-06T09:00:00.000Z",role:"Design Manager",name:"Claire Fortin",description:"Mitigation plan reviewed. Approved for implementation. Ensure all stakeholders informed. Schedule follow-up review in 30 days.",style:"elusive",label:"Validation of Mitigation Plan"}],200:[{date:"2023-08-07T11:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Analysis confirmed primary cause: human error in torque application. Proposed mitigation includes:
- Implement automated torque verification to minimize assembly errors.
- Conduct training sessions for assembly personnel on torque application standards.
- Initiate rigorous monitoring of torque application during assembly.
- Schedule further testing on affected parts to ensure compliance with safety standards.

Recommendation: Proceed with implementation of mitigation measures to enhance safety and prevent recurrence of latch failures.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-08-08T09:00:00.000Z",role:"Stress Office",name:"Léa Gagné",description:`Conducted stress analysis on overhead bin latch assembly. Evaluated torque application impact on latch integrity. Results indicate potential structural compromise under operational loads.

**Recommendations:**
- Implement automated torque verification immediately to minimize human error.
- Review assembly procedure for compliance with torque specifications.
- Schedule further testing on affected parts to ensure safety standards are met.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2023-08-08T12:30:00.000Z",role:"Stress Office Expert",name:"Marc-Antoine Roy",description:"Requesting detailed torque application data and calibration records for assembly tools used on affected parts. Essential for comprehensive stress evaluation.",style:"elusive",label:"Request for Additional Data"},{date:"2023-08-08T15:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Provided torque application data confirming calibration of tools prior to assembly. Historical records indicate consistency in torque application within acceptable limits.",style:"elusive",label:"Response to Data Request"},{date:"2023-08-09T10:00:00.000Z",role:"Stress Office",name:"Léa Gagné",description:`Finalized stress calculations confirm that automated torque verification will significantly reduce risk of latch failure.

**Consolidated Action Plan:**
- Immediate implementation of automated torque verification process.
- Conduct training sessions for assembly personnel on torque application standards.
- Initiate rigorous monitoring of torque application during assembly.
- Schedule further testing on affected parts to ensure compliance with safety standards.

**Conclusion:**
These measures are critical to maintaining aircraft safety and preventing future non-conformities.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-08-10T12:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`Following the stress analysis conducted on the overhead bin latch assembly, the findings confirm the primary risk associated with incorrect torque application. The automated torque verification process is essential to mitigate human error and enhance the integrity of the latch. 

**Action Plan:**
- Implement automated torque verification immediately to minimize risk.
- Conduct training sessions for assembly personnel to ensure adherence to torque application standards.
- Establish a rigorous monitoring system for torque application during assembly.
- Schedule further testing on affected parts to validate compliance with safety standards.

**Conclusion:**
These measures are critical to ensuring aircraft safety and preventing future non-conformities. Immediate action is recommended to uphold safety protocols.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-08-11T15:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale

L'analyse finale confirme que l'erreur humaine dans l'application du couple de serrage est la cause principale de la défaillance du loquet du compartiment supérieur. Les outils étaient calibrés, mais l'application manuelle a conduit à des incohérences.

**Causes Internes :**
- Erreur d'assemblage humaine
- Manque de formation adéquate sur les normes de couple

**Causes Externes :**
- Aucun défaut fournisseur identifié

### Plan d'Action

1. **Automatisation du Contrôle de Couple :**
 - Mettre en place immédiatement un processus automatisé de vérification du couple pour réduire les erreurs humaines.

2. **Formation du Personnel :**
 - Organiser des sessions de formation pour le personnel d'assemblage sur les normes de couple et l'utilisation des outils.

3. **Surveillance Rigoureuse :**
 - Établir un système de surveillance rigoureux pour le contrôle du couple pendant l'assemblage.

4. **Tests Complémentaires :**
 - Planifier des tests supplémentaires sur les pièces affectées pour garantir la conformité aux normes de sécurité.

### Recommandation Finale

La mise en œuvre immédiate de ces mesures est cruciale pour maintenir la sécurité des aéronefs et prévenir les non-conformités futures. Ces actions permettront de réduire les coûts liés aux retards de livraison et aux risques de sécurité, tout en améliorant l'efficacité de la production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Frost formation inside pneumatic lines to to insufficient insulation",nc_scenario_id:"ATA-30-9df8cf1c4a333",nc_event_seed:27341,nc_event_date:"2021-11-10 14:50:55.407000+00:00",nc_event_id:"ATA-30-9df8cf1c4a333-a1bd",analysis_history:{"000":[{date:"2021-11-10T14:50:55.407Z",role:"Quality Controler",observation:"Post-flight inspections revealing increased moisture and frost build-up within pneumatic system lines",name:"Julien Tremblay",description:`Report regarding non-conformity observation:
- Increased moisture noted during post-flight inspections.
- Frost build-up observed in pneumatic system lines.
- Affected part: A220-300-3085, Serial: SN-17330937, Supplier: Parker Hannifin.
- Initial assessment shows potential risk to pneumatic efficiency.`,style:"not fully fluent",label:"Frost Formation in Pneumatic Lines"}],100:[{date:"2021-11-10T15:30:55.407Z",role:"Design Office",name:"Marc Gagnon",description:`Analysis initiated regarding frost formation in pneumatic lines. 
- Identified under-specification of insulation materials during assembly. 
- Systematic failure across production batches noted. 
- Impact on pneumatic efficiency requires further investigation.`,style:"elusive",label:"Initial Analysis of Frost Formation"},{date:"2021-11-10T16:15:55.407Z",role:"Design Office Expert Hydro",name:"Sophie Lemieux",description:`Request for detailed moisture level data during post-flight inspections. 
- Essential for understanding frost build-up dynamics. 
- Need historical data for seasonal variations.`,style:"elusive",label:"Request for Additional Data on Moisture Levels"},{date:"2021-11-10T17:00:55.407Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided moisture level data from past inspections. 
- Data indicates increased moisture during winter months. 
- Suggests correlation with frost formation in pneumatic lines.`,style:"elusive",label:"Response to Data Request"},{date:"2021-11-11T09:00:55.407Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated findings from moisture data and initial analysis. 
- Recommend re-insulation of pneumatic lines using specified materials. 
- Plan to restore operational standards and prevent recurrence of frost issues. 
- Further monitoring during seasonal operations advised.`,style:"elusive",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2021-11-12T10:30:55.407Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis Summary
- **Issue**: Frost formation in pneumatic lines due to insufficient insulation.
- **Primary Cause**: Under-specification of insulating materials during assembly.
- **Contributing Factors**: Systematic failure across production batches; assembly efficiency issues.

### Impact Assessment
- **Operational Risk**: Reduced pneumatic efficiency affecting flight control surfaces.
- **Quantitative Impact**: Estimated replacement costs of $100,000 per unit; potential for emergency interventions if not addressed.

### Recommended Action
- **Immediate**: Re-insulate pneumatic lines with specified materials to restore operational standards.
- **Monitoring**: Implement enhanced monitoring during seasonal operations to detect moisture levels early.

### Conclusion
- This plan aims to mitigate risks associated with frost formation, ensuring compliance and reliability of the A220 systems.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-12T12:30:55.407Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Stress Analysis Results
- **Objective**: Evaluate structural integrity post-re-insulation of pneumatic lines.
- **Methods**: Utilized MATLAB for stress modeling.
- **Findings**: Insulation changes minimally impact structural loads; however, potential thermal expansion issues noted.

### Recommendations
- **Action**: Implement thermal expansion joints in affected areas to mitigate stress concentrations.
- **Monitoring**: Continuous monitoring of stress levels during seasonal operations is advised.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-11-12T14:00:55.407Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request Details
- **Need**: Historical data on thermal expansion behavior of insulation materials used in A220.
- **Purpose**: To assess long-term effects on structural integrity and performance.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-11-12T15:30:55.407Z",role:"Stress Office Expert",name:"Sophie Lemieux",description:`### Data Provided
- **Details**: Historical thermal expansion data received from Quality Control.
- **Analysis**: Data indicates acceptable expansion rates within specified limits, confirming initial findings.`,style:"elusive",label:"Response to Data Request"},{date:"2021-11-13T09:00:55.407Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Final Analysis Summary
- **Conclusion**: Structural integrity maintained post-re-insulation; no significant risks identified.
- **Final Recommendations**:
 - **Implement**: Thermal expansion joints as a precautionary measure.
 - **Monitor**: Regular inspections during winter operations to ensure no frost formation occurs.
 - **Documentation**: Ensure all modifications are documented for compliance and future reference.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-11-14T11:30:55.407Z",role:"Stress Manager",name:"Émile Boucher",description:`### Stress Analysis Validation
- **Objective**: Confirm structural integrity post-re-insulation of pneumatic lines.
- **Findings**: Stress analysis indicates no significant risks; insulation changes minimally affect structural loads.

### Recommendations
- **Action**: Proceed with the implementation of thermal expansion joints in critical areas to mitigate potential stress concentrations.
- **Monitoring**: Regular inspections during winter operations are essential to ensure no frost formation occurs.

### Conclusion
- This validation confirms that the proposed actions will restore operational standards and prevent recurrence of frost issues in the pneumatic system.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-15T14:45:55.407Z",role:"Quality Manager",name:"Jean-Philippe Bouchard",description:`### Analyse Finale et Recommandation

#### Contexte
- **Problème** : Formation de givre dans les lignes pneumatiques de l'A220 due à une isolation insuffisante.
- **Causes Primaires** :
 - **Internes** : Sous-spécification des matériaux isolants lors de l'assemblage, erreurs de calibration.
 - **Externes** : Défauts de matériaux fournis par Parker Hannifin, conditions climatiques extrêmes.

#### Évaluation de l'Impact
- **Risque Opérationnel** : Efficacité pneumatique réduite, impact potentiel sur le contrôle des surfaces de vol.
- **Impact Financier** : Coûts de remplacement estimés à $100,000 par unité, incluant les temps d'arrêt pour réparation.

#### Plan d'Action
- **Immédiat** : Réisolation des lignes pneumatiques avec des matériaux spécifiés pour restaurer les standards opérationnels.
- **Préventif** :
 - Intégration de joints d'expansion thermique pour atténuer les concentrations de stress.
 - Surveillance accrue pendant les opérations saisonnières pour détecter précocement les niveaux d'humidité.

#### Synthèse et Consistance
- **Objectif** : Assurer la navigabilité et la fiabilité des systèmes de l'A220.
- **Approche** :
 - Optimiser les étapes d'analyse pour réduire les délais de production.
 - Prioriser les scénarios avec des implications directes sur la navigabilité et les coûts de production.

#### Conclusion
- Les actions proposées visent à atténuer les risques associés à la formation de givre, garantissant la conformité et la fiabilité des systèmes de l'A220. Une documentation complète des modifications est essentielle pour la conformité et les références futures.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 28",nc_label:"Incorrect fuel tank sensor calibration",nc_scenario_id:"ATA-28-c719265da3033d56",nc_event_seed:7980,nc_event_date:"2024-01-26 07:50:55.707000+00:00",nc_event_id:"ATA-28-c719265da3033d56-6e12",analysis_history:{"000":[{date:"2024-01-26T07:50:55.707Z",role:"Quality Controler",observation:"Alerts triggered by integrated diagnostic system during pre-flight inspection",name:"Léa Tremblay",description:`During the pre-flight inspection, alerts were triggered by the integrated diagnostic system indicating potential discrepancies in fuel sensor readings. 

Specific observations include:
- Part Number: A220-FTS-009
- Serial Number: SN58097408B
- Supplier: SensorsPlus Ltd

Issues noted in the system may lead to incorrect fuel level reporting.`,style:"concise and precise",label:"Fuel Sensor Calibration Issue"}],100:[{date:"2024-01-26T08:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Upon reviewing the report submitted by Quality Controller Léa Tremblay, it is evident that there is a significant concern regarding the calibration of the fuel tank sensor, specifically part number A220-FTS-009, serial number SN58097408B, supplied by SensorsPlus Ltd. The primary cause identified is a failure in following updated calibration procedures by personnel, which has led to erroneous sensor readings. This oversight occurred during a high-pressure production run, resulting in procedural lapses. 

To mitigate this issue, I recommend the following actions: 
1. Immediate retraining sessions for calibration personnel to ensure adherence to updated procedures. 
2. Implementation of a stringent review protocol to verify calibration accuracy before deployment. 
3. Regular audits of calibration processes to prevent recurrence of similar issues.`,style:"verbose",label:"Initial Analysis of Fuel Sensor Calibration Issue"},{date:"2024-01-26T09:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:`Following the initial analysis, I have conducted a detailed review of the calibration procedures currently in place for the fuel tank sensor. It is crucial to ensure that all personnel are fully aware of the updated protocols and the importance of accurate calibration. 

Recommendations include: 
1. Development of a comprehensive training module that covers the updated calibration procedures in detail. 
2. Establishment of a mentorship program where experienced personnel guide newer staff through the calibration process. 
3. Creation of a checklist to be completed during calibration to ensure all steps are followed meticulously.`,style:"verbose",label:"Technical Review of Calibration Procedures"},{date:"2024-01-26T11:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`After receiving input from Design Office Expert Elec Sophie Boucher, I have consolidated the recommendations into a comprehensive action plan. The focus remains on preventing future calibration discrepancies and ensuring operational safety. 

The finalized plan includes: 
1. Immediate retraining sessions for all calibration personnel, scheduled within the next week. 
2. Implementation of a new checklist protocol for calibration procedures to be used starting immediately. 
3. Regular audits every quarter to assess compliance with calibration protocols and identify areas for improvement.`,style:"verbose",label:"Consolidation of Recommendations"},{date:"2024-01-26T14:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`I have reviewed the consolidated action plan proposed by the Design Office. The recommendations appear comprehensive and address the root causes identified in the initial report. 

I will proceed to validate the action plan and ensure that all necessary resources are allocated for the retraining sessions and the implementation of the checklist protocol. 

Additionally, I will monitor the effectiveness of these measures through follow-up inspections and audits.`,style:"verbose",label:"Validation of Action Plan"}],200:[{date:"2024-01-27T10:15:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Following the detailed analysis and recommendations from the Design Office regarding the fuel sensor calibration issue, I confirm the following:

1. **Root Cause Analysis**: The primary cause identified is internal human error due to failure in adhering to updated calibration procedures. This was exacerbated by external pressures from production backlog.

2. **Action Plan**: The proposed action plan includes:
 - Immediate retraining for all calibration personnel.
 - Implementation of a new checklist protocol for calibration procedures.
 - Regular audits every quarter to ensure compliance.

3. **Recommendation**: I recommend proceeding with the action plan as outlined. This will enhance calibration accuracy, mitigate risks of erroneous fuel readings, and ensure operational safety. Continuous monitoring and follow-up inspections will be critical to assess the effectiveness of these measures.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-01-27T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Stress Analysis Results

Following the review of the calibration discrepancies related to part number A220-FTS-009, the following points have been established:

1. **Structural Integrity**: The calibration issue does not directly affect the structural integrity of the aircraft. However, incorrect fuel readings can lead to operational decisions that may compromise safety.

2. **Impact Assessment**: 
 - **Fuel Management**: Miscalibrated sensors can lead to fuel starvation, risking engine performance and safety during flight.
 - **Operational Delays**: Additional troubleshooting time (10 hours/aircraft) and recalibration costs ($1,000/aircraft) can significantly impact production timelines and operational costs.

3. **Recommendations**:
 - **Immediate Implementation of Training**: Ensure all calibration personnel are retrained on updated procedures to mitigate human error.
 - **Checklist Protocol**: Introduce a checklist to be completed during calibration to ensure adherence to procedures.
 - **Quarterly Audits**: Conduct regular audits to ensure compliance and identify areas for improvement.

### Next Steps

- Request additional data regarding the calibration process from Quality Controller Léa Tremblay to ensure comprehensive understanding of the operational impacts.`,style:"concise and precise",label:"Stress Analysis of Fuel Sensor Calibration Issue"},{date:"2024-01-27T14:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`I have reviewed the stress analysis results and will provide the following information:

1. **Calibration Process Details**: A detailed outline of the current calibration procedures, including any recent updates and training materials used.
2. **Incident Reports**: Any documented incidents related to calibration errors or sensor discrepancies that may provide further context.
3. **Operational Impact Data**: Additional metrics on the frequency of alerts triggered during pre-flight inspections and any historical data on sensor performance.

This information will be compiled and sent to the Stress Office to assist in their analysis.`,style:"verbose",label:"Response to Stress Office Request"},{date:"2024-01-28T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Final Recommendations

After receiving the additional data from Quality Controller Léa Tremblay, the following recommendations are made:

1. **Enhanced Training Program**: Develop a more robust training program that includes simulations of calibration scenarios to prepare personnel for high-pressure situations.
2. **Real-time Monitoring**: Implement a real-time monitoring system for sensor performance to detect discrepancies immediately.
3. **Supplier Collaboration**: Engage with SensorsPlus Ltd to review calibration standards and ensure alignment with industry best practices.

### Conclusion

These measures will significantly reduce the risk of future calibration discrepancies, enhance operational safety, and maintain compliance with regulatory standards.`,style:"concise and precise",label:"Final Recommendations Based on Additional Data"}],400:[{date:"2024-01-29T11:30:00.000Z",role:"Stress Manager",name:"Gabriel Fortin",description:`### Analysis and Recommendations

Following the stress analysis and the additional data provided by Quality Controller Léa Tremblay, the following points have been established:

1. **Impact on Operations**: The calibration discrepancies identified with part number A220-FTS-009 have significant operational implications, including potential fuel starvation and increased troubleshooting time.

2. **Action Plan Validation**: The proposed action plan includes:
 - Immediate retraining for all calibration personnel to ensure adherence to updated procedures.
 - Implementation of a checklist protocol during calibration to mitigate human error.
 - Regular quarterly audits to ensure compliance and identify areas for improvement.

3. **Final Recommendations**:
 - Develop a robust training program that includes simulations for high-pressure situations.
 - Implement a real-time monitoring system for sensor performance to detect discrepancies immediately.
 - Collaborate with SensorsPlus Ltd to review calibration standards and align with industry best practices.

### Conclusion

These measures will enhance operational safety, reduce the risk of future calibration discrepancies, and ensure compliance with regulatory standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-01-30T15:45:00.000Z",role:"Quality Manager",name:"Mathieu Bouchard",description:`### Analyse et Recommandation Finale

**Contexte et Causes**
- **Interne**: Non-respect des procédures de calibration mises à jour par le personnel, accentué par la pression de production.
- **Externe**: Aucun défaut fournisseur direct identifié, mais collaboration avec SensorsPlus Ltd recommandée pour alignement sur les meilleures pratiques.

**Impact et Risques**
- **Navigabilité**: Risque de gestion incorrecte du carburant pouvant mener à des décisions opérationnelles compromises.
- **Coûts**: Heures supplémentaires de dépannage et coûts de recalibration impactant les délais et budgets.

**Plan d'Action**
1. **Formation Renforcée**: Développer un programme de formation incluant des simulations pour préparer le personnel aux situations sous pression.
2. **Protocole de Vérification**: Implémentation immédiate d'une checklist pour garantir le respect des procédures de calibration.
3. **Surveillance en Temps Réel**: Mise en place d'un système de monitoring pour détecter instantanément les écarts de performance des capteurs.
4. **Audits Trimestriels**: Audits réguliers pour assurer la conformité et identifier les améliorations potentielles.
5. **Collaboration Fournisseur**: Travailler avec SensorsPlus Ltd pour revoir les standards de calibration.

**Conclusion**
Ces mesures visent à renforcer la sécurité opérationnelle, réduire les risques de futures anomalies de calibration, et garantir la conformité aux normes réglementaires. L'accent est mis sur la réduction des coûts et l'efficacité temporelle pour minimiser les impacts financiers et de production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Wing anti-ice valve malfunction due to electrical connection failure",nc_scenario_id:"ATA-30-f4aa2147e60ab4aa",nc_event_seed:26442,nc_event_date:"2021-12-18 01:50:55.394000+00:00",nc_event_id:"ATA-30-f4aa2147e60ab4aa-8511",analysis_history:{"000":[{date:"2021-12-18T01:50:55.394Z",role:"Quality Controler",observation:"Pre-flight checks identify anomalies in anti-ice ice functionality",name:"Émile Tremblay",description:`Report regarding the observation of non-conformity related to pre-flight checks. 

Specific observations noted: 
- Anomalies in the anti-ice functionality identified during pre-flight inspections. 
- Potential issues with electrical connections observed. 
- Immediate concerns raised regarding reliability of the system. 

Affected part: 
- Part Number: A220-300-3085 
- Serial Number: SN-49110403 
- Supplier: Safran Electrical & Power`,style:"elusive",label:"Anti-ice System Anomalies Detected"}],100:[{date:"2021-12-18T02:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Analysis of the reported anomalies in the anti-ice system indicates a direct correlation with electrical connector issues. 

**Findings:** 
- Improper installation of electrical connectors leading to intermittent continuity loss. 
- Human factors, including rushed assembly and inadequate quality oversight, identified as primary contributors. 

**Recommendations:** 
- Conduct an audit of the assembly process focusing on electrical connections. 
- Implement retraining sessions for assembly crew to emphasize proper connector installation techniques.`,style:"concise and precise",label:"Initial Analysis of Anti-ice System Anomalies"},{date:"2021-12-18T03:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Leblanc",description:`Requesting detailed insights on the electrical connector specifications and installation procedures. 

**Specific Questions:** 
- What are the standard torque specifications for the connectors? 
- Are there any known issues with the connectors used in A220? 

This information is crucial for assessing the root cause and developing effective mitigation strategies.`,style:"concise and precise",label:"Request for Technical Input on Electrical Connections"},{date:"2021-12-18T04:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:`Provided requested information regarding electrical connectors. 

**Details:** 
- Standard torque specification is 10 Nm. 
- No known issues reported with the connectors from the supplier, but assembly practices may vary. 

**Next Steps:** 
- Ensure assembly crew is aware of torque specifications during retraining.`,style:"concise and precise",label:"Response to Technical Input Request"},{date:"2021-12-19T10:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Based on the analysis and feedback received, the following action plan is proposed: 

**Action Items:** 
1. Conduct an immediate audit of the assembly process focusing on electrical connections. 
2. Schedule retraining sessions for assembly crew emphasizing proper installation and torque specifications. 
3. Increase monitoring of electrical connection integrity during pre-flight checks. 
4. Establish a feedback loop for reporting any anomalies observed during operations.`,style:"concise and precise",label:"Consolidated Action Plan"}],200:[{date:"2021-12-19T12:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`**Analysis Summary:**
- Electrical connector issues confirmed as primary cause of anti-ice system anomalies.
- Human factors: rushed assembly, inadequate oversight.

**Action Plan:**
1. Audit assembly process for electrical connections.
2. Retraining sessions for assembly crew on installation techniques.
3. Enhanced monitoring of connection integrity during pre-flight checks.
4. Establish feedback loop for operational anomalies.

**Final Recommendation:**
Proceed with action plan implementation to mitigate risks and enhance reliability of anti-ice systems.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-12-20T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagné",description:`Après avoir examiné les anomalies signalées dans le système anti-givre, nous avons effectué des calculs de stress sur les connexions électriques et leur impact sur la structure de l'A220. 

**Analyse des résultats :** 
- Les connexions électriques mal installées ont été identifiées comme un point critique, entraînant une perte intermittente de continuité. 
- Les calculs de stress montrent que des connexions mal fixées peuvent provoquer des vibrations excessives, ce qui pourrait compromettre l'intégrité structurelle des composants adjacents. 

**Recommandations :** 
1. **Audit de la conception des connecteurs :** Vérifier que les spécifications de conception des connecteurs sont conformes aux exigences de résistance et de durabilité. 
2. **Amélioration des procédures d'assemblage :** Mettre à jour les procédures d'assemblage pour inclure des vérifications de couple et des contrôles de qualité plus rigoureux. 
3. **Formation continue :** Établir un programme de formation continue pour le personnel d'assemblage, axé sur l'importance de la qualité des connexions électriques. 
4. **Surveillance accrue :** Mettre en place un système de surveillance pour détecter les anomalies dans le fonctionnement des systèmes anti-givre avant le vol. 

**Conclusion :** 
Les résultats des calculs de stress soulignent l'importance d'une installation correcte des connecteurs pour garantir la fiabilité du système anti-givre. Il est crucial de mettre en œuvre ces recommandations pour éviter des défaillances potentielles qui pourraient entraîner des retards de vol ou des annulations pendant les opérations hivernales.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2021-12-20T10:30:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:"Suite à l'analyse du Stress Office, je sollicite des précisions concernant les spécifications des connecteurs électriques, notamment les tolérances et les exigences de performance. Ces informations sont essentielles pour évaluer l'impact des recommandations proposées.",style:"concise and precise",label:"Request for Additional Information"},{date:"2021-12-20T11:30:00.000Z",role:"Stress Office Expert",name:"Mathieu Gagné",description:`En réponse à la demande d'informations supplémentaires, voici les spécifications des connecteurs électriques utilisés dans l'A220 : 

**Spécifications des connecteurs :** 
- **Type de connecteur :** Connecteur à verrouillage mécanique 
- **Couple de serrage recommandé :** 10 Nm 
- **Tolérances :** Les connecteurs doivent être installés dans les tolérances de position spécifiées pour éviter les contraintes excessives. 

**Impact sur l'analyse :** 
Ces spécifications doivent être intégrées dans le processus de formation et d'audit pour garantir que tous les connecteurs sont installés correctement, minimisant ainsi les risques de défaillance.`,style:"verbose",label:"Response to Additional Information Request"},{date:"2021-12-21T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagné",description:`Après avoir intégré les spécifications des connecteurs dans notre analyse, nous confirmons les recommandations précédentes et ajoutons les points suivants : 

**Plan d'action consolidé :** 
1. **Audit de l'assemblage :** Réaliser un audit complet de l'assemblage des connecteurs électriques pour assurer la conformité aux spécifications. 
2. **Mise à jour des procédures :** Réviser les procédures d'assemblage pour inclure des vérifications de couple et des contrôles de qualité. 
3. **Formation des équipes :** Développer un programme de formation sur les meilleures pratiques d'installation des connecteurs. 
4. **Surveillance des performances :** Établir un protocole de surveillance pour détecter les anomalies dans le fonctionnement des systèmes anti-givre. 
5. **Rapports réguliers :** Mettre en place un système de rapport régulier sur l'intégrité des connexions électriques. 

**Conclusion :** 
La mise en œuvre de ces recommandations est cruciale pour garantir la fiabilité et la sécurité des systèmes anti-givre, réduisant ainsi les risques de défaillance et les coûts associés.`,style:"verbose",label:"Final Recommendations Based on Stress Analysis"}],400:[{date:"2021-12-22T11:45:00.000Z",role:"Stress Manager",name:"Julien Boucher",description:`**Analysis Summary:** 
After reviewing the stress calculations and the proposed action plan, we confirm the critical nature of proper electrical connector installation in the anti-ice system. The previous assessments highlighted that intermittent continuity loss due to improperly seated connectors can lead to significant operational disruptions. 

**Action Plan Validation:** 
1. **Assembly Audit:** A comprehensive audit of the assembly process is essential to ensure compliance with connector specifications. 
2. **Procedure Updates:** Procedures must be revised to incorporate torque checks and enhanced quality controls. 
3. **Team Training:** A focused training program on best practices for connector installation should be developed and implemented. 
4. **Performance Monitoring:** Establish a monitoring protocol to detect anomalies in anti-ice system functionality prior to flight. 
5. **Regular Reporting:** Implement a regular reporting system on the integrity of electrical connections to ensure ongoing compliance and reliability. 

**Final Recommendation:** 
The implementation of these recommendations is crucial to ensure the reliability and safety of the anti-ice systems, thereby reducing the risk of failures and associated costs. Continuous oversight and adherence to the updated procedures will be necessary to maintain system integrity.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-12-23T15:30:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`**Analyse des Causes** 
Les anomalies du système anti-givre de l'A220 sont principalement dues à des erreurs d'assemblage interne, notamment une installation incorrecte des connecteurs électriques. Les facteurs humains, tels que l'assemblage précipité et une supervision de qualité insuffisante, sont les causes internes majeures. Aucun défaut externe lié aux fournisseurs n'a été identifié. 

**Plan d'Action** 
1. **Audit d'Assemblage :** Effectuer un audit complet des processus d'assemblage pour garantir la conformité aux spécifications des connecteurs. 
2. **Mise à Jour des Procédures :** Réviser les procédures d'assemblage pour inclure des vérifications de couple et des contrôles de qualité rigoureux. 
3. **Formation du Personnel :** Mettre en place un programme de formation axé sur les meilleures pratiques d'installation des connecteurs. 
4. **Surveillance des Performances :** Établir un protocole de surveillance pour détecter les anomalies du système anti-givre avant le vol. 
5. **Rapports Réguliers :** Mettre en place un système de rapport régulier sur l'intégrité des connexions électriques. 

**Recommandation Finale** 
La mise en œuvre de ces actions est cruciale pour assurer la fiabilité et la sécurité des systèmes anti-givre, réduisant ainsi les risques de défaillance et les coûts associés. Une supervision continue et le respect des procédures mises à jour sont nécessaires pour maintenir l'intégrité du système. Prioriser ces actions permettra de minimiser les impacts financiers et d'améliorer l'efficacité opérationnelle.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 28",nc_label:"Fuel tank vent system obstruction",nc_scenario_id:"ATA-28-ca57520fecda91d7",nc_event_seed:7956,nc_event_date:"2024-01-27 07:50:55.762000+00:00",nc_event_id:"ATA-28-ca57520fecda91d7-8192",analysis_history:{"000":[{date:"2024-01-27T07:50:55.762Z",role:"Quality Controler",observation:"Reduced airflow noted showing vent system diagnostics",name:"Liam Tremblay",description:`Observation of reduced airflow in the vent system diagnostics. 
Noted issues with the vent components. 
Protective covers may not have been removed during maintenance. 
Potential obstruction affecting airflow. 
Part affected: A220-VS-003, Serial: SN93160304D, Supplier: VentTech Solutions.`,style:"not fully fluent",label:"Vent System Airflow Issue"}],100:[{date:"2024-01-27T08:30:00.000Z",role:"Design Office",name:"Julien Lefebvre",description:"Analysis initiated on reduced airflow in vent system. Obstruction likely due to protective covers not removed during maintenance. Recommend further investigation into maintenance protocols and training adequacy. Need to assess current documentation and training materials for personnel.",style:"elusive",label:"Initial Analysis of Vent System Issue"},{date:"2024-01-27T10:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Reviewed electrical components related to vent system. No immediate electrical faults detected. Recommend cross-checking with maintenance logs for any discrepancies. Awaiting further details from Quality Controler regarding maintenance execution.",style:"elusive",label:"Electrical Component Review"},{date:"2024-01-27T12:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Conducted assessment of hydraulic systems linked to vent functionality. Identified potential for fluid dynamics issues due to airflow obstruction. Recommend hydraulic flow tests post-clearance of obstructions.",style:"elusive",label:"Hydraulic System Assessment"},{date:"2024-01-27T14:45:00.000Z",role:"Quality Controler",name:"Liam Tremblay",description:"Provided clarification on maintenance procedures. Confirmed that protective covers were not documented as removed. Recommend updating maintenance checklist to include explicit removal of covers. Awaiting feedback from Design Office on proposed updates.",style:"elusive",label:"Clarification on Maintenance Procedures"},{date:"2024-01-28T09:00:00.000Z",role:"Design Office",name:"Julien Lefebvre",description:"Consolidated findings from analysis. Action plan includes: 1. Update maintenance protocols to ensure removal of protective covers. 2. Retrain personnel on updated procedures. 3. Implement regular audits of vent system integrity. 4. Schedule follow-up assessments post-implementation.",style:"elusive",label:"Consolidated Action Plan"}],200:[{date:"2024-01-29T11:30:00.000Z",role:"Design Manager",name:"Mathieu Boucher",description:`### Analysis Summary:
- Reduced airflow in vent system due to protective covers not removed during maintenance.
- Confirmed lack of updated training and maintenance protocols.

### Action Plan:
1. Update maintenance protocols to ensure removal of protective covers.
2. Retrain personnel on updated procedures.
3. Implement regular audits of vent system integrity.
4. Schedule follow-up assessments post-implementation.

### Final Recommendation:
- Immediate implementation of updated protocols is crucial to mitigate risks of fuel overflow and compliance issues.
- Ongoing monitoring and training are essential to prevent recurrence of similar issues.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-01-29T12:30:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Analysis Overview:
- Conducted stress calculations on the vent system post-clearance of obstructions.
- Evaluated structural integrity under potential fuel overflow scenarios.

### Findings:
- No significant structural weaknesses detected in the vent system post-maintenance.
- Airflow restoration confirmed; however, further monitoring is recommended.

### Recommendations:
1. Implement immediate monitoring of vent pressure during refueling operations.
2. Schedule regular stress tests on the vent system to ensure ongoing integrity.
3. Collaborate with Design Office to update structural models based on new airflow data.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2024-01-29T14:00:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`### Request Details:
- Need confirmation on the maintenance execution logs related to the vent system.
- Clarification on any additional training provided to personnel post-incident.`,style:"elusive",label:"Request for Additional Data"},{date:"2024-01-29T15:30:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Follow-up Overview:
- Awaiting response from Quality Controller regarding maintenance logs and personnel training.
- Stress calculations remain pending until all data is received for comprehensive analysis.`,style:"elusive",label:"Follow-up on Data Request"},{date:"2024-01-29T16:00:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`### Data Provided:
- Confirmed that maintenance logs indicate protective covers were not removed as per protocol.
- Personnel retraining on updated maintenance procedures has been scheduled for next week.`,style:"elusive",label:"Data Submission"},{date:"2024-01-30T09:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Final Analysis Summary:
- Stress calculations completed with updated maintenance data.
- Confirmed that structural integrity is maintained under operational conditions.

### Final Recommendations:
1. Implement immediate corrective actions for maintenance protocols to prevent recurrence.
2. Ensure ongoing training and audits are conducted regularly.
3. Monitor vent system performance continuously to detect any future anomalies.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2024-01-31T10:30:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`### Analysis Summary:
- Reviewed stress calculations and impact analysis based on updated maintenance data.
- Confirmed structural integrity of the vent system under operational conditions.

### Action Plan Validation:
1. Maintenance protocols updated to ensure removal of protective covers.
2. Personnel retraining scheduled and confirmed.
3. Regular audits of vent system integrity to be implemented.
4. Continuous monitoring of vent performance during refueling operations.

### Final Recommendations:
- Immediate execution of updated protocols is essential to mitigate risks of fuel overflow and compliance issues.
- Ongoing training and audits are crucial to prevent recurrence of similar issues.
- Stress tests should be scheduled regularly to ensure long-term structural integrity.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-02-01T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Gauthier",description:`### Analyse Finale

#### Contexte et Causes
- **Non-conformité identifiée** : Obstruction dans le système de ventilation du réservoir de carburant.
- **Cause primaire** : Négligence interne lors de la maintenance initiale, omission de retirer les protections sur les composants du système de ventilation.
- **Causes externes** : Aucune défaillance fournisseur identifiée.

#### Impact et Risques
- **Impact potentiel** : Risque de débordement de carburant lors du ravitaillement, non-conformité aux normes d'allumage pouvant entraîner des échecs d'inspection.
- **Conséquences si non traité** : Risque accru d'étincelles dans le réservoir, compromettant l'intégrité structurelle.

#### Plan d'Action
1. **Mise à jour des protocoles de maintenance** : Assurer le retrait des protections sur les composants du système de ventilation.
2. **Formation du personnel** : Retraining sur les nouveaux protocoles de maintenance.
3. **Audits réguliers** : Vérification de l'intégrité du système de ventilation.
4. **Tests de stress réguliers** : Assurer l'intégrité structurelle à long terme.
5. **Surveillance continue** : Monitoring de la pression du système de ventilation pendant les opérations de ravitaillement.

#### Recommandation Finale
- **Exécution immédiate** : Les protocoles mis à jour doivent être appliqués sans délai pour atténuer les risques identifiés.
- **Formation continue** : Essentielle pour éviter la récurrence de problèmes similaires.
- **Optimisation des délais** : Intégrer des moyens de détection rapide pour minimiser les interruptions de production.

### Conclusion
L'approche adoptée garantit la navigabilité et la conformité des produits, tout en optimisant les coûts et les délais de production. L'engagement envers une maintenance rigoureuse et une surveillance continue est crucial pour maintenir la fiabilité et la sécurité des systèmes de l'A220.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 28",nc_label:"Fuel tank vent system obstruction",nc_scenario_id:"ATA-28-45f4fc31fa960df1",nc_event_seed:24344,nc_event_date:"2022-03-15 11:50:55.777000+00:00",nc_event_id:"ATA-28-45f4fc31fa960df1-52dc",analysis_history:{"000":[{date:"2022-03-15T11:50:55.777Z",role:"Quality Controler",observation:"Reduced airflow noted during vent system diagnostics",name:"Léa Tremblay",description:`Observation of reduced airflow during diagnostics of the vent system. 

Specific issues noted include:
- Potential obstruction in the fuel tank vent system.
- Initial maintenance checks may have inadequately addressed protective cover removal.
- Foreign objects possibly retained in critical vent areas.

Affected part: A220-VS-003, Serial: SN48811443E, Supplier: VentTech Solutions.`,style:"verbose",label:"Vent System Airflow Disruption"}],100:[{date:"2022-03-15T12:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Review of report 000. Noted reduced airflow in vent system diagnostics. 

- Identified potential obstruction due to improper maintenance checks. 
- Foreign object retention is a concern. 
- Need to assess maintenance protocols and checklist adherence.`,style:"skills limits",label:"Initial Analysis of Vent System Issue"},{date:"2022-03-15T14:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:`Conducted an assessment of the electrical implications of vent system obstruction. 

- No immediate electrical failures noted. 
- Recommend monitoring electrical systems during refueling to ensure no anomalies arise.`,style:"skills limits",label:"Electrical System Impact Assessment"},{date:"2022-03-15T15:30:00.000Z",role:"Design Office Expert Hydro",name:"Louis Fortin",description:`Reviewed potential hydraulic impacts due to vent obstruction. 

- No direct hydraulic issues identified. 
- Suggest further monitoring of hydraulic systems during maintenance checks.`,style:"skills limits",label:"Hydraulic System Review"},{date:"2022-03-16T09:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`Requested clarification on maintenance checklist adherence. 

- Need updated training records for maintenance personnel. 
- Assess if checklist revisions are necessary to prevent future obstructions.`,style:"skills limits",label:"Follow-up on Maintenance Protocols"},{date:"2022-03-16T11:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated findings and recommendations: 

- Revise maintenance protocols to emphasize protective cover removal. 
- Implement updated training for maintenance personnel. 
- Establish a monitoring system for vent airflow during diagnostics. 
- Schedule follow-up audits to ensure compliance.`,style:"skills limits",label:"Final Recommendations and Action Plan"}],200:[{date:"2022-03-17T10:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis Summary:
- Reduced airflow in vent system due to obstruction.
- Maintenance checks inadequately addressed protective cover removal.
- Foreign objects retained in vent areas.

### Action Plan:
1. Revise maintenance protocols to emphasize protective cover removal.
2. Implement updated training for maintenance personnel.
3. Establish monitoring system for vent airflow during diagnostics.
4. Schedule follow-up audits to ensure compliance.

### Final Recommendation:
- Prioritize training updates and protocol revisions to prevent future obstructions.
- Monitor vent system closely during maintenance to ensure airflow integrity.
- Ensure compliance with updated protocols to maintain navigability and safety.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-03-18T09:00:00.000Z",role:"Stress Office",name:"Julien Bouchard",description:`### Résultats de l'Analyse de Stress :
- **Modélisation** : Utilisation de MATLAB pour simuler l'impact de l'obstruction sur le système de ventilation du réservoir de carburant.
- **Constatations** :
 - Les obstructions entraînent une surpression potentielle dans le réservoir, augmentant le risque de défaillance structurelle.
 - Les calculs montrent que la résistance du réservoir est compromise lorsque la pression dépasse 1.5 fois la pression nominale.

### Recommandations :
1. **Révision des Protocoles de Maintenance** :
 - Mettre à jour les protocoles pour inclure des vérifications systématiques de l'intégrité des systèmes de ventilation.
 - Inclure des étapes spécifiques pour la vérification de la présence d'objets étrangers.

2. **Formation du Personnel** :
 - Organiser des sessions de formation pour le personnel de maintenance sur l'importance de la vérification des couvercles de protection.
 - Fournir des mises à jour régulières sur les meilleures pratiques de maintenance.

3. **Surveillance Continue** :
 - Mettre en place un système de surveillance en temps réel des pressions de ventilation pendant le ravitaillement.
 - Établir des audits réguliers pour assurer la conformité aux nouveaux protocoles.

4. **Suivi des Incidents** :
 - Documenter tous les incidents liés à des obstructions et analyser les causes pour prévenir les récurrences.

### Conclusion :
- La mise en œuvre de ces recommandations est cruciale pour garantir la navigabilité et la sécurité de l'A220. Des mesures proactives doivent être prises pour éviter des coûts de réparation élevés et des interruptions de production.`,style:"skills limits",label:"Analyse des Calculs de Stress"},{date:"2022-03-18T10:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Demande :
- Veuillez fournir des détails supplémentaires concernant les spécificités des obstructions identifiées dans le système de ventilation.
- Des informations sur les types d'objets étrangers retenus et leur impact potentiel sur la sécurité seraient également utiles.`,style:"skills limits",label:"Demande d'Informations Complémentaires"},{date:"2022-03-18T12:00:00.000Z",role:"Stress Office",name:"Julien Bouchard",description:`### Réponse :
- Les obstructions identifiées incluent des morceaux de protection et des débris divers.
- Ces objets peuvent bloquer le flux d'air, entraînant une surpression dans le réservoir, ce qui pourrait compromettre la structure en cas de ravitaillement.
- Recommandation de procéder à une inspection approfondie de tous les composants du système de ventilation avant chaque cycle de maintenance.`,style:"skills limits",label:"Réponse à la Demande d'Informations"}],400:[{date:"2022-03-19T14:45:00.000Z",role:"Stress Manager",name:"Julien Gagnon",description:`### Analysis Summary:
- Confirmed obstruction in the fuel tank vent system due to foreign objects.
- Stress calculations indicate potential overpressure risks exceeding 1.5 times nominal pressure.

### Action Plan Validation:
1. **Maintenance Protocol Revision**:
 - Updated protocols now include mandatory checks for protective cover removal and foreign object presence.
2. **Personnel Training**:
 - Training sessions scheduled to reinforce the importance of vent system integrity.
3. **Monitoring System**:
 - Real-time pressure monitoring during refueling has been implemented.
4. **Incident Tracking**:
 - A system for documenting and analyzing obstruction incidents is in place.

### Final Recommendation:
- Immediate implementation of revised protocols is crucial to mitigate risks.
- Continuous monitoring and adherence to updated training will enhance safety and compliance.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-03-20T16:15:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse Finale

#### Contexte et Causes
- **Problème identifié** : Obstruction du système de ventilation du réservoir de carburant.
- **Causes internes** :
 - Erreur de maintenance : Non-retrait des couvercles de protection.
 - Manque de formation : Personnel non à jour sur les protocoles récents.
- **Causes externes** :
 - Aucun défaut fournisseur ou influence extérieure directe identifiée.

#### Impact et Risques
- **Navigabilité** : Risque de surpression compromettant la structure du réservoir.
- **Coûts** : Réparations estimées à $5,000 par incident, augmentation du temps de ravitaillement de 20%.
- **Conformité** : Risque de non-conformité aux régulations de pression.

#### Plan d'Action
1. **Révision des Protocoles de Maintenance** :
 - Inclure des vérifications systématiques pour le retrait des couvercles et la détection d'objets étrangers.
2. **Formation du Personnel** :
 - Sessions de formation obligatoires pour mettre à jour les compétences sur les nouvelles procédures.
3. **Surveillance Continue** :
 - Mise en place d'un système de surveillance en temps réel des pressions pendant le ravitaillement.
4. **Suivi des Incidents** :
 - Documentation et analyse systématique des incidents pour éviter les récurrences.

#### Recommandation Finale
- **Mise en œuvre immédiate** : Les protocoles révisés doivent être appliqués sans délai pour garantir la sécurité et la conformité.
- **Optimisation des Délais** : Utiliser des outils de détection rapide pour minimiser les interruptions de production.
- **Réduction des Coûts** : Prioriser les actions ayant un impact financier significatif pour éviter des corrections coûteuses à long terme.

### Conclusion
L'application rigoureuse de ces mesures est essentielle pour maintenir la navigabilité et la sécurité de l'A220. Une approche proactive est nécessaire pour prévenir des coûts élevés et des interruptions de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Inaccurate protection system readings due to de-icing drift",nc_scenario_id:"ATA-30-d58863322f927bf",nc_event_seed:7313,nc_event_date:"2024-02-23 02:50:55.347000+00:00",nc_event_id:"ATA-30-d58863322f927bf-07cf",analysis_history:{"000":[{date:"2024-02-23T02:50:55.347Z",role:"Quality Controler",observation:"Sensor data comparison during section checks shows deviations",name:"Léa Tremblay",description:"The recent observations made during the routine section checks have indicated that there are notable deviations in the sensor data. Specifically, the readings obtained from the sensors do not align with the expected parameters, suggesting a potential issue with the accuracy of the data being reported. This discrepancy raises concerns regarding the reliability of the sensor systems in place, particularly in relation to the ice protection mechanisms that are critical for safe aircraft operation. Furthermore, it is essential to highlight that these deviations were observed on the aircraft part number A220-300-3090, serial number SN-4536013, which is supplied by Goodrich Aerospace. The implications of these findings necessitate a thorough investigation to ascertain the root cause of the discrepancies and to implement corrective measures to ensure the integrity of the sensor data moving forward.",style:"verbose",label:"Discrepancies in Sensor Data During Section Checks"}],100:[{date:"2024-02-23T03:30:00.000Z",role:"Design Office",name:"Marc Leclerc",description:"Review discrepancies in sensor data. Confirm deviations noted in report. Focus on ice protection system. Need to check sensor calibration process. Suggest to gather more data from recent flights.",style:"not fully fluent",label:"Initial Analysis of Sensor Data Discrepancies"},{date:"2024-02-23T10:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Examine calibration protocols of sensors. Check if QA process followed by Goodrich Aerospace. Identify if any recent changes in sensor manufacturing. Need to confirm if temperature readings align with standards.",style:"not fully fluent",label:"Technical Review of Sensor Calibration"},{date:"2024-02-24T08:45:00.000Z",role:"Design Office",name:"Marc Leclerc",description:"Based on findings, recommend enhanced calibration procedures. Propose regular monitoring of sensor performance. Suggest collaboration with Goodrich Aerospace for improved QA. Emphasize importance of accurate readings for safety.",style:"not fully fluent",label:"Compile Findings and Recommendations"},{date:"2024-02-24T14:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Review recommendations from Design Office. Confirm alignment with quality standards. Ensure that proposed actions address root cause of discrepancies. Prepare for next steps in implementation.",style:"not fully fluent",label:"Validation of Recommendations"}],200:[{date:"2024-02-25T09:30:00.000Z",role:"Design Manager",name:"Julien Boucher",description:`### Analysis Summary
- Confirmed discrepancies in sensor data related to ice protection system on A220-300-3090.
- Identified primary cause: sensor boot drift due to overlooked QC processes by supplier.
- Noted insufficient calibration protocols leading to inaccurate temperature readings.

### Action Plan
1. **Enhance Calibration Procedures**: Implement stricter calibration checks to prevent drift.
2. **Regular Monitoring**: Establish a routine for monitoring sensor performance, especially in cold conditions.
3. **Collaboration with Supplier**: Work closely with Goodrich Aerospace to improve QA processes and ensure compliance with standards.

### Final Recommendation
- Prioritize immediate implementation of enhanced calibration and monitoring to mitigate risks associated with inaccurate readings. Ensure all actions align with safety and operational standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-02-26T10:30:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Analysis Results
- Conducted stress calculations on the impact of sensor boot drift on ice protection system.
- Found that drift leads to inaccurate readings, affecting activation thresholds.
- Potential risk identified: if not addressed, could compromise ice protection reliability.

### Recommendations
1. **Immediate Calibration Check**: Implement urgent recalibration of affected sensors.
2. **Monitoring System**: Establish a continuous monitoring system for sensor performance.
3. **Supplier Collaboration**: Work with Goodrich Aerospace to enhance QA processes and ensure compliance.
4. **Documentation**: Ensure all calibration procedures are documented and reviewed regularly.

### Next Steps
- Request additional data from Quality Controller regarding recent flight conditions and sensor performance logs.`,style:"not fully fluent",label:"Stress Analysis of Sensor Calibration Impact"},{date:"2024-02-26T14:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Task
- Gather recent flight data related to sensor performance, especially in cold weather conditions.
- Include any anomalies or deviations observed during flights.
- Ensure data is comprehensive to assist Stress Office in further analysis.`,style:"not fully fluent",label:"Provide Additional Data on Sensor Performance"},{date:"2024-02-27T09:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Final Review
- Analyzed additional data received from Quality Controller.
- Confirmed that deviations correlate with cold weather operations.
- Finalized recommendations based on comprehensive data analysis.

### Consolidated Action Plan
1. **Calibration Procedures**: Immediate recalibration of sensors to restore accuracy.
2. **Performance Monitoring**: Implement a robust monitoring system for ongoing performance checks.
3. **Supplier Engagement**: Collaborate with Goodrich Aerospace for improved quality assurance.
4. **Documentation and Training**: Ensure all procedures are documented and staff trained on new protocols.

### Conclusion
- Urgent action required to mitigate risks associated with inaccurate sensor readings.`,style:"not fully fluent",label:"Review Additional Data and Finalize Recommendations"}],400:[{date:"2024-02-28T11:15:00.000Z",role:"Stress Manager",name:"Antoine Gagnon",description:`### Analysis Summary
- Reviewed stress calculations related to sensor boot drift on A220-300-3090.
- Confirmed that inaccuracies in sensor readings can lead to compromised ice protection system reliability.
- Identified that immediate action is necessary to prevent operational risks.

### Action Plan
1. **Immediate Recalibration**: Execute recalibration of affected sensors without delay.
2. **Monitoring Implementation**: Set up a continuous performance monitoring system for sensors to ensure accuracy.
3. **Supplier Collaboration**: Engage with Goodrich Aerospace to enhance their QA processes and ensure compliance with standards.
4. **Documentation**: Ensure all calibration and monitoring procedures are documented and staff trained accordingly.

### Final Recommendation
- Prioritize the immediate execution of the recalibration and monitoring systems to mitigate risks associated with inaccurate readings. Ensure all actions align with safety and operational standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-03-01T14:45:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse des Causes
- **Causes Internes**: Déviation progressive des capteurs due à une calibration insuffisante et à une erreur d'assemblage. Nécessité de renforcer les protocoles de calibration pour éviter les dérives.
- **Causes Externes**: Défauts de fabrication chez le fournisseur Goodrich Aerospace, exacerbés par des conditions météorologiques froides.

### Impact et Priorités
- **Navigabilité**: Les erreurs de lecture des capteurs compromettent l'activation du système de protection contre la glace, impactant la sécurité en vol.
- **Coûts**: Les recalibrations non planifiées augmentent les coûts de maintenance et réduisent la durée de vie des composants.

### Plan d'Action
1. **Recalibration Immédiate**: Recalibrer les capteurs affectés pour restaurer la précision des lectures.
2. **Système de Surveillance**: Mettre en place un système de surveillance continue des performances des capteurs.
3. **Collaboration Fournisseur**: Travailler avec Goodrich Aerospace pour améliorer leurs processus de QA et assurer la conformité aux normes.
4. **Documentation et Formation**: Documenter toutes les procédures de calibration et de surveillance, et former le personnel aux nouveaux protocoles.

### Recommandation Finale
- **Priorité**: Exécuter immédiatement les recalibrations et mettre en place les systèmes de surveillance pour atténuer les risques liés aux lectures inexactes. Assurer que toutes les actions sont alignées avec les normes de sécurité et opérationnelles.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 24",nc_label:"Voltage tank in main electrical bus",nc_scenario_id:"ATA-28-c1fdba4f31ee9303",nc_event_seed:20652,nc_event_date:"2022-08-16 07:50:55.790000+00:00",nc_event_id:"ATA-28-c1fdba4f31ee9303-55b3",analysis_history:{"000":[{date:"2022-08-16T07:50:55.790Z",role:"Quality Controler",observation:"Intermittent equipment malfunction noticed by the quality assurance team",name:"Julien Tremblay",description:`Report regarding the observation of non-conformity, including specific observations noted during the quality assurance checks. 

- Equipment malfunction observed intermittently during routine checks. 
- Voltage irregularities noted in the main electrical bus. 
- Initial findings suggest potential issues with wiring harness quality. 
- Parts involved: WH-220A, Serial: 1234-ELEC, Supplier: Acme Solutions Corp.`,style:"elusive",label:"Intermittent Equipment Malfunction Report"}],100:[{date:"2022-08-16T09:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Analyzed intermittent equipment malfunction report. Voltage irregularities in main electrical bus linked to wiring harness quality. Investigate manufacturing processes for inconsistencies. Recommend further testing of wiring harnesses and connectors.",style:"concise and precise",label:"Initial Analysis of Voltage Irregularities"},{date:"2022-08-16T10:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lefebvre",description:"Requesting detailed testing data on wiring harnesses from Quality Control. Focus on resistance measurements and connector integrity. Essential for identifying root causes of voltage inconsistencies.",style:"concise and precise",label:"Request for Additional Testing Data"},{date:"2022-08-16T11:15:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Providing requested testing data on wiring harnesses. Resistance measurements indicate variability. Suggests need for improved quality assurance protocols.",style:"concise and precise",label:"Provide Testing Data"},{date:"2022-08-17T09:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Consolidated findings from testing data. Resistance variability confirmed across connectors. Recommend immediate review of wiring harness manufacturing process. Implement stricter quality checks. Propose a follow-up inspection schedule post-implementation.",style:"concise and precise",label:"Consolidated Analysis and Recommendations"}],200:[{date:"2022-08-18T11:30:00.000Z",role:"Design Manager",name:"Marc-Antoine Boucher",description:`### Analysis Summary
- Voltage irregularities linked to wiring harness quality.
- Resistance variability confirmed across connectors.

### Action Plan
1. Immediate review of wiring harness manufacturing process.
2. Implement stricter quality assurance protocols.
3. Schedule follow-up inspections post-implementation.

### Recommendation
- Prioritize resolution to mitigate risks of intermittent failures.
- Enhance testing protocols for early detection of wiring issues.
- Focus on supplier quality to prevent external defects impacting assembly.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-08-19T09:00:00.000Z",role:"Stress Office",name:"Léo Boucher",description:`### Stress Analysis Results
After conducting a comprehensive stress analysis on the wiring harness and its associated connectors, the following findings have been established:

- **Resistance Variability**: The analysis confirmed that the resistance variability across the connectors is significant enough to potentially impact the voltage stability in the main electrical bus. This variability can lead to intermittent failures, especially during critical operational phases of the A220.

- **Impact on Structural Integrity**: The inconsistent voltage supply can affect not only the electrical systems but also the overall structural integrity of the aircraft. Any fluctuation in voltage can lead to unexpected behavior in electronic systems, which may compromise navigability and safety.

### Recommendations
1. **Immediate Action Required**: It is imperative to address the wiring harness quality issues without delay. The manufacturing process should be reviewed thoroughly to identify any inconsistencies that could lead to further resistance variability.
2. **Enhanced Testing Protocols**: Implement stricter testing protocols for all wiring harnesses and connectors before assembly. This should include detailed resistance measurements and environmental testing to simulate operational conditions.
3. **Supplier Quality Assurance**: Engage with Acme Solutions Corp to ensure that their manufacturing processes meet the required standards. A quality audit may be necessary to ascertain compliance with specifications.
4. **Follow-Up Inspections**: Establish a schedule for follow-up inspections post-implementation of the recommended changes to ensure that the modifications have been effective and that no further issues arise.
5. **Documentation and Reporting**: Maintain thorough documentation of all findings, actions taken, and results from follow-up inspections to ensure traceability and accountability.

### Conclusion
The analysis underscores the critical nature of ensuring consistent quality in wiring harnesses to maintain the integrity of the A220's electrical systems. Immediate action is essential to mitigate risks associated with voltage irregularities.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2022-08-19T12:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requesting further detailed testing data on the wiring harnesses and connectors, specifically focusing on resistance measurements under various environmental conditions. This data is crucial for a comprehensive understanding of the impact on voltage stability.",style:"concise and precise",label:"Request for Additional Testing Data"},{date:"2022-08-20T10:00:00.000Z",role:"Stress Office Expert",name:"Léo Boucher",description:`### Analysis of Additional Testing Data
Upon receiving the additional testing data, the following observations have been made:

- **Resistance Measurements**: The resistance measurements indicate that certain connectors are consistently underperforming compared to the established standards. This underperformance can lead to voltage drops that may affect critical systems.

- **Environmental Impact**: Testing under simulated environmental conditions revealed that temperature fluctuations exacerbate the resistance variability, suggesting that the materials used in the wiring harness may not be suitable for the operational environment of the A220.

### Updated Recommendations
1. **Material Review**: A thorough review of the materials used in the wiring harness should be conducted to ensure they meet the necessary specifications for temperature resilience.
2. **Supplier Collaboration**: Work closely with Acme Solutions Corp to address the material quality issues and explore alternative materials that may provide better performance under varying environmental conditions.
3. **Comprehensive Testing**: Implement a comprehensive testing regime that includes not only resistance measurements but also long-term durability tests under simulated operational conditions.
4. **Documentation of Findings**: Ensure all findings from the additional testing are documented and communicated to all relevant stakeholders to maintain transparency and facilitate informed decision-making.`,style:"verbose",label:"Analysis of Additional Testing Data"}],400:[{date:"2022-08-21T14:30:00.000Z",role:"Stress Manager",name:"Émile Fortier",description:`### Stress Analysis Validation
After reviewing the stress analysis conducted by the Stress Office, the following conclusions and recommendations have been established:

- **Resistance Variability Impact**: The analysis confirms that the variability in resistance across connectors poses a significant risk to voltage stability in the main electrical bus of the A220. This can lead to intermittent failures, particularly during critical operational phases.

- **Structural Integrity Concerns**: Fluctuations in voltage can adversely affect not only the electrical systems but also the overall structural integrity of the aircraft. It is crucial to address these issues to ensure navigability and safety.

### Action Plan
1. **Immediate Review of Manufacturing Processes**: Engage with Acme Solutions Corp to conduct a thorough review of the manufacturing processes for the wiring harnesses. Identify and rectify any inconsistencies that could lead to resistance variability.
2. **Enhanced Quality Assurance Protocols**: Implement stricter quality assurance measures for wiring harnesses and connectors. This includes detailed resistance measurements and environmental testing to ensure compliance with operational standards.
3. **Material and Supplier Evaluation**: Collaborate closely with Acme Solutions Corp to assess the materials used in the wiring harnesses. Explore alternative materials that offer better performance under varying environmental conditions.
4. **Follow-Up Inspections and Documentation**: Establish a schedule for follow-up inspections post-implementation of the recommended changes. Ensure thorough documentation of all findings and actions taken to maintain accountability and traceability.

### Conclusion
The validation of the stress analysis underscores the critical need for immediate action to mitigate risks associated with voltage irregularities. By addressing the identified issues, we can enhance the reliability and safety of the A220's electrical systems.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-08-23T10:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Problème Identifié**: Variabilité de la résistance dans le faisceau de câblage affectant la stabilité de la tension dans le bus électrique principal de l'A220.
- **Causes Internes**: Incohérences dans le processus de fabrication, erreurs d'assemblage.
- **Causes Externes**: Défauts de matériaux fournis par Acme Solutions Corp.

#### Impact et Risques
- **Navigabilité**: Risque de défaillances intermittentes lors des phases critiques de vol.
- **Intégrité Structurelle**: Fluctuations de tension pouvant compromettre les systèmes électroniques.
- **Coûts**: Retards de production estimés à $50,000 par unité.

#### Plan d'Action
1. **Révision Immédiate des Processus**: Collaboration avec Acme Solutions Corp pour identifier et corriger les incohérences de fabrication.
2. **Protocoles de Qualité Renforcés**: Mise en place de mesures strictes de contrôle qualité, incluant des tests de résistance détaillés et des essais environnementaux.
3. **Évaluation des Matériaux**: Analyse des matériaux utilisés et exploration d'alternatives plus performantes.
4. **Inspections de Suivi**: Établissement d'un calendrier d'inspections post-implémentation pour vérifier l'efficacité des modifications.
5. **Documentation et Traçabilité**: Maintien d'une documentation exhaustive des actions et résultats pour assurer la conformité et la responsabilité.

#### Conclusion
L'analyse finale confirme la nécessité d'actions immédiates pour garantir la fiabilité et la sécurité des systèmes électriques de l'A220. En mettant en œuvre ces recommandations, nous réduirons les risques de défaillances et optimiserons les coûts de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Wing temperature valve malfunction due to electrical connection failure",nc_scenario_id:"ATA-30-f4aa2147e53ab4aa",nc_event_seed:6737,nc_event_date:"2024-03-18 02:50:55.385000+00:00",nc_event_id:"ATA-30-f4aa2147e53ab4aa-da0e",analysis_history:{"000":[{date:"2024-03-18T02:50:55.385Z",role:"Quality Controler",observation:"Electrical system diagnostics report intermittent checks",name:"Léa Tremblay",description:`Report concerning the intermittent checks of the electrical system diagnostics. Specific observations noted include:
- Inconsistent readings from the wing temperature valve sensors.
- Possible electrical connection failures observed during routine diagnostics.
- Issues traced back to the assembly of connectors on part A220-300-3085, serial SN-32685184 from supplier Safran Electrical & Power.
- No immediate corrective actions taken at this stage.`,style:"elusive",label:"Intermittent Electrical Connection Issues"}],100:[{date:"2024-03-18T09:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Review of the intermittent electrical connection issues reported.

- Identified improper sensor assembly as a primary cause.
- Insufficient quality oversight noted during assembly by supplier Safran Electrical & Power.
- Recommend further investigation into assembly processes and connector seating.
- Plan to conduct a detailed audit of assembly procedures.`,style:"concise and precise",label:"Initial Analysis of Electrical Connection Issues"},{date:"2024-03-19T10:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:`Conducted a technical assessment of the electrical connectors used in A220-300-3085.

- Found evidence of intermittent continuity loss under specific operating conditions.
- Recommend implementing stricter quality checks on connector seating and assembly.
- Suggest additional training for assembly crew to ensure proper installation.`,style:"concise and precise",label:"Technical Assessment of Electrical Connectors"},{date:"2024-03-20T11:15:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Consolidated findings from the analysis and technical assessment.

- Identified key areas for improvement in assembly and quality oversight.
- Recommend an audit of assembly processes and retraining of assembly crew.
- Establish a monitoring system for electrical connection issues post-assembly.`,style:"concise and precise",label:"Consolidation of Findings and Recommendations"},{date:"2024-03-21T14:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`Reviewed and validated the recommendations from the Design Office.

- Confirmed the need for an audit and retraining as proposed.
- Will monitor the implementation of these actions and their effectiveness.
- Awaiting further updates on the audit schedule.`,style:"concise and precise",label:"Validation of Design Office Recommendations"}],200:[{date:"2024-03-22T15:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Analysis of intermittent electrical connection issues confirmed. 

- Primary cause: Improper sensor assembly and insufficient quality oversight during assembly by Safran Electrical & Power. 
- Internal factors: Assembly errors, inadequate training. External factors: Supplier quality issues. 
- Recommended actions: 
 1. Conduct a comprehensive audit of assembly processes. 
 2. Implement stricter quality control measures for connector seating. 
 3. Provide additional training for assembly personnel. 
- Emphasize monitoring systems for early detection of electrical connection problems post-assembly. 

No structural impacts presumed at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-03-22T18:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Résultats de l'Analyse de Stress

Suite à l'analyse approfondie des problèmes de connectivité électrique liés aux capteurs de température des ailes sur l'A220-300-3085, plusieurs facteurs ont été identifiés comme ayant un impact potentiel sur la structure de l'avion. Les calculs de stress ont été réalisés en utilisant des simulations avancées pour évaluer les effets des défaillances de connectivité sur la performance globale de l'avion.

#### Causes Internes Identifiées :
1. **Erreurs d'Assemblage** : Des erreurs dans l'assemblage des connecteurs ont été notées, ce qui a conduit à une mauvaise assise des connecteurs, augmentant le risque de perte de continuité.
2. **Mauvaise Calibration** : Les capteurs n'étaient pas correctement calibrés, ce qui a entraîné des lectures incohérentes.

#### Causes Externes Identifiées :
1. **Défauts Fournisseurs** : Les connecteurs fournis par Safran Electrical & Power présentent des défauts de fabrication qui compromettent leur fiabilité sous certaines conditions d'exploitation.
2. **Conditions Opérationnelles** : Les conditions hivernales, notamment les variations de température, exacerbent les problèmes de connectivité.

### Recommandations :
- **Audit Complet des Processus d'Assemblage** : Il est impératif de réaliser un audit approfondi des processus d'assemblage pour identifier les points de défaillance et mettre en œuvre des corrections appropriées.
- **Contrôles de Qualité Renforcés** : Mettre en place des contrôles de qualité plus stricts pour s'assurer que les connecteurs sont correctement installés et calibrés avant la mise en service.
- **Formation Supplémentaire pour le Personnel d'Assemblage** : Offrir une formation supplémentaire pour le personnel afin de garantir une installation correcte et une meilleure compréhension des exigences techniques.
- **Système de Surveillance Post-Assemblage** : Établir un système de surveillance pour détecter rapidement les problèmes de connectivité électrique après l'assemblage.

### Conclusion

Aucune modification structurelle n'est présumée nécessaire à ce stade, mais il est crucial de suivre ces recommandations pour éviter des défaillances futures qui pourraient compromettre la navigabilité et la fiabilité de l'A220. Des mises à jour régulières sur l'état d'avancement des actions recommandées seront nécessaires pour assurer la conformité et la sécurité des opérations.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2024-03-23T09:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Pour compléter l'analyse, pourriez-vous fournir des détails supplémentaires sur les spécifications des connecteurs utilisés et les conditions exactes dans lesquelles les défaillances ont été observées ? Cela nous aidera à mieux comprendre l'impact potentiel sur la structure.",style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2024-03-23T15:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Informations Complémentaires

Suite à votre demande, voici les spécifications des connecteurs utilisés dans l'A220-300-3085 :
- **Type de Connecteur** : Connecteurs électriques de type hermétique, conçus pour résister aux conditions environnementales extrêmes.
- **Matériaux** : Alliages de cuivre et plastiques renforcés, spécifiquement choisis pour leur résistance à la corrosion et aux variations de température.

#### Conditions d'Observation des Défaillances :
- Les défaillances ont été principalement observées lors des tests de diagnostic en hiver, lorsque les températures ont chuté en dessous de -10°C.
- Des tests de vibrations ont également révélé une perte intermittente de continuité lors de l'application de charges dynamiques sur les connecteurs.

Ces informations devraient permettre de mieux cerner les problèmes de connectivité et d'orienter les prochaines étapes de l'analyse.`,style:"verbose",label:"Réponse à la Demande d'Informations"},{date:"2024-03-24T10:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Analyse Finale

Après avoir pris en compte les spécifications des connecteurs et les conditions d'exploitation, il est clair que les problèmes de connectivité électrique peuvent avoir des conséquences graves sur la sécurité et la navigabilité de l'A220. Les calculs de stress ont confirmé que les défaillances intermittentes peuvent entraîner des pertes de signal critiques, affectant ainsi le fonctionnement des systèmes anti-givre.

### Recommandations Consolidées :
1. **Renforcement des Procédures de Contrôle Qualité** : Intégrer des tests de résistance et de performance sur les connecteurs avant leur installation.
2. **Mise en Place d'un Programme de Maintenance Préventive** : Établir un calendrier de maintenance pour vérifier régulièrement l'intégrité des connexions électriques, en particulier avant les opérations hivernales.
3. **Collaboration avec le Fournisseur** : Travailler en étroite collaboration avec Safran Electrical & Power pour améliorer la qualité des connecteurs fournis et réduire les risques de défaillance.
4. **Rapports de Suivi** : Mettre en place un système de rapport pour suivre les incidents de connectivité et évaluer l'efficacité des mesures mises en œuvre.

### Conclusion

Ces recommandations visent à garantir la sécurité et la fiabilité des opérations de l'A220, tout en minimisant les coûts associés aux réparations et aux interruptions de service. Une attention particulière doit être accordée à l'implémentation de ces mesures pour assurer la conformité et la performance des systèmes.`,style:"verbose",label:"Analyse Finale et Recommandations Consolidées"}],400:[{date:"2024-03-25T11:30:00.000Z",role:"Stress Manager",name:"Gabriel Fournier",description:`### Validation of Stress Analysis and Recommendations

Following the comprehensive stress analysis conducted on the intermittent electrical connection issues related to the wing temperature valve sensors on the A220-300-3085, the following points have been validated:

- **Impact Assessment**: The intermittent connectivity failures identified can lead to critical signal losses, particularly affecting the anti-ice systems during winter operations. This poses a significant risk to aircraft reliability and operational safety.

- **Recommendations from Stress Office**: The recommendations provided by the Stress Office have been thoroughly reviewed and are deemed appropriate. Key actions include:
 1. **Enhanced Quality Control Procedures**: Implement rigorous testing protocols for connector resistance and performance prior to installation.
 2. **Preventive Maintenance Program**: Establish a maintenance schedule to regularly check the integrity of electrical connections, especially before winter operations.
 3. **Supplier Collaboration**: Engage closely with Safran Electrical & Power to enhance the quality of connectors supplied and mitigate failure risks.
 4. **Incident Reporting System**: Develop a reporting mechanism to track connectivity incidents and evaluate the effectiveness of implemented measures.

- **Conclusion**: The outlined measures are critical to ensuring the safety and reliability of the A220 operations. It is essential to prioritize the implementation of these recommendations to maintain compliance and system performance. Continuous monitoring and updates on the progress of these actions will be necessary to ensure their effectiveness.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-03-26T14:45:00.000Z",role:"Quality Manager",name:"Mathieu Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Causes Internes** :
 - **Erreurs d'Assemblage** : Connecteurs mal installés, causant des pertes de continuité intermittentes.
 - **Mauvaise Calibration** : Capteurs mal calibrés, entraînant des lectures incohérentes.

- **Causes Externes** :
 - **Défauts Fournisseurs** : Connecteurs de Safran Electrical & Power présentant des défauts sous conditions extrêmes.
 - **Intempéries** : Conditions hivernales exacerbant les problèmes de connectivité.

#### Impact
- **Fiabilité Réduite** : Risque accru de défaillance des systèmes anti-givre, impactant la sécurité et la ponctualité des vols.
- **Coûts** : Incidents récurrents entraînant des coûts de réparation et des pertes opérationnelles significatives.

#### Plan d'Action
1. **Audit des Processus d'Assemblage** : Identifier et corriger les erreurs d'assemblage.
2. **Contrôles de Qualité Renforcés** : Tests rigoureux des connecteurs avant installation.
3. **Formation Supplémentaire** : Améliorer les compétences du personnel d'assemblage.
4. **Programme de Maintenance Préventive** : Vérifications régulières des connexions électriques, surtout avant l'hiver.
5. **Collaboration avec le Fournisseur** : Travailler avec Safran pour améliorer la qualité des connecteurs.
6. **Système de Suivi des Incidents** : Suivi des incidents pour évaluer l'efficacité des mesures mises en œuvre.

#### Conclusion
Les mesures proposées sont essentielles pour assurer la sécurité et la fiabilité des opérations de l'A220. La mise en œuvre rapide et efficace de ces recommandations est cruciale pour maintenir la conformité et la performance des systèmes. Un suivi continu et des mises à jour régulières sur l'avancement des actions sont nécessaires pour garantir leur succès.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Frost formation inside pneumatic lines due to insufficient insulation",nc_scenario_id:"ATA-30-9df8cf1c5652a333",nc_event_seed:33463,nc_event_date:"2021-02-28 12:50:55.397000+00:00",nc_event_id:"ATA-30-9df8cf1c5652a333-d5cb",analysis_history:{"000":[{date:"2021-02-28T12:50:55.397Z",role:"Quality Controler",observation:"Post-flight inspections revealing increased moisture and frost build-up within pneumatic system lines",name:"Léa Tremblay",description:"During the post-flight inspections, it has been observed that there is a significant increase in moisture accumulation and frost build-up within the pneumatic system lines. This phenomenon appears to be prevalent across multiple aircraft units, specifically noted in the A220-300-3100 with serial number SN-00367941, supplied by Parker Hannifin. The presence of frost within these lines raises concerns regarding the operational efficiency and reliability of the pneumatic systems, which are critical for the overall performance of the aircraft. Immediate attention is required to investigate the root cause of this issue and to implement corrective measures to prevent further occurrences. The observations made during these inspections indicate a potential systemic issue that could affect the aircraft's performance during extreme weather conditions.",style:"verbose",label:"Frost Formation in Pneumatic Lines Post-Flight Inspection"}],100:[{date:"2021-02-28T14:30:00.000Z",role:"Design Office",name:"Julien Boucher",description:"Review of report 000. Frost in pneumatic lines noted. Insulation issue likely. Need to check insulation material specs. Recommend deeper investigation into insulation used in A220-300-3100.",style:"not fully fluent",label:"Initial Analysis of Frost Formation"},{date:"2021-02-28T15:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Need data on electrical system interactions with pneumatic lines. Check if frost affects electrical components. Request details on any electrical failures linked to frost.",style:"not fully fluent",label:"Request for Electrical System Input"},{date:"2021-02-28T15:30:00.000Z",role:"Design Office Expert Hydro",name:"Marc Lefebvre",description:"Investigate if hydraulic systems are impacted by frost in pneumatic lines. Need to know if there are any hydraulic failures reported. Check for correlation between frost and hydraulic performance.",style:"not fully fluent",label:"Request for Hydraulic System Input"},{date:"2021-03-01T09:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Provided data on electrical system. No failures reported. Insulation specs confirmed below requirements. Need to upgrade insulation material. Awaiting hydro system data.",style:"not fully fluent",label:"Response to Requests"},{date:"2021-03-01T10:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc Lefebvre",description:"Hydraulic system not directly impacted by frost. No failures linked. Recommend monitoring during extreme weather. Focus on insulation upgrade for pneumatic lines.",style:"not fully fluent",label:"Hydraulic System Analysis"},{date:"2021-03-01T11:00:00.000Z",role:"Design Office",name:"Julien Boucher",description:"Insulation material under-specified. Recommend immediate upgrade to higher spec insulation. Plan for re-insulation of affected units. Monitor frost alerts during seasonal operations. Preventive measures needed to avoid system failure.",style:"not fully fluent",label:"Final Analysis and Recommendations"}],200:[{date:"2021-03-02T10:15:00.000Z",role:"Design Manager",name:"Mathieu Gagnon",description:`### Analysis Summary
The investigation into frost formation in pneumatic lines has identified a critical insulation deficiency. The current insulation material does not meet the required specifications, leading to moisture accumulation and subsequent frost build-up, particularly in extreme temperature conditions.

### Action Plan
1. **Immediate Upgrade**: Initiate the upgrade of insulation materials for all affected units, specifically targeting the A220-300-3100 series.
2. **Monitoring Protocol**: Implement a monitoring protocol for frost alerts during seasonal operations to preemptively address potential system failures.
3. **Supplier Engagement**: Engage with Parker Hannifin to ensure compliance with insulation specifications and address any potential supplier-related issues.

### Final Recommendation
Proceed with the proposed action plan to mitigate risks associated with pneumatic system inefficiencies. Continuous monitoring and timely upgrades are essential to maintain operational reliability and safety.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-03-02T12:30:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Stress Analysis Results
Conducted stress calculations on the A220-300-3100 pneumatic line insulation upgrade. Results indicate that current insulation material leads to increased thermal stress on pneumatic lines due to frost accumulation.

### Key Findings
- **Thermal Expansion**: Frost formation causes uneven thermal expansion, leading to potential structural fatigue.
- **Material Deficiency**: Current insulation material does not meet required specifications, increasing risk of failure.
- **Impact on System**: Frost accumulation affects pneumatic efficiency, leading to delayed flight control responses.

### Recommendations
1. **Upgrade Insulation**: Immediate upgrade to higher specification insulation material to mitigate thermal stress and prevent frost formation.
2. **Monitoring System**: Implement a continuous monitoring system for pneumatic lines to detect moisture levels and frost formation early.
3. **Supplier Compliance**: Ensure Parker Hannifin adheres to updated insulation specifications to prevent future occurrences.
4. **Review Structural Integrity**: Conduct a follow-up analysis post-insulation upgrade to confirm structural integrity and performance.

### Conclusion
The insulation upgrade is critical to maintain operational reliability and safety of the A220-300-3100. Immediate action required to prevent potential system failures.`,style:"not fully fluent",label:"Stress Analysis and Recommendations"},{date:"2021-03-02T14:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Response to Stress Office Findings
Received stress analysis results from Stress Office regarding insulation upgrade for A220-300-3100.

### Actions Taken
- Confirmed that insulation material specifications were below requirements.
- Initiated communication with Parker Hannifin regarding compliance with new specifications.
- Prepared for implementation of monitoring system for pneumatic lines.

### Next Steps
- Await feedback from Stress Office on any additional requirements.
- Coordinate with Design Office for insulation upgrade timeline.`,style:"not fully fluent",label:"Response to Stress Analysis"},{date:"2021-03-03T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Follow-Up on Insulation Upgrade
Received confirmation from Quality Controller on actions taken regarding insulation upgrade.

### Final Recommendations
1. **Insulation Upgrade**: Proceed with the insulation upgrade as per stress analysis recommendations.
2. **Implementation Timeline**: Establish a timeline for insulation replacement across all affected units.
3. **Post-Upgrade Analysis**: Schedule follow-up stress analysis post-upgrade to ensure compliance with structural integrity standards.
4. **Documentation**: Ensure all changes are documented and communicated to all relevant parties.

### Conclusion
Timely implementation of these recommendations is essential to maintain the safety and reliability of the A220-300-3100 pneumatic systems.`,style:"not fully fluent",label:"Final Recommendations and Follow-Up"}],400:[{date:"2021-03-04T10:30:00.000Z",role:"Stress Manager",name:"Julien Fortin",description:`### Analysis Summary
The stress analysis conducted on the A220-300-3100 pneumatic line insulation upgrade confirms the necessity of immediate action to address the identified insulation deficiencies. The current insulation material has been shown to contribute to thermal stress and frost accumulation, which poses significant risks to the operational efficiency of the pneumatic systems.

### Action Plan Validation
1. **Insulation Upgrade**: The recommendation to upgrade to higher specification insulation material is validated. This is crucial to mitigate thermal stress and prevent future frost formation.
2. **Monitoring System Implementation**: Establishing a continuous monitoring system for moisture and frost levels in pneumatic lines is essential. This will allow for early detection and intervention.
3. **Supplier Compliance**: Ongoing communication with Parker Hannifin is necessary to ensure adherence to the updated insulation specifications. Compliance must be verified to prevent recurrence of the issue.
4. **Post-Upgrade Analysis**: A follow-up stress analysis should be scheduled after the insulation upgrade to confirm structural integrity and performance improvements.

### Final Recommendation
Proceed with the insulation upgrade and monitoring system implementation as outlined. Timely execution of these actions is critical to maintain the safety and reliability of the A220-300-3100 pneumatic systems.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-03-05T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse des Causes
L'analyse a révélé que la formation de givre dans les lignes pneumatiques de l'A220-300-3100 est principalement due à une sous-spécification des matériaux isolants. **Causes internes** incluent des erreurs d'assemblage où les matériaux isolants n'ont pas été correctement spécifiés. **Causes externes** impliquent des défauts potentiels des fournisseurs, notamment Parker Hannifin, qui doivent être corrigés pour éviter des récurrences.

### Plan d'Action
1. **Mise à niveau de l'isolation** : Procéder immédiatement à la mise à niveau des matériaux isolants pour tous les unités affectées, en se concentrant sur la série A220-300-3100.
2. **Système de surveillance** : Mettre en place un système de surveillance continue pour détecter les niveaux d'humidité et la formation de givre dans les lignes pneumatiques.
3. **Conformité des fournisseurs** : Assurer une communication continue avec Parker Hannifin pour garantir le respect des nouvelles spécifications d'isolation.
4. **Analyse post-mise à niveau** : Planifier une analyse de suivi après la mise à niveau de l'isolation pour confirmer l'intégrité structurelle et les améliorations de performance.

### Recommandation Finale
Il est crucial de mettre en œuvre ces actions sans délai pour maintenir la sécurité et la fiabilité des systèmes pneumatiques de l'A220-300-3100. La mise en œuvre rapide de ces recommandations est essentielle pour prévenir les défaillances potentielles du système, réduire les coûts de production et garantir la navigabilité.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 24",nc_label:"Battery actuator degradation",nc_scenario_id:"ATA-24-44205b85ad183c32",nc_event_seed:23984,nc_event_date:"2022-03-30 11:50:55.872000+00:00",nc_event_id:"ATA-24-44205b85ad183c32-75f3",analysis_history:{"000":[{date:"2022-03-30T11:50:55.872Z",role:"Quality Controler",observation:"Performance tests indicating reduced charge retention Frequent low-charge",name:"Émile Tremblay",description:"Report regarding the observation of non-conformity related to battery actuator degradation. Specific observations include performance tests indicating reduced charge retention and frequent low-charge alerts during pre-flight checks. Noted issues with part number BT-220Z, serial 7890-POW from supplier EnergyCell Dynamics.",style:"verbose",label:"Battery Charge Retention Issues"}],100:[{date:"2022-03-30T12:00:00.000Z",role:"Design Office",name:"Julien Lavoie",description:`Analyzed the non-conformity report regarding battery actuator degradation. Key findings include:
- Progressive sulfation due to incorrect charging cycles.
- Insufficient oversight leading to premature wear.
- Critical impact on longevity and charge efficiency.

Recommended immediate actions:
1. Review charging protocols.
2. Implement regular monitoring of battery performance.
3. Engage with supplier EnergyCell Dynamics for material assessment.`,style:"skills limits",label:"Initial Analysis of Battery Degradation"},{date:"2022-03-30T14:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Conducted a technical review of current charging protocols. Identified:
- Lack of standardized charging cycles.
- Need for training on battery maintenance for operators.

Proposed actions:
1. Develop standardized charging procedures.
2. Schedule training sessions for operators on battery care.`,style:"skills limits",label:"Technical Review of Charging Protocols"},{date:"2022-03-30T16:00:00.000Z",role:"Design Office",name:"Julien Lavoie",description:`Consolidated findings from the technical review and initial analysis. Key recommendations include:
- Enhanced charging protocols to prevent sulfation.
- Regular performance monitoring to track battery health.
- Collaboration with EnergyCell Dynamics for material quality checks.

Next steps involve drafting a comprehensive action plan for implementation.`,style:"skills limits",label:"Consolidation of Findings"},{date:"2022-03-31T09:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:`Reviewed the proposed action plan from Design Office. Suggested:
- Inclusion of metrics to measure effectiveness of new protocols.
- Regular updates on battery performance post-implementation.

Action plan to be revised accordingly.`,style:"skills limits",label:"Feedback on Action Plan"},{date:"2022-03-31T11:00:00.000Z",role:"Design Office",name:"Julien Lavoie",description:`Finalized the action plan incorporating feedback from Quality Controler. The plan includes:
- Implementation of standardized charging protocols.
- Scheduled training for operators on battery maintenance.
- Regular performance monitoring with defined metrics.

Plan to be submitted for validation.`,style:"skills limits",label:"Finalization of Action Plan"}],200:[{date:"2022-04-01T10:30:00.000Z",role:"Design Manager",name:"Marc Gagnon",description:`Analysis of battery actuator degradation confirmed. Key points:
- Primary cause: progressive sulfation due to incorrect charging cycles (internal).
- Insufficient oversight led to premature wear (internal).
- External factors: material quality from supplier.

Action plan validated:
1. Standardized charging protocols to prevent sulfation.
2. Training sessions for operators on battery maintenance.
3. Regular performance monitoring with metrics.

Recommendations:
- Engage with EnergyCell Dynamics for material quality checks.
- Implement feedback loop for continuous improvement.

Focus on reducing costs and ensuring navigability.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-04-01T12:00:00.000Z",role:"Stress Office",name:"Mathieu Gagné",description:`Analyse des impacts structurels liés à la dégradation de l'actuator de batterie.

**Contexte :**
- La dégradation progressive des cellules de batterie due à la sulfation a été identifiée comme un problème critique.
- Les cycles de charge incorrects et le manque de surveillance ont contribué à une usure prématurée.

**Résultats des Calculs :**
- Modélisation effectuée avec MATLAB pour évaluer les impacts sur la structure de l'A220.
- Les résultats montrent une diminution de 20% de la durée de vie des batteries, ce qui pourrait entraîner des défaillances pendant les phases critiques de vol.
- Les charges appliquées sur les systèmes électroniques ont été analysées, indiquant des risques accrus de défaillance si la situation n'est pas corrigée.

**Recommandations :**
1. **Mise en œuvre de Protocoles de Charge Standardisés :**
 - Élaborer des procédures de charge précises pour éviter la sulfation.
2. **Surveillance Régulière des Performances :**
 - Mettre en place un système de suivi continu des performances des batteries.
3. **Collaboration avec le Fournisseur :**
 - Engager EnergyCell Dynamics pour une évaluation approfondie de la qualité des matériaux utilisés.
4. **Formation des Opérateurs :**
 - Organiser des sessions de formation pour assurer une manipulation correcte des batteries.

**Complément d'Information :**
- Aucune demande supplémentaire n'est nécessaire à ce stade, mais un suivi régulier est recommandé pour évaluer l'efficacité des mesures mises en place.`,style:"skills limits",label:"Analyse des Calculs de Stress pour la Dégradation de l'Actuator de Batterie"},{date:"2022-04-01T13:30:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:`Retour sur les résultats des calculs de stress effectués par le Stress Office.

**Observations :**
- Les recommandations sont pertinentes et alignées avec les besoins de navigabilité et de sécurité.
- Il est crucial de suivre l'impact des nouvelles procédures de charge sur la performance des batteries.

**Actions à Entreprendre :**
- Préparer un rapport de suivi pour évaluer l'efficacité des nouvelles mesures dans les 3 mois suivant leur mise en œuvre.`,style:"skills limits",label:"Feedback sur les Calculs de Stress"},{date:"2022-04-02T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagné",description:`Finalisation des recommandations suite aux retours du Quality Controller.

**Plan d'Action Consolidé :**
1. **Protocoles de Charge Standardisés :**
 - Développement et mise en œuvre immédiate.
2. **Surveillance des Performances :**
 - Mise en place d'un système de suivi avec des indicateurs de performance clés.
3. **Engagement avec le Fournisseur :**
 - Planification d'une réunion avec EnergyCell Dynamics pour discuter des matériaux.
4. **Formation des Opérateurs :**
 - Élaboration d'un calendrier de formation pour les opérateurs.

**Conclusion :**
- Ces mesures visent à garantir la sécurité et la fiabilité des systèmes de batterie sur l'A220, tout en minimisant les coûts associés à des remplacements prématurés.`,style:"skills limits",label:"Finalisation des Recommandations et Plan d'Action"}],400:[{date:"2022-04-03T11:00:00.000Z",role:"Stress Manager",name:"Louis Boucher",description:`**Analysis of Stress Calculations:**
- Reviewed structural impacts related to battery actuator degradation.
- Confirmed 20% decline in battery lifespan due to sulfation.
- Identified risks of failure during critical flight phases if not addressed.

**Action Plan Validation:**
1. **Standardized Charging Protocols:**
 - Immediate implementation to mitigate sulfation risks.
2. **Regular Performance Monitoring:**
 - Establish continuous tracking of battery health.
3. **Supplier Engagement:**
 - Schedule meeting with EnergyCell Dynamics for material quality review.
4. **Operator Training:**
 - Develop training schedule for proper battery handling.

**Conclusion:**
- These measures are essential to ensure safety and reliability of A220 battery systems, minimizing costs related to premature replacements.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-04-04T14:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`**Analyse Finale et Recommandations :**

**Contexte :**
- **Non-conformité :** Dégradation de l'actuator de batterie.
- **Cause primaire :** Sulfation progressive due à des cycles de charge incorrects (interne) et qualité des matériaux du fournisseur (externe).

**Impact :**
- Réduction de 20% de la durée de vie des batteries, impactant la navigabilité et nécessitant des remplacements fréquents.
- Coût estimé à 30 $ par unité pour le remplacement prématuré des batteries.

**Plan d'Action :**
1. **Protocoles de Charge Standardisés :**
 - Mise en œuvre immédiate pour prévenir la sulfation.
2. **Surveillance des Performances :**
 - Suivi continu de la santé des batteries avec des indicateurs clés.
3. **Engagement avec le Fournisseur :**
 - Réunion planifiée avec EnergyCell Dynamics pour évaluer la qualité des matériaux.
4. **Formation des Opérateurs :**
 - Calendrier de formation pour assurer une manipulation correcte des batteries.

**Synthèse et Mise en Consistance :**
- **Causes Internes :** Erreurs dans les cycles de charge et manque de surveillance.
- **Causes Externes :** Défauts potentiels des matériaux fournis par EnergyCell Dynamics.
- **Orientation Industrielle :** Priorité à la navigabilité et à la réduction des coûts de production.
- **Efficacité Temporelle :** Mise en place rapide des mesures pour minimiser les délais de production et garantir la conformité.

**Conclusion :**
- Les mesures proposées sont essentielles pour assurer la sécurité et la fiabilité des systèmes de batterie de l'A220, tout en minimisant les coûts associés aux remplacements prématurés. Un suivi régulier est recommandé pour évaluer l'efficacité des mesures mises en place.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Incorrect installation of rudder control cables",nc_scenario_id:"ATA-27-20f3e1e4ebe5102d",nc_event_seed:10859,nc_event_date:"2023-09-28 08:50:55.937000+00:00",nc_event_id:"ATA-27-20f3e1e4ebe5102d-91ff",analysis_history:{"000":[{date:"2023-09-28T08:50:55.937Z",role:"Quality Controler",observation:"Cable tension tests showing abnormal values",name:"Émile Lefebvre",description:`During routine cable tension tests, abnormal values were detected. 
This issue may indicate potential misrouting of control cables. 
Initial checks suggest that the cable in question is part number A220-442-902, serial CABLE-73459, supplied by ChordWorks Ltd. 
Further investigation is required to confirm the root cause and assess the impact on flight control systems.`,style:"skills limits",label:"Abnormal Cable Tension Observed"}],100:[{date:"2023-09-28T10:30:00.000Z",role:"Design Office",name:"Julien Tremblay",description:`Analyzed abnormal cable tension data. 
- Confirmed misrouting as likely cause. 
- Identified ambiguity in assembly instructions as primary factor. 
- Proposed further investigation into routing diagrams and assembly guidelines.`,style:"skills limits",label:"Initial Analysis of Cable Tension Issue"},{date:"2023-09-28T12:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Need confirmation on electrical routing for part A220-442-902. 
- Verify if current diagrams align with installed configuration. 
- Assess potential electrical interference due to misrouting.`,style:"skills limits",label:"Request for Electrical Routing Confirmation"},{date:"2023-09-28T14:00:00.000Z",role:"Quality Controler",name:"Émile Lefebvre",description:`Reviewed routing diagrams. 
- Found discrepancies in assembly instructions. 
- Recommended updating documentation to prevent future issues.`,style:"skills limits",label:"Response to Electrical Routing Confirmation Request"},{date:"2023-09-29T09:00:00.000Z",role:"Design Office",name:"Julien Tremblay",description:`Developed mitigation plan based on findings. 
- Reroute control cables per updated instructions. 
- Secure cables to eliminate tension variances. 
- Schedule retesting of cable tension post-correction.`,style:"skills limits",label:"Mitigation Plan Development"},{date:"2023-09-29T11:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:`Assessed potential impact on hydraulic systems due to cable misrouting. 
- Confirmed no direct interference with hydraulic lines. 
- Recommended monitoring during retesting phase.`,style:"skills limits",label:"Hydraulic System Impact Assessment"},{date:"2023-09-30T08:00:00.000Z",role:"Design Office",name:"Julien Tremblay",description:`Compiled final recommendations. 
- Implement rerouting and securing of cables. 
- Update assembly instructions to prevent recurrence. 
- Monitor cable tension during subsequent tests. 
- Document all changes for future reference.`,style:"skills limits",label:"Final Recommendations Submission"}],200:[{date:"2023-10-01T10:30:00.000Z",role:"Design Manager",name:"Antoine Boucher",description:`### Analysis Summary:
- Confirmed misrouting of control cables as primary issue.
- Identified ambiguity in assembly instructions as internal cause.
- No external factors affecting the routing were found.

### Action Plan:
1. **Reroute control cables** according to updated assembly instructions.
2. **Secure cables** to prevent tension variances.
3. **Retest cable tension** post-correction to ensure compliance.
4. **Update documentation** to reflect changes and prevent recurrence.
5. **Monitor cable performance** during subsequent tests for anomalies.

### Final Recommendation:
Proceed with the proposed action plan to mitigate risks associated with cable misrouting. Ensure all changes are documented for future reference.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-10-01T12:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Stress Analysis Results:
- Conducted initial stress calculations on the rerouted control cables.
- **Findings:**
 - Rerouting has introduced additional tension in specific segments.
 - Current cable materials meet operational standards but require monitoring.

### Recommendations:
1. **Monitor tension levels** post-installation to ensure compliance.
2. **Implement regular inspections** during flight tests to assess cable performance.
3. **Document all findings** for future reference.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2023-10-01T14:00:00.000Z",role:"Stress Office Expert",name:"Claire Tremblay",description:`### Request for Clarification:
- Need detailed specifications of the rerouted cable installation.
- Requesting confirmation on the materials used for the cables to assess stress limits.`,style:"skills limits",label:"Request for Additional Data"},{date:"2023-10-01T15:30:00.000Z",role:"Quality Controller",name:"Émile Lefebvre",description:`### Response:
- Provided detailed specifications of part A220-442-902.
- Confirmed materials used are compliant with industry standards.
- Included installation diagrams for reference.`,style:"skills limits",label:"Response to Data Request"},{date:"2023-10-02T09:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Final Analysis Summary:
- Completed stress calculations based on updated cable specifications.
- **Conclusions:**
 - Rerouted cables show acceptable stress levels under operational conditions.
 - No significant risk to structural integrity identified.

### Final Recommendations:
1. **Proceed with rerouting** as per updated assembly instructions.
2. **Implement monitoring protocols** during flight tests to ensure ongoing compliance.
3. **Update documentation** to reflect changes and findings.
4. **Schedule follow-up assessments** post-initial flights to evaluate long-term performance.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-10-03T11:00:00.000Z",role:"Stress Manager",name:"Gabriel Fortin",description:`### Analysis Summary:
- Reviewed stress calculations on rerouted control cables.
- Confirmed acceptable stress levels under operational conditions.
- No significant risk to structural integrity identified.

### Action Plan:
1. **Proceed with rerouting** as per updated assembly instructions.
2. **Implement monitoring protocols** during flight tests to ensure ongoing compliance.
3. **Update documentation** to reflect changes and findings.
4. **Schedule follow-up assessments** post-initial flights to evaluate long-term performance.

### Final Recommendation:
Proceed with the implementation of the action plan. Ensure all monitoring and documentation practices are strictly followed to mitigate any potential risks associated with cable routing.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-10-04T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Tremblay",description:`### Analyse des Causes
- **Cause Interne:** Ambiguïté dans les instructions d'assemblage identifiée comme la cause principale du mauvais routage des câbles de commande. 
- **Cause Externe:** Aucun facteur externe significatif n'a été identifié.

### Impact et Risques
- **Navigabilité:** Les variations de tension des câbles peuvent affecter la réponse du gouvernail, compromettant la sécurité en vol.
- **Coûts:** Les rectifications nécessaires pourraient entraîner des pénalités de temps d'arrêt allant jusqu'à 100,000 $.

### Plan d'Action
1. **Reroutage des câbles:** Suivre les instructions d'assemblage mises à jour pour corriger le routage des câbles.
2. **Sécurisation des câbles:** Assurer une fixation adéquate pour éliminer les variations de tension.
3. **Retests:** Effectuer des tests de tension des câbles après correction pour garantir la conformité.
4. **Mise à jour de la documentation:** Modifier les instructions d'assemblage pour éviter les récidives.
5. **Surveillance continue:** Mettre en place des protocoles de surveillance pendant les tests en vol pour détecter toute anomalie.
6. **Évaluations de suivi:** Planifier des évaluations après les premiers vols pour évaluer la performance à long terme.

### Recommandation Finale
Procéder avec la mise en œuvre du plan d'action proposé. Assurer une documentation rigoureuse de toutes les modifications et pratiques de surveillance pour atténuer les risques potentiels liés au routage des câbles. Cette approche garantit la navigabilité, la fiabilité et la conformité des systèmes de commande de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 24",nc_label:"Backend connectivity loss in avionics network",nc_scenario_id:"ATA-24-a5f518bad3fe83c",nc_event_seed:27364,nc_event_date:"2021-11-09 15:50:55.831000+00:00",nc_event_id:"ATA-24-a5f518bad3fe83c-5753",analysis_history:{"000":[{date:"2021-11-09T15:50:55.831Z",role:"Quality Controler",observation:"Loss of data packets identified during routine maintenance checks",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:

- Loss of data packets observed during routine maintenance.
- Specific issues noted in the NW-220C component, serial number 9012-AVCN, supplied by DataLink Tech.
- Initial findings indicate potential connectivity issues affecting avionics performance.
- Further investigation required to assess the full impact on system operations.`,style:"verbose",label:"Data Packet Loss in A220 Systems"}],100:[{date:"2021-11-09T16:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analysis of reported data packet loss in A220 systems.

- Identified faulty configuration of network routers as primary cause.
- Insufficient validation of update protocols noted.
- Impact on avionics performance significant; potential for operational anomalies.
- Recommend immediate review of software update protocols.`,style:"skills limits",label:"Initial Analysis of Data Packet Loss"},{date:"2021-11-09T17:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Leblanc",description:`Conducted a technical review of electrical systems related to data communication.

- Confirmed that NW-220C component is critical for data transmission.
- Suggested further testing of component under various operational scenarios.
- Recommend collaboration with Quality Controler for additional data.`,style:"skills limits",label:"Technical Review of Electrical Systems"},{date:"2021-11-09T18:15:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Received request from Design Office for more information.

- Compiled detailed logs of data packet loss incidents.
- Identified specific flight operations affected.
- Recommend further investigation into router configurations.`,style:"skills limits",label:"Provide Additional Data on Connectivity Issues"},{date:"2021-11-10T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated findings from previous analyses.

- Faulty router configurations confirmed as root cause.
- Immediate mitigation: revert to previous stable software version.
- Long-term recommendation: enhance validation protocols for software updates.
- Monitor network configuration error detection rate; currently at 7%.`,style:"skills limits",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2021-11-11T10:30:00.000Z",role:"Design Manager",name:"Émile Fortin",description:`### Analysis Summary
- Confirmed faulty configuration of network routers as primary cause of data packet loss.
- Insufficient validation of software update protocols noted.

### Action Plan
- Immediate action: revert to previous stable software version to restore data communications.
- Long-term action: enhance validation protocols for software updates to prevent recurrence.
- Monitor network configuration error detection rate; currently at 7%.

### Final Recommendation
- Prioritize thorough testing of NW-220C component under various operational scenarios.
- Collaborate with Quality Control for ongoing data collection and analysis.
- Ensure all updates undergo rigorous validation before implementation to safeguard avionics performance.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-11T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Stress Analysis Results
- Conducted preliminary stress calculations on the NW-220C component following the identified router configuration issues.
- Evaluated the impact of faulty data transmission on structural integrity.
- No immediate structural failures detected; however, potential long-term effects on component reliability noted.

### Recommendations
- **Immediate Action**: Implement a temporary reversion to the previous stable software version to mitigate risks during further testing.
- **Long-term Action**: Enhance monitoring of data transmission integrity and router configurations.
- **Further Testing**: Recommend conducting detailed stress tests under various operational scenarios to ensure component resilience.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2021-11-11T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request for Additional Data
- Following the initial stress analysis, further data is required to assess the impact of the faulty configurations on the NW-220C component.
- Specific logs of data packet loss incidents during flight operations are needed for a comprehensive evaluation.
- Collaborate with Design Office for historical performance data of the component under various operational conditions.`,style:"skills limits",label:"Request for Additional Data"},{date:"2021-11-12T09:30:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Follow-up Stress Analysis Results
- Received additional data from Quality Controller regarding data packet loss incidents.
- Conducted a detailed analysis incorporating the new data.
- Identified that prolonged data communication failures could lead to structural stress concentrations in the NW-220C component.

### Recommendations
- **Immediate Action**: Ensure that the temporary software reversion is implemented without delay.
- **Long-term Action**: Develop a robust validation protocol for future software updates to prevent recurrence of similar issues.
- **Monitoring**: Establish a continuous monitoring system for data integrity and router configurations to detect anomalies early.`,style:"skills limits",label:"Follow-up Stress Analysis"},{date:"2021-11-12T15:00:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Boucher",description:`### Final Stress Analysis and Recommendations
- Concluded that the faulty router configurations pose a significant risk to the NW-220C component's performance and structural integrity.
- Recommended a thorough review of all network configurations and software update protocols.

### Action Plan
- **Immediate Action**: Implement the temporary software reversion and monitor its effects on data transmission.
- **Long-term Action**: Collaborate with the Design Office to enhance software validation processes and ensure rigorous testing of the NW-220C component under varied operational scenarios.
- **Cost Implications**: Highlighted potential rectification costs of up to $100,000 if issues are not addressed promptly.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-11-13T10:45:00.000Z",role:"Stress Manager",name:"Émile Gagnon",description:`### Analysis Summary
- Confirmed that the faulty configuration of network routers significantly impacts the NW-220C component's performance.
- Stress analysis indicates potential long-term reliability issues due to data communication failures.

### Action Plan
- **Immediate Action**: Implement the temporary reversion to the previous stable software version without delay to restore data communications.
- **Long-term Action**: Collaborate with the Design Office to enhance validation protocols for software updates, ensuring rigorous testing of the NW-220C component under various operational scenarios.
- **Monitoring**: Establish a continuous monitoring system for data integrity and router configurations to detect anomalies early.

### Final Recommendation
- Prioritize the review of all network configurations and update protocols to prevent recurrence of similar issues.
- Highlighted potential rectification costs of up to $100,000 if issues are not addressed promptly.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-14T13:20:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale
- **Cause Primaire** : Configuration incorrecte des routeurs réseau lors d'une mise à jour logicielle de routine, impactant les systèmes A220.
- **Causes Internes** : Validation insuffisante des protocoles de mise à jour logicielle.
- **Causes Externes** : Aucune cause externe identifiée dans ce contexte spécifique.

### Impact et Risques
- **Impact** : Perturbations possibles des communications de données des composants, affectant l'avionique pendant les opérations de vol.
- **Risque** : Échec des communications de données pouvant entraîner des anomalies de navigation et d'exploitation.
- **Coût** : Coûts de rectification pouvant atteindre 100 000 $ en raison de la reprogrammation et des tests intensifs en main-d'œuvre.

### Plan d'Action
- **Action Immédiate** : Revenir à la version logicielle stable précédente pour rétablir la stabilité temporaire des communications de données.
- **Action à Long Terme** : Améliorer les protocoles de validation des mises à jour logicielles pour éviter la récurrence.
- **Surveillance** : Mettre en place un système de surveillance continue pour l'intégrité des données et les configurations des routeurs.

### Recommandation Finale
- **Priorité** : Tester rigoureusement le composant NW-220C dans divers scénarios opérationnels.
- **Collaboration** : Travailler avec le Contrôle Qualité pour la collecte et l'analyse continues des données.
- **Optimisation** : Intégrer des étapes d'analyse optimisées et des moyens de détection rapide pour réduire les délais de production.

### Conclusion
Assurer la navigabilité, la fiabilité et la conformité des produits en adoptant une approche réaliste et contextualisée à l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Flap performance misalignment",nc_scenario_id:"ATA-24-19a85c183a32fa7",nc_event_seed:35995,nc_event_date:"2020-11-15 00:50:55.878000+00:00",nc_event_id:"ATA-24-19a85c183a32fa7-de02",analysis_history:{"000":[{date:"2020-11-15T00:50:55.878Z",role:"Quality Controler",observation:"Abnormal noises detected during function checks",name:"Julien Tremblay",description:`Observation of abnormal noises during function checks of the flap deployment system. 

Specific issues noted: 
- Potential misalignment of flap actuator. 
- Uneven charge retention observed. 

Affected part: 
- Part Number: A220-7890-3063 
- Serial: 7890-POW 
- Supplier: EnergyCell Dynamics`,style:"concise and precise",label:"Flap Performance Anomaly"}],100:[{date:"2020-11-15T10:00:00.878Z",role:"Design Office",name:"Alexandre Gagnon",description:`Upon reviewing the initial report submitted by Quality Controler Julien Tremblay, it has become apparent that the flap performance anomaly is primarily attributed to the misalignment of the flap actuator, which is likely a consequence of improper calibration of the assembly jig used during installation. 

The abnormal noises detected during function checks suggest that the actuator may not be operating within the intended parameters, leading to uneven charge retention and potential asymmetry in flap deployment. This misalignment could adversely affect the aircraft's aerodynamic performance, potentially leading to increased pilot workload and safety concerns. 

To address this issue, I recommend the following actions:
1. Conduct a thorough inspection of the assembly jigs used for the flap actuator installation to verify their calibration status.
2. Implement a recalibration process for all affected jigs to ensure proper alignment of the flap actuators.
3. Develop a training module for technicians involved in the flap actuator installation process to emphasize the importance of precise calibration and alignment.
4. Initiate a monitoring program to track flap function checks, focusing on alignment anomalies to prevent future occurrences.`,style:"verbose",label:"Initial Analysis of Flap Performance Misalignment"}],200:[{date:"2020-11-16T09:30:00.878Z",role:"Design Manager",name:"Mathieu Boucher",description:`The flap performance anomaly reported is attributed to misalignment of the flap actuator due to improper calibration of the assembly jig. Abnormal noises during function checks indicate potential operational issues, leading to uneven charge retention and possible aerodynamic inefficiencies.

**Recommended Actions:**
1. Inspect and verify calibration of assembly jigs for flap actuator installation.
2. Recalibrate all affected jigs to ensure proper alignment.
3. Develop training for technicians on calibration importance.
4. Implement monitoring of flap function checks to identify alignment anomalies.

This approach aims to enhance operational reliability and prevent future discrepancies, ensuring compliance with navigability standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2020-11-17T10:00:00.878Z",role:"Stress Office",name:"Marc Dupuis",description:`### Résultats de l'Analyse de Stress

Après avoir effectué les calculs de stress sur la structure du système de déploiement des volets, les résultats indiquent que la misalignment du flap actuator pourrait entraîner des contraintes supplémentaires sur les composants adjacents. Les points critiques identifiés sont :

1. **Concentration de Stress** : Des zones de concentration de stress ont été observées au niveau des fixations du flap actuator, augmentant le risque de fatigue prématurée.
2. **Impact sur la Navigabilité** : La déviation des paramètres de fonctionnement peut affecter l'aérodynamisme de l'appareil, entraînant une augmentation de la traînée et une diminution de l'efficacité énergétique.
3. **Coûts de Production** : Si la situation n'est pas rectifiée rapidement, les coûts de production liés aux remplacements et aux ajustements futurs pourraient atteindre jusqu'à 200 000 $ par unité.

### Recommandations

Pour atténuer ces risques, les actions suivantes sont recommandées :
- **Recalibrage Immédiat** : Procéder au recalibrage des jigs d'assemblage utilisés pour l'installation des flap actuators afin d'assurer un alignement correct.
- **Inspection des Composants** : Effectuer une inspection approfondie des fixations et des composants adjacents pour détecter toute usure ou dommage causé par la misalignment.
- **Formation Renforcée** : Mettre en place des sessions de formation pour les techniciens sur l'importance de la calibration précise et de l'alignement lors de l'installation.
- **Suivi des Anomalies** : Établir un programme de suivi des performances des volets pour détecter rapidement toute anomalie future.

Ces mesures visent à garantir l'intégrité structurelle de l'A220 et à prévenir des problèmes de navigabilité à long terme.`,style:"concise and precise",label:"Analyse des Calculs de Stress pour le Flap Performance Misalignment"}],400:[{date:"2020-11-18T11:15:00.878Z",role:"Stress Manager",name:"Émile Fortier",description:`### Stress Analysis Validation

Following the stress calculations performed on the flap deployment system, it is confirmed that the misalignment of the flap actuator poses significant risks to structural integrity. The identified stress concentrations at the actuator mounting points could lead to premature fatigue and potential failure.

### Recommended Actions
1. **Immediate Recalibration**: Ensure recalibration of assembly jigs to restore proper alignment of the flap actuators.
2. **Component Inspection**: Conduct thorough inspections of adjacent components to identify any wear or damage due to misalignment.
3. **Enhanced Training**: Implement training sessions for technicians focusing on the critical nature of precise calibration and alignment during installation.
4. **Performance Monitoring**: Establish a monitoring program for flap performance to quickly identify any future anomalies.

These measures are essential to maintain the structural integrity of the A220 and to ensure long-term navigability compliance.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2020-11-19T14:45:00.878Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale et Recommandation

#### Contexte
L'anomalie de performance des volets de l'A220 est due à un désalignement de l'actionneur des volets, causé par une calibration incorrecte des gabarits d'assemblage. Les bruits anormaux détectés lors des vérifications fonctionnelles indiquent des problèmes potentiels de rétention de charge et d'efficacité aérodynamique.

#### Causes
- **Internes** :
 - Erreur de calibration des gabarits d'assemblage.
 - Manque de formation adéquate des techniciens sur l'importance de l'alignement précis.
- **Externes** :
 - Aucun défaut fournisseur ou facteur environnemental identifié.

#### Impact
- **Navigabilité** : Risque accru de fatigue structurelle et de non-conformité réglementaire.
- **Coûts** : Potentiel de coûts de rectification élevés, estimés à 200 000 $ par unité affectée.
- **Production** : Retards possibles dans les livraisons si non traité rapidement.

#### Plan d'Action
1. **Recalibrage Immédiat** :
 - Recalibrer tous les gabarits d'assemblage affectés pour assurer un alignement correct des actionneurs de volets.
2. **Inspection des Composants** :
 - Inspection approfondie des fixations et des composants adjacents pour détecter l'usure ou les dommages.
3. **Formation Renforcée** :
 - Sessions de formation pour les techniciens sur la calibration précise et l'alignement.
4. **Suivi des Performances** :
 - Mise en place d'un programme de suivi des performances des volets pour détecter rapidement toute anomalie future.

#### Synthèse
Les actions recommandées visent à garantir l'intégrité structurelle et la navigabilité de l'A220, tout en minimisant les coûts de production et les retards. Une approche proactive et systématique est essentielle pour maintenir la conformité et la fiabilité des produits.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 21",nc_label:"Malfunction AC temperature control in",nc_scenario_id:"ATA-21-60fc59c8b924c19c",nc_event_seed:12494,nc_event_date:"2023-07-22 05:50:56.071000+00:00",nc_event_id:"ATA-21-60fc59c8b924c19c-9345",analysis_history:{"000":[{date:"2023-07-22T05:50:56.071Z",role:"Quality Controler",observation:"Temperature crack noticeable during cabin checks",name:"Julien Tremblay",description:`Observation of a noticeable temperature crack during routine cabin checks. 

Specific issues noted include:
- Potential impact on airflow efficiency.
- Observations related to the duct system in the A220.

Immediate measures required to assess the extent of the crack and its implications on overall system performance.`,style:"verbose",label:"Temperature Crack Observation in A220 Cabin"}],100:[{date:"2023-07-22T06:30:56.071Z",role:"Design Office",name:"Marc Gagnon",description:"Analyzed the reported temperature crack in A220 cabin. Noted potential airflow efficiency issues. Recommend further investigation on duct material fatigue and airflow dynamics. Immediate assessment required.",style:"skills limits",label:"Initial Analysis of Temperature Crack"},{date:"2023-07-22T08:15:56.071Z",role:"Design Office Expert Elec",name:"Sophie Lefebvre",description:"Conducted review of stress sensor duct wiring. Found improper installation contributing to crack propagation. Recommend re-evaluation of wiring standards and installation procedures.",style:"skills limits",label:"Electrical Wiring Assessment"},{date:"2023-07-22T10:00:56.071Z",role:"Design Office",name:"Marc Gagnon",description:"Consolidated findings from electrical assessment. Emphasized need for improved quality control in duct material handling. Recommend immediate replacement of faulty components and enhanced monitoring.",style:"skills limits",label:"Consolidation of Findings"},{date:"2023-07-22T11:45:56.071Z",role:"Quality Controler",name:"Julien Tremblay",description:"Reviewed recommendations from Design Office. Suggested additional checks on duct integrity and airflow performance post-repair. Emphasized importance of passenger comfort.",style:"skills limits",label:"Feedback on Recommendations"},{date:"2023-07-22T14:00:56.071Z",role:"Design Office",name:"Marc Gagnon",description:"Finalized action plan based on feedback. Recommend: 1) Immediate replacement of duct components, 2) Enhanced quality control measures, 3) Regular monitoring of airflow efficiency post-repair. Ensure compliance with ATA 21 standards.",style:"skills limits",label:"Final Recommendations for Action Plan"}],200:[{date:"2023-07-23T15:30:56.071Z",role:"Design Manager",name:"Émile Gagnon",description:`**Analysis Summary:**
Temperature crack observed in A220 cabin, linked to airflow efficiency issues. Immediate action required to prevent further degradation.

**Action Plan:**
1. Replace faulty duct components.
2. Implement enhanced quality control for duct material.
3. Regular monitoring of airflow efficiency post-repair.

**Recommendations:**
- Ensure compliance with ATA 21 standards.
- Address improper installation of stress sensor duct wiring.
- Conduct thorough checks on duct integrity and airflow performance after repairs.

**Conclusion:**
Focus on immediate corrective actions to maintain passenger comfort and system efficiency. Structural impacts not assumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-07-24T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Conducted initial stress analysis on the A220 duct system following the reported temperature crack.

**Findings:**
- The crack appears to be linked to improper duct material fatigue and airflow dynamics.
- Stress concentrations were identified around the crack area, indicating potential for further propagation if not addressed.

**Recommendations:**
1. Immediate replacement of the affected duct components.
2. Enhanced monitoring of stress levels in the duct system post-repair.
3. Review and update installation procedures for stress sensor wiring to prevent future issues.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2023-07-24T12:00:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Gagnon",description:`Requested additional data from the Quality Controller regarding the history of duct inspections and previous repairs.

**Needed Information:**
- Detailed records of any prior duct repairs or replacements.
- Historical data on airflow efficiency measurements.
- Any previous non-conformance reports related to duct integrity.`,style:"skills limits",label:"Request for Additional Data"},{date:"2023-07-24T15:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Provided requested historical data on duct inspections and repairs.

**Data Provided:**
- Previous duct repairs were documented in 5 instances over the past 2 years.
- Airflow efficiency measurements indicated a decline of 15% in the last inspection prior to the crack report.
- No previous non-conformance reports specifically related to duct integrity were found.`,style:"skills limits",label:"Response to Data Request"},{date:"2023-07-25T10:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Completed final stress analysis incorporating additional data received.

**Analysis Summary:**
- The duct system exhibits significant stress under current operational conditions, exacerbated by the identified crack.
- Historical data confirms a trend of declining airflow efficiency, correlating with increased stress on duct components.

**Final Recommendations:**
1. Replace all affected duct components immediately to restore structural integrity.
2. Implement a robust quality control process for duct material handling and installation.
3. Schedule regular stress assessments and airflow efficiency checks post-repair to ensure compliance with ATA 21 standards.
4. Review and enhance training for installation teams to prevent improper wiring and assembly in the future.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-07-26T11:30:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`**Analysis Summary:**
The stress analysis confirms significant stress concentrations around the identified crack in the A220 duct system. Historical data indicates a decline in airflow efficiency, correlating with increased stress levels.

**Action Plan:**
1. Immediate replacement of all affected duct components to restore structural integrity.
2. Implement enhanced quality control measures for duct material handling and installation processes.
3. Schedule regular assessments of stress levels and airflow efficiency post-repair to ensure compliance with ATA 21 standards.
4. Review training protocols for installation teams to prevent future wiring issues.

**Conclusion:**
Focus on immediate corrective actions to maintain system efficiency and passenger comfort. Continuous monitoring is essential to prevent recurrence.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-07-27T14:45:00.000Z",role:"Quality Manager",name:"Luc Desrochers",description:`**Analyse des Causes :**

- **Probabilité et Causes Internes :**
 - Erreur d'assemblage : Mauvaise installation du câblage des capteurs de stress, augmentant le risque de fissuration.
 - Calibration inadéquate : Problèmes de contrôle qualité dans la manipulation des matériaux des conduits.

- **Causes Externes :**
 - Défauts fournisseurs : Matériaux des conduits fournis par ThermoTech Corp. présentant des signes de fatigue prématurée.

**Orientation Industrielle :**

- **Navigabilité et Résistance :**
 - Remplacement immédiat des composants de conduits affectés pour garantir l'intégrité structurelle et le confort des passagers.
 - Surveillance continue de l'efficacité du flux d'air après réparation pour assurer la conformité aux normes ATA 21.

- **Réduction des Coûts :**
 - Mise en œuvre de processus de contrôle qualité renforcés pour éviter des réparations coûteuses futures.
 - Formation améliorée des équipes d'installation pour minimiser les erreurs de câblage et d'assemblage.

**Efficacité Temporelle :**

- **Étapes d'Analyse Optimisées :**
 - Analyse rapide des niveaux de stress et de l'efficacité du flux d'air après réparation.
 - Utilisation de capteurs avancés pour une détection rapide des anomalies.

**Pertinence Industrielle :**

- **Approche Contextualisée :**
 - Assurer la fiabilité et la conformité des produits à l'industrie aéronautique en intégrant des pratiques de gestion de qualité robustes.
 - Collaboration continue avec les fournisseurs pour garantir la qualité des matériaux et prévenir les défauts futurs.

**Conclusion :**

- **Actions Immédiates :**
 - Remplacement et contrôle qualité des composants de conduits.
 - Surveillance et évaluation régulières pour maintenir l'efficacité et la sécurité du système.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 24",nc_label:"Voltage in in modules",nc_scenario_id:"ATA-24-c1fdba72f3ee9303",nc_event_seed:34703,nc_event_date:"2021-01-07 20:50:55.802000+00:00",nc_event_id:"ATA-24-c1fdba72f3ee9303-2827",analysis_history:{"000":[{date:"2021-01-07T20:50:55.802Z",role:"Quality Controler",observation:"Visible charring equipment malfunction noticed",name:"Julien Tremblay",description:"A significant observation has been made regarding the equipment associated with the A220 aircraft systems. Specifically, there is visible charring noted on the equipment, which raises concerns about potential malfunction and operational integrity. This observation was reported by a production technician and requires immediate attention to ensure that further implications do not arise. The affected component, identified by part number WH-220A and serial number 1234-ELEC, supplied by Acme Wiring, is under scrutiny due to these alarming signs of distress. It is imperative that a thorough investigation is conducted to ascertain the root cause of this charring and to evaluate the potential risks associated with continued operation of this equipment in its current state.",style:"verbose",label:"Equipment Malfunction Due to Visible Charring"}],100:[{date:"2021-01-08T09:15:00.000Z",role:"Design Office",name:"Marie Dupuis",description:`Review visible charring on WH-220A. 
- Charring indicates overheating. 
- Possible cause: poor thermal management. 
- Need to check connector integrity and wiring. 
- Recommend further investigation on thermal performance.`,style:"not fully fluent",label:"Initial Analysis of Equipment Malfunction"},{date:"2021-01-08T11:30:00.000Z",role:"Design Office Expert Elec",name:"Lucie Boucher",description:`Conduct tests on electrical connections. 
- Verify wiring quality and fit on power transistors. 
- Look for signs of wear or misapplication. 
- Report findings to Design Office.`,style:"not fully fluent",label:"Electrical Integrity Check"},{date:"2021-01-08T14:45:00.000Z",role:"Design Office Expert Hydro",name:"Marc Gagnon",description:`Evaluate thermal management systems. 
- Check if heat sinks are correctly applied. 
- Assess airflow around WH-220A. 
- Suggest improvements if necessary.`,style:"not fully fluent",label:"Thermal Management Assessment"},{date:"2021-01-08T16:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Confirm any previous incidents with WH-220A. 
- Gather data on operational conditions. 
- Ensure all documentation is available for review.`,style:"not fully fluent",label:"Provide Additional Information"},{date:"2021-01-09T10:00:00.000Z",role:"Design Office",name:"Marie Dupuis",description:`Based on findings: 
- Implement enhanced thermal management. 
- Reassess wiring connections on WH-220A. 
- Schedule regular inspections to prevent recurrence. 
- Document all changes and monitor voltage issue rate.`,style:"not fully fluent",label:"Consolidated Recommendations"}],200:[{date:"2021-01-10T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis and Action Plan Validation
- Reviewed findings from Design Office regarding WH-220A charring.
- Identified overheating as primary concern, linked to thermal management and connector integrity.

### Recommendations
- Implement enhanced thermal management strategies.
- Reassess and rework wiring connections on WH-220A to ensure proper fit.
- Schedule regular inspections to monitor voltage issues and prevent recurrence.
- Document all modifications and track voltage issue rates for ongoing evaluation.

### Conclusion
- Ensure all actions align with safety and operational integrity standards without presuming structural impacts at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-01-10T12:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Stress Analysis Results
- Conducted stress calculations on WH-220A component.
- Found overheating linked to thermal management issues.
- Voltage fluctuations observed in initial tests, affecting system integrity.

### Recommendations
- Implement reinforced thermal management solutions.
- Reassess connector fit and wiring integrity to prevent future failures.
- Suggest regular monitoring of voltage levels to ensure compliance with safety standards.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2021-01-10T14:00:00.000Z",role:"Stress Office Expert",name:"Émilie Fortin",description:`### Request for Information
- Need detailed operational conditions for WH-220A.
- Gather data on previous incidents and maintenance records.
- Ensure all relevant documentation is reviewed for comprehensive analysis.`,style:"not fully fluent",label:"Request for Additional Data"},{date:"2021-01-10T15:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Operational Data Submission
- Compiled data on WH-220A operational conditions.
- Previous incidents documented, including maintenance history.
- All information sent to Stress Office for further analysis.`,style:"not fully fluent",label:"Provide Operational Data"},{date:"2021-01-11T09:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Final Analysis Results
- Reviewed operational data and previous incidents.
- Confirmed overheating as primary cause of charring on WH-220A.
- Voltage issue rate of 5-15% indicates need for immediate action.

### Consolidated Recommendations
- Implement enhanced thermal management systems.
- Rework wiring connections to ensure proper fit and integrity.
- Schedule regular inspections and monitoring of voltage levels.
- Document all changes and track performance metrics for ongoing evaluation.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-01-12T11:30:00.000Z",role:"Stress Manager",name:"Alexandre Leblanc",description:`### Stress Analysis Review
- Reviewed final stress calculations on WH-220A.
- Confirmed overheating linked to inadequate thermal management and connector integrity.

### Action Plan Validation
- Enhanced thermal management solutions are critical.
- Rework wiring connections to ensure proper fit and prevent future failures.
- Regular inspections and monitoring of voltage levels are essential to maintain safety standards.

### Conclusion
- All recommendations align with operational integrity and safety protocols. Immediate implementation is necessary to mitigate risks.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-01-13T14:45:00.000Z",role:"Quality Manager",name:"Philippe Lavoie",description:`### Analyse Finale
- **Contexte** : Le composant WH-220A présente des signes de surchauffe, causant un charbonnage visible. Ce problème est principalement dû à une gestion thermique inadéquate et à une mauvaise intégrité des connecteurs.
- **Causes Internes** :
 - Erreur d'assemblage dans l'application des dissipateurs thermiques.
 - Mauvaise calibration des connexions électriques, entraînant des fluctuations de tension.
- **Causes Externes** :
 - Défauts potentiels des composants fournis par Acme Wiring.

### Plan d'Action
- **Gestion Thermique** :
 - Mettre en œuvre des solutions de gestion thermique renforcées pour éviter la surchauffe.
 - Vérifier l'application correcte des dissipateurs thermiques et améliorer la circulation d'air autour du composant.
- **Intégrité des Connexions** :
 - Réévaluer et retravailler les connexions de câblage pour assurer un ajustement correct et prévenir les défaillances futures.
 - Effectuer des tests réguliers de qualité des connexions électriques.
- **Surveillance et Inspections** :
 - Programmer des inspections régulières pour surveiller les niveaux de tension et prévenir les récidives.
 - Documenter toutes les modifications et suivre les taux de problèmes de tension pour une évaluation continue.

### Synthèse et Recommandations
- **Navigabilité et Sécurité** : Assurer que toutes les actions sont alignées avec les normes de sécurité et d'intégrité opérationnelle.
- **Réduction des Coûts** : Prioriser les actions qui minimisent les coûts de remplacement et de réassemblage.
- **Efficacité Temporelle** : Optimiser les étapes d'analyse et les moyens de détection pour réduire les délais de production.
- **Conclusion** : L'implémentation immédiate des recommandations est essentielle pour atténuer les risques et garantir la conformité aux standards industriels.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Slat system mechanical binding control passenger cabin",nc_scenario_id:"ATA-27-ad3eac0e1efb067",nc_event_seed:33771,nc_event_date:"2021-02-15 16:50:56.023000+00:00",nc_event_id:"ATA-27-ad3eac0e1efb067-284a",analysis_history:{"000":[{date:"2021-02-15T16:50:56.023Z",role:"Quality Controler",observation:"Passenger feedback indicating deployment in ground tests",name:"Julien Tremblay",description:`Report on non-conformity observation:
- Feedback from passengers during ground tests indicates issues with slat deployment.
- Irregularities noted during visual checks of slat system.
- Potential concerns with mechanical binding in the slat tracks.
- Immediate attention required to assess impact on safety and performance.
- Specific part involved: TS-220, Serial: SLAT-74571, Supplier: ThermoTech Inc.`,style:"not fully fluent",label:"Passenger Feedback on Slat Deployment Issues"}],100:[{date:"2021-02-15T17:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Preliminary review of passenger feedback on slat deployment issues. Noted irregularities in slat tracks. Immediate concern for mechanical binding. Recommend further investigation into lubrication quality and sensor functionality.",style:"elusive",label:"Initial Analysis of Slat System Non-Conformity"},{date:"2021-02-15T18:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lefebvre",description:"Need detailed analysis of slat tracks control system. Focus on sensor performance and wiring reliability. Essential to determine if electrical faults contribute to mechanical binding.",style:"elusive",label:"Request for Electrical System Assessment"},{date:"2021-02-15T19:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Investigate lubrication application process. Assess materials used and their compliance with operational standards. Critical to ensure proper lubrication to prevent slat binding.",style:"elusive",label:"Request for Lubrication Quality Review"},{date:"2021-02-16T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Provide detailed records of lubrication application history and sensor performance data. Essential for comprehensive analysis of slat system issues.",style:"elusive",label:"Response to Requests for Additional Information"},{date:"2021-02-16T15:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Based on feedback and additional data, recommend immediate relubrication of slat tracks. Implement sensor checks and adjustments. Monitor slat performance closely during subsequent flights. Ensure compliance with ATA 27 standards.",style:"elusive",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2021-02-17T11:30:00.000Z",role:"Design Manager",name:"Mathieu Boucher",description:`### Analysis Summary
- Reviewed passenger feedback and initial findings regarding slat deployment issues.
- Identified primary causes: faulty sensor performance and inadequate lubrication application.

### Action Plan
1. **Immediate Relubrication**: Initiate relubrication of slat tracks to restore functionality.
2. **Sensor Assessment**: Conduct thorough checks on sensor performance and wiring reliability.
3. **Monitoring Protocol**: Implement a monitoring system for slat performance during subsequent flights.
4. **Compliance Verification**: Ensure all actions align with ATA 27 standards.

### Final Recommendation
- Prioritize actions to mitigate risks of mechanical binding and ensure operational safety.
- Continuous evaluation of slat system performance is essential to prevent recurrence.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-02-17T15:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Stress Analysis Results
- Conducted stress calculations on the slat system post-lubrication.
- Evaluated impacts of mechanical binding and sensor malfunction on structural integrity.
- Findings indicate:
 - **Internal Causes**: Faulty sensor calibration affecting slat deployment accuracy.
 - **External Causes**: Inadequate lubrication leading to increased friction and potential jamming.

### Recommendations
1. **Immediate Action**: Ensure proper lubrication protocols are followed to prevent recurrence.
2. **Sensor Calibration**: Implement routine checks and recalibration of sensors to maintain operational reliability.
3. **Monitoring System**: Establish a continuous monitoring system for slat performance, focusing on deployment consistency.
4. **Documentation**: Maintain detailed records of lubrication and sensor performance to facilitate future analyses.

### Conclusion
- Ensure all modifications comply with ATA 27 standards to maintain navigability and structural integrity.`,style:"elusive",label:"Stress Analysis of Slat System"},{date:"2021-02-17T16:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request for Information
- Please provide detailed records of previous lubrication applications and sensor calibration history.
- Essential for validating stress analysis and ensuring comprehensive understanding of slat system performance.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-02-17T18:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Follow-up Analysis
- Awaiting response from Quality Control regarding lubrication and sensor data.
- Stress analysis remains pending until additional information is received to ensure accuracy.`,style:"elusive",label:"Follow-up on Data Request"},{date:"2021-02-18T09:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Data Submission
- Provided detailed records of lubrication applications and sensor calibration history.
- Data includes timestamps, materials used, and previous sensor performance metrics.`,style:"elusive",label:"Provision of Requested Data"},{date:"2021-02-18T10:30:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Final Analysis Results
- Completed stress calculations incorporating new data.
- Confirmed that inadequate lubrication and sensor issues significantly impact slat performance and safety.

### Consolidated Recommendations
1. **Enhanced Lubrication Protocols**: Standardize lubrication processes to prevent future failures.
2. **Regular Sensor Checks**: Establish a schedule for sensor performance evaluations to ensure accuracy.
3. **Training**: Provide training for maintenance personnel on proper lubrication techniques and sensor management.
4. **Compliance Monitoring**: Regular audits to ensure adherence to ATA 27 standards and operational safety.

### Conclusion
- Immediate implementation of recommendations is critical to maintaining aircraft safety and performance.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-02-19T11:45:00.000Z",role:"Stress Manager",name:"Émile Charbonneau",description:`### Analysis Summary
- Reviewed stress calculations and impact assessments on the slat system post-lubrication.
- Confirmed that inadequate lubrication and sensor faults significantly impair slat performance and safety.

### Action Plan
1. **Immediate Implementation**: Enforce enhanced lubrication protocols to mitigate risks of mechanical binding.
2. **Sensor Calibration Checks**: Schedule regular evaluations of sensor performance to ensure operational reliability.
3. **Training for Personnel**: Conduct training sessions for maintenance staff on proper lubrication techniques and sensor management.
4. **Compliance Audits**: Establish a routine audit process to verify adherence to ATA 27 standards.

### Final Recommendation
- Prioritize the execution of the action plan to ensure the safety and performance of the aircraft.
- Continuous monitoring and evaluation of slat system performance are essential to prevent future occurrences.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-02-20T14:37:00.000Z",role:"Quality Manager",name:"Luc Desrochers",description:`### Analyse des Causes
- **Causes Internes**: 
 - Calibration incorrecte des capteurs affectant la précision du déploiement des volets.
 - Application inadéquate de la lubrification entraînant un frottement accru et un risque de blocage mécanique.
- **Causes Externes**: 
 - Défauts de capteurs fournis par ThermoTech Inc.
 - Matériaux de lubrification non conformes aux standards opérationnels.

### Plan d'Action
1. **Protocole de Lubrification Amélioré**: 
 - Standardiser les processus de lubrification pour éviter les échecs futurs.
 - Utiliser des matériaux conformes aux normes ATA 27.
2. **Évaluations Régulières des Capteurs**: 
 - Mettre en place un calendrier pour les évaluations de performance des capteurs.
 - Recalibrer les capteurs pour maintenir la fiabilité opérationnelle.
3. **Formation du Personnel**: 
 - Former le personnel de maintenance sur les techniques de lubrification appropriées et la gestion des capteurs.
4. **Audits de Conformité**: 
 - Établir un processus d'audit régulier pour vérifier l'adhérence aux normes ATA 27.

### Recommandation Finale
- Prioriser l'exécution du plan d'action pour garantir la sécurité et la performance de l'appareil.
- Assurer un suivi continu et une évaluation des performances du système de volets pour prévenir les récurrences futures.

### Synthèse
- Les actions proposées visent à réduire les risques de blocage mécanique, à améliorer la navigabilité et à minimiser les coûts de production.
- Une approche proactive et optimisée est essentielle pour maintenir la fiabilité et la conformité des produits dans l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 26",nc_label:"Fire extinguisher bottle leak",nc_scenario_id:"ATA-26-c57edba9967be3",nc_event_seed:33939,nc_event_date:"2021-02-08 16:50:55.457000+00:00",nc_event_id:"ATA-26-c57edba9967be3-67ef",analysis_history:{"000":[{date:"2021-02-08T16:50:55.457Z",role:"Quality Controler",observation:"Visual inspection reveals liquid residue indicating leakage",name:"Julien Tremblay",description:"During the routine quality check, a visual inspection was conducted on the fire extinguisher bottle (Part Number: FE-245A, Serial: 851780, Supplier: Safety Collins, Inc.). The inspection revealed liquid residue on the exterior of the bottle, indicating a potential leakage issue. This observation raises concerns regarding the integrity of the fire suppression system and its compliance with safety standards.",style:"skills limits",label:"Fire Extinguisher Bottle Leak Detected"}],100:[{date:"2021-02-08T17:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Review of report 000 regarding leakage on fire extinguisher bottle (Part Number: FE-245A). 
- Confirmed visual inspection results. 
- Identified potential material defect as primary cause. 
- Need to assess impact on assembly timeline and safety compliance.`,style:"skills limits",label:"Initial Analysis of Fire Extinguisher Leak"},{date:"2021-02-08T18:00:00.000Z",role:"Design Office Expert Hydro",name:"Marie-Claude Boucher",description:`Request for detailed analysis of hydraulic implications due to potential fire extinguisher failure. 
- Need insights on fluid dynamics and pressure containment. 
- Urgent response required to align with assembly schedule.`,style:"skills limits",label:"Hydraulic System Assessment Request"},{date:"2021-02-09T09:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Received feedback from hydro expert. 
- Confirmed that leakage could compromise hydraulic system integrity. 
- Recommended immediate replacement of affected bottle to prevent assembly delays.`,style:"skills limits",label:"Follow-up on Hydro Analysis"},{date:"2021-02-09T10:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Consolidated findings and recommendations. 
- Immediate replacement of fire extinguisher bottle (FE-245A) is critical. 
- Ensure compliance with safety standards. 
- Monitor assembly process for any further delays. 
- Document all findings for future reference.`,style:"skills limits",label:"Final Recommendation and Action Plan"}],200:[{date:"2021-02-10T11:30:00.000Z",role:"Design Manager",name:"Émile Bouchard",description:`### Analysis Summary
- Confirmed leakage issue on fire extinguisher bottle (Part Number: FE-245A).
- Primary cause identified as material defect leading to micro-fracture.
- Urgent need for replacement to maintain safety compliance.

### Action Plan
- Immediate replacement of affected bottle to prevent assembly delays.
- Monitor assembly process closely to identify any further issues.
- Document all findings for future reference and compliance checks.

### Final Recommendation
- Prioritize replacement to ensure navigability and compliance with safety standards.
- Implement enhanced quality checks on supplier materials to prevent recurrence.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-02-10T14:30:00.000Z",role:"Stress Office",name:"Marc Lefebvre",description:`### Stress Analysis Summary
- Conducted initial stress calculations on the fire extinguisher bottle (Part Number: FE-245A).
- Evaluated the impact of the identified micro-fracture on pressure containment properties.
- Results indicate a critical risk of structural failure under operational pressure conditions.

### Recommendations
- Immediate replacement of the affected bottle is essential to ensure safety compliance.
- Recommend further investigation into supplier materials to prevent recurrence of defects.
- Suggest implementing enhanced quality control measures during assembly to mitigate risks.`,style:"skills limits",label:"Initial Stress Analysis on Fire Extinguisher Bottle"},{date:"2021-02-10T15:00:00.000Z",role:"Stress Office Expert",name:"Sophie Gagnon",description:`### Data Request
- Requesting detailed assembly conditions and handling procedures for the fire extinguisher bottle.
- Need information on environmental factors during assembly that may contribute to material stress.
- Urgent response required to complete stress analysis.`,style:"skills limits",label:"Request for Additional Data on Assembly Conditions"},{date:"2021-02-10T16:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Response to Stress Office
- Provided detailed documentation of assembly conditions for fire extinguisher bottle (FE-245A).
- Confirmed that standard operating procedures were followed during assembly.
- No external factors identified that could have contributed to the defect.`,style:"concise and precise",label:"Response to Data Request"},{date:"2021-02-11T09:00:00.000Z",role:"Stress Office",name:"Marc Lefebvre",description:`### Final Stress Analysis Results
- Completed comprehensive stress evaluation incorporating assembly data.
- Confirmed that the micro-fracture poses a significant risk to structural integrity under operational conditions.

### Action Plan
- Immediate replacement of the fire extinguisher bottle (FE-245A) is critical to ensure aircraft safety.
- Recommend conducting a thorough review of supplier quality assurance processes.
- Suggest implementing a more rigorous inspection protocol for critical components to enhance safety and compliance.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-02-12T11:00:00.000Z",role:"Stress Manager",name:"Émile Lefort",description:`### Analysis Summary
- Reviewed final stress analysis results for fire extinguisher bottle (Part Number: FE-245A).
- Confirmed critical risk of structural failure due to micro-fracture under operational conditions.

### Action Plan
- Immediate replacement of the affected bottle is essential to ensure compliance with safety standards.
- Recommend thorough investigation into supplier quality assurance processes to prevent recurrence of defects.
- Implement enhanced inspection protocols for critical components to mitigate risks.

### Final Recommendation
- Prioritize replacement to maintain aircraft safety and operational integrity.
- Document all findings and actions taken for future reference.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-02-13T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale
- **Problème identifié** : Fuite sur la bouteille d'extincteur (Numéro de pièce : FE-245A) due à une micro-fracture causée par un défaut matériel.
- **Causes internes** : Aucune erreur d'assemblage ou de calibration identifiée. Les procédures standard ont été respectées.
- **Causes externes** : Défaut de matériau fourni par Safety Collins, Inc., nécessitant une révision des processus d'assurance qualité du fournisseur.
- **Impact** : Risque critique pour l'intégrité structurelle sous conditions opérationnelles, pouvant entraîner des retards d'assemblage et des non-conformités de sécurité.

### Plan d'Action
- **Remplacement immédiat** de la bouteille affectée pour garantir la sécurité et la conformité.
- **Enquête approfondie** sur les processus de qualité du fournisseur pour éviter la récurrence des défauts.
- **Amélioration des contrôles qualité** : Mise en place de protocoles d'inspection renforcés pour les composants critiques.
- **Documentation complète** de toutes les actions et résultats pour référence future et vérifications de conformité.

### Recommandation Finale
- Prioriser le remplacement pour maintenir la sécurité et l'intégrité opérationnelle de l'appareil.
- Optimiser les étapes d'analyse et de détection pour réduire les délais de production et minimiser les coûts associés.
- Adopter une approche réaliste et contextualisée pour garantir la navigabilité, la fiabilité et la conformité des produits dans l'industrie aéronautique.`,style:"direct and synthetic",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Damage system aileron binding",nc_scenario_id:"ATA-27-e3a0d1c067d29297",nc_event_seed:15022,nc_event_date:"2023-04-07 21:50:55.995000+00:00",nc_event_id:"ATA-27-e3a0d1c067d29297-9aad",analysis_history:{"000":[{date:"2023-04-07T21:50:55.995Z",role:"Quality Controler",observation:"Routine analysis corrosion inspection slat movement",name:"Julien Tremblay",description:`Report regarding the observation of non-conformity:

- Specific observations noted during routine analysis.
- Corrosion detected on aileron tracks.
- Slat movement affected by binding issues.
- Initial measurements indicate potential operational risks.
- Issues observed on part A220-265-108, serial SLAT-24805 from supplier WingWorks Ltd.`,style:"elusive",label:"Corrosion Inspection on Slat Movement"}],100:[{date:"2023-04-08T09:15:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Conducted a detailed review of the corrosion issue on aileron tracks.
- Corrosion identified as a result of improper lubrication during storage.
- Binding observed in slat movement, potentially affecting operational reliability.
- Immediate action required to prevent further degradation.`,style:"concise and precise",label:"Initial Analysis of Non-Conformity"},{date:"2023-04-08T11:30:00.000Z",role:"Design Office Expert Hydro",name:"Marie-Claude Boucher",description:`Requesting insights on current lubrication techniques used during assembly.
- Need to evaluate if alternative lubricants could mitigate corrosion risks.
- Understanding of storage conditions is essential for future prevention.`,style:"concise and precise",label:"Request for Additional Information on Lubrication Methods"},{date:"2023-04-08T14:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided details on existing lubrication practices:
- Current lubricant specifications and application methods.
- Storage conditions reviewed, highlighting areas for improvement.`,style:"concise and precise",label:"Response to Request for Additional Information"},{date:"2023-04-09T10:45:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Proposed a refined lubrication technique to eliminate binding issues:
- Implement a corrosion-resistant lubricant with better performance in storage.
- Conduct training for assembly personnel on proper application methods.
- Schedule regular inspections to monitor slat movement and corrosion levels.`,style:"concise and precise",label:"Recommendation for Mitigation Plan"},{date:"2023-04-09T15:20:00.000Z",role:"Design Manager",name:"Sophie Lemieux",description:`Reviewed and approved the proposed mitigation plan:
- Emphasized the importance of immediate implementation.
- Suggested follow-up assessments post-implementation to ensure effectiveness.`,style:"concise and precise",label:"Validation of Mitigation Plan"}],200:[{date:"2023-04-10T10:30:00.000Z",role:"Design Manager",name:"Émilie Fortin",description:`### Analysis Summary:
- Corrosion on aileron tracks due to improper lubrication during storage.
- Binding issues affecting slat movement, posing operational risks.

### Action Plan:
- Implement corrosion-resistant lubricant with enhanced storage performance.
- Train assembly personnel on correct application techniques.
- Schedule regular inspections for slat movement and corrosion monitoring.

### Recommendation:
- Immediate implementation of the proposed plan is crucial.
- Follow-up assessments post-implementation to ensure effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-04-11T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Stress Analysis Overview:
- Conducted a detailed stress analysis on the aileron tracks affected by corrosion due to improper lubrication.
- Utilized advanced modeling techniques in MATLAB to simulate the operational loads and assess the structural integrity of the aileron system.
- Evaluated the impact of binding on slat movement, which could potentially lead to operational failures.

### Findings:
- The corrosion observed has resulted in a significant reduction in the frictional resistance of the aileron tracks, which is critical for reliable slat deployment.
- The analysis indicates that the current lubrication practices are insufficient, leading to increased wear and potential jamming during flight operations.

### Recommendations:
- Implement the proposed corrosion-resistant lubricant immediately to enhance performance and reduce the risk of binding.
- Conduct training sessions for assembly personnel to ensure proper application techniques are followed, thereby minimizing future risks.
- Schedule regular inspections every 100 flight hours to monitor slat movement and corrosion levels, ensuring early detection of any issues.
- Consider a redesign of the lubrication application process to incorporate automated systems that ensure consistent application and reduce human error.`,style:"verbose",label:"Initial Stress Analysis"},{date:"2023-04-11T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requesting further details on the specific lubrication techniques currently in use and any historical data on previous corrosion incidents related to the A220 aileron tracks. This information is crucial for understanding the extent of the issue and ensuring comprehensive mitigation strategies.",style:"concise and precise",label:"Request for Additional Data"},{date:"2023-04-12T10:30:00.000Z",role:"Stress Office Expert",name:"Sophie Lemieux",description:`### Follow-up Analysis:
- Analyzed the additional data provided by the Quality Controller regarding lubrication techniques and historical corrosion incidents.
- Identified specific patterns in the lubrication application that correlate with increased corrosion rates, particularly during extended storage periods.

### Revised Recommendations:
- In addition to the previous recommendations, implement a more rigorous quality control process during the lubrication application phase to ensure compliance with the updated standards.
- Develop a feedback loop with assembly personnel to continuously improve lubrication practices based on operational feedback and inspection results.
- Propose a long-term study to monitor the effectiveness of the new lubrication techniques over a series of flight cycles, ensuring that the modifications lead to sustained improvements in performance and reliability.`,style:"verbose",label:"Follow-up Analysis Based on Additional Data"},{date:"2023-04-13T09:45:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Final Assessment:
- Completed a comprehensive stress assessment incorporating all findings and recommendations from previous analyses.
- Confirmed that the implementation of the corrosion-resistant lubricant, along with improved application techniques, will significantly enhance the structural integrity and operational reliability of the aileron tracks.

### Consolidated Action Plan:
1. **Immediate Implementation**:
 - Apply the new corrosion-resistant lubricant to all affected aileron tracks.
 - Conduct training for assembly personnel on the updated application techniques.
2. **Regular Inspections**:
 - Schedule inspections every 100 flight hours to monitor slat movement and corrosion levels.
3. **Quality Control Enhancements**:
 - Establish a rigorous quality control process during lubrication application.
 - Create a feedback mechanism for continuous improvement.
4. **Long-term Monitoring**:
 - Initiate a study to evaluate the effectiveness of the new lubrication techniques over time.

### Conclusion:
- The proposed actions are expected to mitigate the risks associated with corrosion and binding issues, ensuring enhanced safety and performance of the A220 aircraft.`,style:"verbose",label:"Final Stress Assessment and Consolidated Action Plan"}],400:[{date:"2023-04-14T11:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`### Analysis Summary:
- The stress analysis confirmed that the corrosion on the aileron tracks significantly impacts the frictional resistance, which is crucial for reliable slat deployment.
- Binding issues observed could lead to operational failures, particularly during critical phases of flight.

### Action Plan Validation:
1. **Immediate Implementation**:
 - The application of a corrosion-resistant lubricant is essential to enhance performance and mitigate binding risks.
 - Training for assembly personnel on correct application techniques is crucial to ensure compliance and effectiveness.
2. **Regular Inspections**:
 - Inspections every 100 flight hours will be scheduled to monitor slat movement and corrosion levels, ensuring early detection of potential issues.
3. **Quality Control Enhancements**:
 - A rigorous quality control process during lubrication application will be established to maintain updated standards.
 - A feedback mechanism for continuous improvement will be created to refine lubrication practices based on operational feedback.
4. **Long-term Monitoring**:
 - A study will be initiated to evaluate the effectiveness of the new lubrication techniques over time, ensuring sustained improvements in performance and reliability.

### Conclusion:
- The proposed actions are expected to significantly reduce the risks associated with corrosion and binding issues, thereby enhancing the safety and operational reliability of the A220 aircraft.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-04-15T15:45:00.000Z",role:"Quality Manager",name:"François Bouchard",description:`### Analyse des Causes
- **Probabilité et Causes Réalistes**: La corrosion sur les rails d'aileron est principalement due à une lubrification inadéquate pendant le stockage, exacerbée par des conditions environnementales non contrôlées.
- **Causes Internes**: Erreur d'assemblage liée à l'application incorrecte de lubrifiant.
- **Causes Externes**: Défauts de lubrifiants fournis, non adaptés aux conditions de stockage prolongé.

### Plan d'Action
1. **Implémentation Immédiate**:
 - Utiliser un lubrifiant résistant à la corrosion sur tous les rails d'aileron affectés.
 - Former le personnel d'assemblage aux nouvelles techniques d'application.

2. **Inspections Régulières**:
 - Programmer des inspections toutes les 100 heures de vol pour surveiller le mouvement des volets et les niveaux de corrosion.

3. **Améliorations du Contrôle Qualité**:
 - Établir un processus rigoureux de contrôle qualité pendant l'application de la lubrification.
 - Créer un mécanisme de retour d'information pour une amélioration continue.

4. **Surveillance à Long Terme**:
 - Initier une étude pour évaluer l'efficacité des nouvelles techniques de lubrification sur le long terme.

### Recommandation Finale
- **Réduction des Coûts**: La mise en œuvre rapide de ces actions est cruciale pour éviter des coûts de maintenance élevés et des retards opérationnels.
- **Efficacité Temporelle**: Optimiser les étapes d'analyse et utiliser des moyens de détection rapide pour réduire les délais de production.
- **Pertinence Industrielle**: Ces mesures garantiront la navigabilité, la fiabilité et la conformité des A220, tout en minimisant les risques opérationnels et financiers.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Inaccurate temperature sensor readings due to calibration drift",nc_scenario_id:"ATA-30-d16459268f2791bf",nc_event_seed:17135,nc_event_date:"2023-01-09 20:50:55.360000+00:00",nc_event_id:"ATA-30-d16459268f2791bf-0f92",analysis_history:{"000":[{date:"2023-01-09T20:50:55.360Z",role:"Quality Controler",observation:"Flight crew reports inconsistent ice warning indications",name:"Julien Tremblay",description:`Report regarding the non-conformity observed:
- Flight crew has reported inconsistent indications from the ice warning system.
- Potential discrepancies noted during recent flights.
- Affected aircraft: A220-300, Serial Number: SN-93428581, Supplier: Honeywell Aerospace.
- Immediate attention required to investigate the root cause.`,style:"concise and precise",label:"Inconsistent Ice Warning Indications"}],100:[{date:"2023-01-09T21:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the report submitted by Quality Controller Julien Tremblay, it is evident that there are significant inconsistencies in the ice warning indications reported by the flight crew of the A220-300, Serial Number: SN-93428581. The discrepancies in the ice detection system could potentially stem from calibration drift in the temperature sensors utilized within the system. 

To address this issue, I recommend conducting a thorough investigation into the calibration protocols currently in place for the temperature sensors. This includes:
- Reviewing the existing calibration schedule and protocols to identify any gaps that may have contributed to the drift.
- Engaging with the de-icing supplier to understand their QA processes and how they manage sensor calibration.
- Analyzing historical data on temperature sensor performance to identify trends in drift, particularly focusing on the 500 flight-hour mark where increased drift has been noted.

This analysis will help in formulating a comprehensive plan of action to mitigate the risks associated with inaccurate ice detection.`,style:"verbose",label:"Initial Analysis of Ice Warning System Discrepancies"},{date:"2023-01-10T09:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Roy",description:`In light of the initial analysis conducted by Marc Gagnon, it is imperative to delve deeper into the technical aspects of the temperature sensor calibration protocols. 

I am requesting a detailed evaluation of the following:
- Current calibration procedures employed during manufacturing and their adherence to industry standards.
- Historical performance data of the sensors used in the A220-300, specifically focusing on any documented instances of calibration drift.
- Recommendations for enhancing the calibration protocols to prevent future discrepancies in ice detection.

This information will be crucial in determining the root cause of the inconsistencies reported and will aid in developing a robust mitigation plan.`,style:"verbose",label:"Request for Technical Evaluation of Sensor Calibration Protocols"},{date:"2023-01-11T14:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Following the technical evaluation conducted by Sophie Roy, several key findings have emerged regarding the calibration protocols of the temperature sensors. 

The analysis indicates that:
- The existing calibration procedures lack sufficient frequency and rigor, leading to gradual drift that was not adequately monitored during the manufacturing QC processes.
- Recommendations for an enhanced calibration schedule have been proposed, which include:
 - Implementing more frequent calibration checks, particularly after every 500 flight hours.
 - Establishing a feedback loop with the de-icing supplier to ensure continuous monitoring and adjustment of calibration protocols.
 - Training for QC personnel to recognize early signs of calibration drift.

These recommendations aim to significantly reduce the risk of inaccurate ice detection and enhance the overall reliability of the ice protection system.`,style:"verbose",label:"Consolidation of Technical Findings and Mitigation Recommendations"}],200:[{date:"2023-01-12T10:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`### Analysis Summary
The investigation into the inconsistent ice warning indications on A220-300 (SN-93428581) has revealed critical issues related to sensor calibration protocols. The primary cause identified is the gradual calibration drift of temperature sensors, exacerbated by insufficient quality control measures during manufacturing.

### Action Plan
1. **Calibration Protocol Review**: Revise existing calibration procedures to ensure compliance with industry standards.
2. **Increased Frequency**: Implement calibration checks every 500 flight hours to monitor sensor performance closely.
3. **Supplier Engagement**: Establish a continuous feedback loop with the de-icing supplier to enhance QA processes.
4. **Training**: Provide training for QC personnel to identify early signs of calibration drift.

### Recommendation
Adopt the proposed action plan to mitigate risks associated with inaccurate ice detection, ensuring enhanced reliability of the ice protection system. Further structural impact assessments will follow post-implementation.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-01-12T12:00:00.000Z",role:"Stress Office",name:"Émile Fortin",description:`### Stress Analysis Results
Following the review of the calibration drift issue related to the temperature sensors in the A220-300 ice protection system, the following findings were established:

1. **Impact on Structural Integrity**: The gradual calibration drift can lead to incorrect activation of the ice protection system, potentially resulting in structural stress due to ice accumulation on critical surfaces. This can compromise the aircraft's aerodynamic performance and increase the risk of in-flight incidents.

2. **Modelling Outcomes**: Stress simulations indicate that the current calibration protocols may not adequately account for the operational environment, leading to a potential 15% increase in stress on the wing structures under certain conditions if ice detection fails.

3. **Recommendations**:
 - **Immediate Calibration Review**: Implement the revised calibration schedule proposed by the Design Office, ensuring checks are performed every 500 flight hours.
 - **Supplier Collaboration**: Work closely with Honeywell Aerospace to enhance QA processes and calibration protocols.
 - **Monitoring System**: Develop a real-time monitoring system for temperature sensors to detect drift early and mitigate risks before they affect structural integrity.
 - **Training Programs**: Initiate training for maintenance personnel on recognizing signs of calibration drift and its implications on aircraft performance.

### Conclusion
These actions are critical to maintaining the structural integrity and navigability of the A220-300. Further analysis may be required based on the implementation of these recommendations.`,style:"concise and precise",label:"Stress Analysis and Recommendations"},{date:"2023-01-12T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request for Additional Data
To support the Stress Office's analysis, I require the following information:
1. **Historical Calibration Data**: Detailed records of past calibration checks and any noted discrepancies for the temperature sensors used in A220-300.
2. **Flight Data**: Recent flight data correlating with the reported inconsistencies in ice warning indications, particularly focusing on flights exceeding the 500 flight-hour mark.
3. **Supplier QA Processes**: Documentation outlining Honeywell Aerospace's quality assurance processes related to sensor calibration and any historical issues encountered.

This data will assist in validating the stress analysis and ensuring comprehensive risk mitigation.`,style:"concise and precise",label:"Request for Additional Data"},{date:"2023-01-12T16:00:00.000Z",role:"Stress Office Expert",name:"Sophie Roy",description:`### Response to Data Request
I acknowledge the request for additional data from the Quality Controller. The following actions will be taken:
1. **Gather Historical Calibration Data**: Collaborate with the Quality Control team to compile all relevant calibration records for the temperature sensors.
2. **Analyze Flight Data**: Coordinate with flight operations to obtain detailed flight data, focusing on the specific flights where discrepancies were reported.
3. **Review Supplier QA Documentation**: Engage with Honeywell Aerospace to acquire documentation regarding their QA processes and any historical calibration issues.

This information will be critical in refining our stress analysis and ensuring all potential risks are addressed.`,style:"concise and precise",label:"Response to Data Request"},{date:"2023-01-13T10:00:00.000Z",role:"Stress Office",name:"Émile Fortin",description:`### Final Recommendations and Action Plan
Based on the comprehensive stress analysis and the additional data obtained, the following final recommendations are proposed:

1. **Implement Enhanced Calibration Protocols**: Adopt the revised calibration schedule with checks every 500 flight hours to ensure sensor accuracy.
2. **Supplier Engagement**: Establish a formal partnership with Honeywell Aerospace to enhance their QA processes and ensure compliance with industry standards.
3. **Real-Time Monitoring**: Develop and implement a real-time monitoring system for temperature sensors to detect calibration drift proactively.
4. **Training Initiatives**: Launch training programs for QC and maintenance personnel to recognize early signs of calibration drift and understand its implications on aircraft performance.

### Conclusion
These actions are essential to mitigate risks associated with inaccurate ice detection, ensuring the reliability and safety of the A220-300 aircraft. Continuous monitoring and evaluation of these measures will be necessary to maintain structural integrity and operational efficiency.`,style:"concise and precise",label:"Final Recommendations and Action Plan"}],400:[{date:"2023-01-14T11:30:00.000Z",role:"Stress Manager",name:"Alexandre Gagnon",description:`### Analysis and Action Plan Validation
Following the stress analysis and additional data review, the findings confirm the critical need for enhanced calibration protocols for the temperature sensors in the A220-300 ice protection system.

### Key Findings
1. **Calibration Drift Impact**: The gradual drift in sensor calibration poses significant risks to the operational integrity of the ice protection system, potentially leading to incorrect activation and structural stress.
2. **Stress Simulation Results**: The simulations indicate a potential 15% increase in stress on wing structures under ice accumulation scenarios due to inaccurate sensor readings.

### Final Recommendations
1. **Enhanced Calibration Schedule**: Implement the revised calibration schedule with checks every 500 flight hours to ensure sensor accuracy.
2. **Supplier Collaboration**: Formalize the partnership with Honeywell Aerospace to enhance QA processes and compliance.
3. **Real-Time Monitoring System**: Develop a proactive monitoring system for temperature sensors to detect calibration drift early.
4. **Training Programs**: Initiate training for QC and maintenance personnel to recognize calibration drift signs and their implications.

### Conclusion
These actions are essential to mitigate risks associated with inaccurate ice detection, ensuring the reliability and safety of the A220-300 aircraft. Continuous monitoring and evaluation of these measures will be necessary to maintain structural integrity and operational efficiency.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-01-15T14:45:00.000Z",role:"Quality Manager",name:"Jean-Philippe Bouchard",description:`### Analyse des Causes
Les dérives de calibration des capteurs de température sur l'A220-300 sont principalement dues à des protocoles de calibration insuffisants et à un manque de contrôle qualité pendant la fabrication. **Causes internes** incluent des erreurs d'assemblage et une calibration inadéquate. **Causes externes** concernent des défauts potentiels des fournisseurs.

### Plan d'Action
1. **Révision des Protocoles de Calibration**: Mettre en place un calendrier de calibration renforcé avec des vérifications toutes les 500 heures de vol.
2. **Collaboration avec le Fournisseur**: Établir un partenariat formel avec Honeywell Aerospace pour améliorer les processus QA et assurer la conformité aux normes de l'industrie.
3. **Système de Surveillance en Temps Réel**: Développer un système de surveillance proactive pour détecter rapidement les dérives de calibration.
4. **Programmes de Formation**: Former le personnel QC et de maintenance pour reconnaître les signes de dérive de calibration et comprendre leurs implications.

### Recommandation Finale
Ces actions sont essentielles pour atténuer les risques associés à une détection de glace inexacte, garantissant la fiabilité et la sécurité de l'A220-300. Une surveillance continue et une évaluation de ces mesures seront nécessaires pour maintenir l'intégrité structurelle et l'efficacité opérationnelle. L'accent doit être mis sur la réduction des coûts et l'efficacité temporelle pour minimiser les impacts financiers et les délais de production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 24",nc_label:"Backend connectivity loss in avionics network",nc_scenario_id:"ATA-24-a027f59bad3fe83c",nc_event_seed:27028,nc_event_date:"2021-11-23 15:50:55.828000+00:00",nc_event_id:"ATA-24-a027f59bad3fe83c-827e",analysis_history:{"000":[{date:"2021-11-23T15:50:55.828Z",role:"Quality Controler",observation:"System alerts of backend I/O failures",name:"Julien Tremblay",description:`This report outlines the observation of non-conformity related to the recent system alerts indicating backend I/O failures. During routine operational checks, it was noted that alerts were triggered, which may suggest underlying issues with data communication pathways. The specific components involved in this observation include the following:

- Part Number: NW-220C
- Serial Number: 9012-AVCN
- Supplier: DataLink Tech

The alerts observed are critical in nature and warrant immediate attention to prevent any potential escalation of issues. Further investigation is required to determine the root cause and to implement corrective actions as necessary.`,style:"verbose",label:"Backend I/O Failure Alerts Report"}],100:[{date:"2021-11-23T16:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Review report from Quality Controler. Focus on backend I/O failures. Identify faulty configuration as primary cause. Need to check router settings and software protocols. Suggest immediate investigation on network routers.",style:"not fully fluent",label:"Initial Analysis of Backend Connectivity Loss"},{date:"2021-11-24T09:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Analyze router configurations. Check for misapplication during software update. Validate if protocols were followed. Confirm if any previous issues reported with DataLink Tech.",style:"not fully fluent",label:"Technical Review of Router Configurations"},{date:"2021-11-24T11:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Evaluate software update protocols. Identify gaps in validation process. Recommend tighter controls on future updates. Ensure all updates tested before deployment.",style:"not fully fluent",label:"Assessment of Software Update Protocols"},{date:"2021-11-24T15:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Propose reversion to previous stable software version. This will ensure temporary stability. Document all steps for rollback. Prepare for potential long-term solution.",style:"not fully fluent",label:"Mitigation Plan Proposal"},{date:"2021-11-25T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Review mitigation plan proposed by Design Office. Confirm all actions align with safety protocols. Ensure communication with DataLink Tech for support during rollback.",style:"not fully fluent",label:"Validation of Mitigation Plan"}],200:[{date:"2021-11-26T09:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis Summary
- **Issue**: Backend connectivity loss in avionics network.
- **Primary Cause**: Faulty configuration of network routers during software update.
- **Internal Factors**: Insufficient validation of update protocols, lack of rigorous testing before deployment.
- **External Factors**: Potential supplier issues with DataLink Tech, need for better communication.

### Action Plan
1. **Immediate Investigation**: Check router settings and validate software protocols.
2. **Reversion Plan**: Rollback to previous stable software version to ensure temporary stability.
3. **Future Protocols**: Recommend tighter controls on software updates, ensure all updates are tested before deployment.
4. **Collaboration**: Engage with DataLink Tech for support and insights on router configurations.

### Final Recommendation
- Proceed with rollback and implement tighter validation processes for future updates. Document all actions taken and ensure clear communication with all stakeholders.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-26T12:00:00.000Z",role:"Stress Office",name:"Alexandre Lemieux",description:`### Stress Analysis Results
- **Objective**: Evaluate impact of router configuration errors on avionics network.
- **Findings**: Configuration errors can lead to increased stress on data pathways, affecting signal integrity.
- **Internal Causes**: Insufficient validation of software updates, lack of rigorous testing.
- **External Causes**: Potential supplier issues with DataLink Tech, need for better communication.

### Recommendations
1. **Immediate Action**: Engage with Design Office for detailed router settings review.
2. **Stability Measures**: Implement rollback to previous stable software version to mitigate risks.
3. **Future Protocols**: Establish stricter validation processes for software updates to prevent recurrence.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2021-11-26T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request
- **Details Needed**: Clarification on specific router settings and previous configurations.
- **Purpose**: Ensure all potential issues are addressed before finalizing stress calculations.`,style:"not fully fluent",label:"Request for Additional Data"},{date:"2021-11-26T15:30:00.000Z",role:"Stress Office",name:"Alexandre Lemieux",description:`### Review of Additional Data
- **Findings**: Previous configurations confirmed to have no reported issues.
- **Conclusion**: Stress analysis remains valid; focus on current router settings and software protocols.`,style:"not fully fluent",label:"Review Additional Data"},{date:"2021-11-27T09:00:00.000Z",role:"Stress Office",name:"Alexandre Lemieux",description:`### Final Analysis Summary
- **Issue**: Backend connectivity loss in avionics network.
- **Impact on Structure**: Configuration errors lead to potential stress points in data pathways, risking navigability.
- **Recommendations**:
 1. **Rollback**: Implement rollback to previous stable software version immediately.
 2. **Validation**: Establish stricter validation protocols for future software updates.
 3. **Supplier Engagement**: Collaborate closely with DataLink Tech to ensure proper configurations moving forward.

### Conclusion
- Immediate actions necessary to ensure safety and reliability of avionics systems.`,style:"not fully fluent",label:"Final Stress Analysis Report"}],400:[{date:"2021-11-28T10:00:00.000Z",role:"Stress Manager",name:"Émile Fournier",description:`### Analysis Summary
- **Issue**: Backend connectivity loss in avionics network.
- **Impact on Structure**: Configuration errors identified as critical stress points in data pathways, risking navigability and operational integrity.

### Recommendations
1. **Immediate Rollback**: Implement rollback to previous stable software version without delay to restore functionality.
2. **Validation Protocols**: Establish stricter validation processes for software updates to mitigate future risks.
3. **Supplier Collaboration**: Engage with DataLink Tech to ensure proper configurations and address any potential issues proactively.

### Conclusion
- Actions are necessary to ensure safety and reliability of avionics systems. Continuous monitoring and validation required to prevent recurrence.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-29T14:45:00.000Z",role:"Quality Manager",name:"Luc Deschamps",description:`### Analyse Finale

**Problème Identifié**: Perte de connectivité backend dans le réseau avionique de l'A220.

**Causes Internes**:
- Configuration incorrecte des routeurs réseau lors de la mise à jour logicielle.
- Validation insuffisante des protocoles de mise à jour.

**Causes Externes**:
- Problèmes potentiels avec le fournisseur DataLink Tech.

**Impact**:
- Risque de perturbations dans les communications de données, pouvant affecter la navigabilité et les opérations en vol.
- Coûts de rectification estimés à 75,000 $.

### Plan d'Action

1. **Retour Arrière Imminent**: Revenir à la version logicielle stable précédente pour rétablir la stabilité temporaire.
2. **Validation Renforcée**: Mettre en place des processus de validation plus stricts pour les futures mises à jour logicielles.
3. **Collaboration Fournisseur**: Travailler étroitement avec DataLink Tech pour garantir des configurations correctes et résoudre les problèmes potentiels.
4. **Surveillance Continue**: Mettre en place un suivi continu pour prévenir toute récurrence.

### Recommandation Finale

- **Action Immédiate**: Procéder au retour arrière et renforcer les processus de validation.
- **Engagement Fournisseur**: Assurer une communication claire et continue avec DataLink Tech.
- **Optimisation des Délais**: Intégrer des étapes d'analyse optimisées pour réduire les délais de production.

Ces mesures garantiront la sécurité, la fiabilité et la conformité des systèmes avioniques de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Contaminated hydraulic fluid in spoiler system",nc_scenario_id:"ATA-27-0b159e52de9effe8",nc_event_seed:9023,nc_event_date:"2023-12-13 20:50:55.906000+00:00",nc_event_id:"ATA-27-0b159e52de9effe8-a25c",analysis_history:{"000":[{date:"2023-12-13T20:50:55.906Z",role:"Quality Controler",observation:"Fluid analysis revealing particulate contamination",name:"Julien Tremblay",description:`This report pertains to the observation of a non-conformity regarding the hydraulic fluid utilized within the spoiler system. Specifically, the fluid analysis conducted has revealed the presence of foreign particulates, which is indicative of contamination. This contamination is a critical concern as it may lead to inefficiencies in the power transmission capabilities of the hydraulic system associated with the spoiler. 

Upon initial inspection, it has been noted that the hydraulic component in question, identified by part number A220-331-007 and serial number HYD-7492, supplied by Fluid Dynamics Inc., is potentially affected by this issue. The implications of such contamination could extend to a reduction in the effectiveness of the spoiler, which is vital for the aircraft's braking capabilities. Immediate attention and further analysis are warranted to address this observation and mitigate any potential risks associated with the hydraulic system's performance.`,style:"verbose",label:"Contaminated Hydraulic Fluid in Spoiler System"}],100:[{date:"2023-12-14T09:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Review report from Quality Controler. Contamination in hydraulic fluid is serious. Need to check filtration process during assembly. 

Identify if foreign particulates are from assembly line or supplier. 

Plan to analyze assembly protocols and filtration standards.`,style:"not fully fluent",label:"Initial Analysis of Contamination"},{date:"2023-12-14T14:15:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Boucher",description:`Conduct detailed review of hydraulic system. 

Check if contamination affects other systems. 

Assess risk of hydraulic failure under load. 

Prepare report on findings and recommendations.`,style:"not fully fluent",label:"Hydraulic System Review"},{date:"2023-12-15T10:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Based on findings, propose mitigation steps. 

1. Flush hydraulic system to remove contaminants. 
2. Implement stricter cleanliness protocols during assembly. 
3. Monitor hydraulic performance closely for anomalies. 

Prepare for further validation and approval.`,style:"not fully fluent",label:"Draft Mitigation Plan"},{date:"2023-12-15T15:45:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Examine mitigation plan proposed by Design Office. 

Ensure all potential risks are addressed. 

Confirm that flushing and cleanliness protocols are feasible. 

Provide feedback for any adjustments needed.`,style:"not fully fluent",label:"Review Mitigation Plan"}],200:[{date:"2023-12-16T11:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis Summary
The contamination of hydraulic fluid in the spoiler system is a critical issue that requires immediate attention. The presence of foreign particulates is likely due to suboptimal filtration during assembly, which could stem from both internal assembly processes and external supplier quality.

### Action Plan
1. **Flush the hydraulic system** to eliminate contaminants.
2. **Enhance cleanliness protocols** during assembly to prevent future occurrences.
3. **Implement monitoring** of hydraulic performance to detect anomalies early.

### Recommendations
- Prioritize the flushing of the system to restore functionality.
- Review and improve filtration standards in the assembly line.
- Continuous monitoring is essential to ensure system integrity and operational safety.

This plan aims to mitigate risks associated with hydraulic system performance without presuming structural impacts at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-12-17T09:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Analysis Results
Conducted stress analysis on hydraulic system post-flushing. 

#### Findings:
- Contamination from foreign particulates affects fluid dynamics. 
- No immediate structural integrity issues detected. 
- Risks of hydraulic failure under load remain if contamination not fully addressed.

#### Recommendations:
1. **Continue monitoring** hydraulic performance closely for anomalies. 
2. **Ensure flushing** is thorough to prevent residual contaminants. 
3. **Review assembly protocols** to enhance filtration standards. 
4. **Implement regular audits** of cleanliness during assembly. 

### Next Steps:
- Request additional data on flushing effectiveness from Quality Controller. 
- Confirm if any other systems are affected by similar contamination.`,style:"not fully fluent",label:"Stress Analysis of Hydraulic System Contamination"},{date:"2023-12-17T12:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request for Information
Need data on flushing effectiveness conducted on hydraulic system. 

#### Specifics:
- Confirm if all contaminants were removed. 
- Provide results from any follow-up fluid analysis post-flushing.`,style:"not fully fluent",label:"Provide Flushing Effectiveness Data"},{date:"2023-12-18T10:00:00.000Z",role:"Stress Office",name:"Louis Gagnon",description:`### Analysis of Flushing Effectiveness
Received data from Quality Controller regarding flushing results. 

#### Findings:
- Contaminants significantly reduced but not eliminated. 
- Further flushing recommended to ensure system integrity.

#### Updated Recommendations:
1. **Conduct additional flushing** to remove remaining particulates. 
2. **Implement enhanced filtration** during assembly to prevent recurrence. 
3. **Monitor hydraulic system** continuously for any anomalies post-flushing.`,style:"not fully fluent",label:"Review Flushing Effectiveness Data"},{date:"2023-12-19T14:00:00.000Z",role:"Stress Office Expert",name:"Sophie Boucher",description:`### Final Review of Stress Analysis
Consolidated findings from stress analysis and flushing effectiveness. 

#### Summary:
- Hydraulic system contamination poses risk to aircraft performance. 
- Structural integrity remains intact, but operational risks exist.

#### Final Recommendations:
1. **Execute thorough flushing** of hydraulic system. 
2. **Revise assembly cleanliness protocols** to enhance filtration. 
3. **Establish a monitoring schedule** for hydraulic performance. 
4. **Report findings** to Design Manager for further action.`,style:"not fully fluent",label:"Final Review and Recommendations"}],400:[{date:"2023-12-20T10:30:00.000Z",role:"Stress Manager",name:"Alexandre Boucher",description:`### Analysis Summary
The hydraulic fluid contamination in the spoiler system presents significant operational risks. Stress analysis confirms no structural integrity issues, but risks of hydraulic failure remain if contaminants persist.

### Action Plan
1. **Conduct thorough flushing** of the hydraulic system to eliminate remaining particulates.
2. **Enhance cleanliness protocols** during assembly to prevent future contamination.
3. **Implement continuous monitoring** of hydraulic performance to detect anomalies early.

### Recommendations
- Prioritize additional flushing to ensure system integrity.
- Review and improve filtration standards in the assembly line.
- Establish a monitoring schedule for hydraulic performance to ensure operational safety.

This plan aims to mitigate risks associated with hydraulic system performance and ensure the aircraft's operational reliability.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-12-21T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Synthèse

La contamination du fluide hydraulique dans le système de spoiler présente des risques opérationnels significatifs pour l'A220. Les particules étrangères identifiées proviennent probablement d'une filtration sous-optimale lors de l'assemblage. Les causes peuvent être internes, telles qu'une erreur d'assemblage ou une mauvaise calibration, ainsi qu'externes, comme des défauts fournisseurs.

### Plan d'Action
1. **Réaliser un rinçage approfondi** du système hydraulique pour éliminer les particules résiduelles.
2. **Améliorer les protocoles de propreté** lors de l'assemblage pour prévenir de futures contaminations.
3. **Mettre en place un suivi continu** des performances hydrauliques pour détecter rapidement les anomalies.
4. **Réviser les normes de filtration** sur la ligne d'assemblage pour garantir une meilleure qualité.

### Recommandations
- **Prioriser le rinçage supplémentaire** pour assurer l'intégrité du système.
- **Établir un calendrier de surveillance** des performances hydrauliques pour garantir la sécurité opérationnelle.
- **Effectuer des audits réguliers** de propreté pendant l'assemblage pour éviter les récurrences.

### Conclusion
Ce plan vise à atténuer les risques associés à la performance du système hydraulique et à garantir la fiabilité opérationnelle de l'aéronef. L'accent est mis sur la navigabilité, la réduction des coûts et l'efficacité temporelle pour minimiser les impacts financiers et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 36",nc_label:"Leak in bleed air duct",nc_scenario_id:"ATA-36-709cb3af393e67a2",nc_event_seed:24224,nc_event_date:"2022-03-20 11:50:56.646000+00:00",nc_event_id:"ATA-36-709cb3af393e67a2-5a11",analysis_history:{"000":[{date:"2022-03-20T11:50:56.646Z",role:"Quality Controler",observation:"Pressure testing reveals discrepancies Visual inspections checks",name:"Léa Tremblay",description:`Report regarding the non-conformity observation:
- Pressure testing has shown discrepancies in the bleed air duct joint.
- Visual inspections have noted irregularities in the assembly.
- Issues observed in part number 36-105, serial DCT-78803 from supplier TempControl Solutions.`,style:"skills limits",label:"Discrepancies in Pressure Testing"}],100:[{date:"2022-03-20T12:30:56.646Z",role:"Design Office",name:"Julien Boucher",description:`Analyzed discrepancies in pressure testing of bleed air duct joint. 
- Leak attributed to incorrect gasket batch. 
- Material fatigue and assembly tolerances noted as contributing factors. 
- Immediate need for further investigation into gasket supplier credibility.`,style:"skills limits",label:"Initial Analysis of Leak Issue"},{date:"2022-03-20T14:00:56.646Z",role:"Design Office Expert Hydro",name:"Sophie Gagnon",description:`Requesting detailed hydro testing results for part number 36-105. 
- Need to confirm pressure thresholds and gasket performance under operational conditions. 
- Essential for understanding potential systemic impacts.`,style:"skills limits",label:"Request for Hydro Analysis"},{date:"2022-03-20T15:30:56.646Z",role:"Quality Controler",name:"Léa Tremblay",description:`Provided hydro testing data for part number 36-105. 
- Confirmed pressure thresholds exceeded during testing. 
- Noted irregularities in gasket material consistency.`,style:"skills limits",label:"Response to Hydro Analysis Request"},{date:"2022-03-21T09:00:56.646Z",role:"Design Office",name:"Julien Boucher",description:`Developed mitigation plan based on hydro analysis. 
- Recommend switching to higher grade gasket materials. 
- Implement enhanced inspection protocols for assembly. 
- Suggest re-evaluation of supplier quality controls.`,style:"skills limits",label:"Mitigation Plan Development"},{date:"2022-03-21T10:30:56.646Z",role:"Design Manager",name:"Marc Dupuis",description:`Reviewed and validated mitigation plan proposed by Design Office. 
- Emphasized importance of supplier audits. 
- Approved for implementation pending stress analysis.`,style:"skills limits",label:"Validation of Mitigation Plan"},{date:"2022-03-21T12:00:56.646Z",role:"Stress Office",name:"Émilie Roy",description:`Conducted stress analysis related to proposed mitigation plan. 
- Confirmed structural integrity with new gasket material. 
- Recommended adjustments to assembly procedures for improved reliability.`,style:"skills limits",label:"Stress Analysis Calculation"},{date:"2022-03-21T13:30:56.646Z",role:"Stress Manager",name:"Antoine Lefebvre",description:`Reviewed stress analysis results. 
- Approved final adjustments to mitigation plan. 
- Ensured all recommendations align with safety standards.`,style:"skills limits",label:"Final Adjustments to Plan"},{date:"2022-03-21T15:00:56.646Z",role:"Quality Manager",name:"Chloé Martin",description:`Final approval of the action plan. 
- Confirmed all steps taken to address non-conformity. 
- Monitoring plan to be established for future compliance.`,style:"skills limits",label:"Final Approval of Action Plan"}],200:[{date:"2022-03-22T10:15:56.646Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis confirmed leak in bleed air duct joint due to incorrect gasket batch. 
- Material fatigue and assembly tolerances noted. 
- Recommend switching to higher grade gaskets. 
- Enhance inspection protocols for assembly. 
- Supplier audits critical for quality assurance. 
- Action plan aligns with safety standards. 
- No structural impact assumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-03-22T12:30:56.646Z",role:"Stress Office",name:"Mathieu Gagnon",description:`Conducted initial stress analysis on bleed air duct joint with new gasket material. 
- Results indicate improved structural integrity under operational pressures. 
- No immediate structural concerns identified. 
- Recommend further monitoring during assembly to ensure compliance with new material specifications.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2022-03-22T14:00:56.646Z",role:"Stress Office Expert",name:"Émilie Roy",description:`Requesting additional data on assembly tolerances and historical performance of gasket materials. 
- Essential for comprehensive risk assessment. 
- Need to verify that assembly processes align with new material properties.`,style:"skills limits",label:"Request for Additional Data"},{date:"2022-03-22T15:30:56.646Z",role:"Quality Controller",name:"Léa Tremblay",description:`Provided historical performance data for gasket materials used in assembly. 
- Confirmed variations in assembly tolerances over time. 
- Suggested additional training for assembly personnel to mitigate risks.`,style:"skills limits",label:"Response to Data Request"},{date:"2022-03-23T09:00:56.646Z",role:"Stress Office",name:"Mathieu Gagnon",description:`Completed final stress analysis incorporating additional data. 
- Confirmed that new gasket material meets safety standards. 
- Recommendations include: 
 - Implement rigorous training for assembly personnel on new materials. 
 - Establish a monitoring protocol for assembly processes to ensure compliance. 
 - Schedule regular audits of supplier quality to prevent recurrence of issues.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"},{date:"2022-03-23T10:30:56.646Z",role:"Stress Manager",name:"Antoine Lefebvre",description:`Reviewed and approved final stress analysis and recommendations. 
- Emphasized the importance of ongoing supplier audits and personnel training. 
- Confirmed alignment with overall safety and production standards.`,style:"skills limits",label:"Approval of Final Recommendations"}],400:[{date:"2022-03-25T11:45:56.646Z",role:"Stress Manager",name:"Julien Boucher",description:`Final review of stress analysis and impact assessment on the action plan. 
- Confirmed structural integrity with new gasket material. 
- Emphasized need for rigorous training of assembly personnel on new materials. 
- Recommended ongoing supplier audits to ensure quality and prevent recurrence. 
- Monitoring protocols for assembly processes are essential to maintain compliance. 
- Overall, the action plan aligns with safety standards and operational efficiency.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-03-26T14:37:56.646Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte et Problématique
- **Non-conformité identifiée** : Fuite dans le conduit d'air de prélèvement (bleed air duct).
- **Cause primaire** : Utilisation d'un lot incorrect de joints, exacerbée par la fatigue des matériaux et les tolérances d'assemblage.
- **Impact** : Perte d'efficacité du système de conditionnement d'air, coût estimé à 15 000 $ par avion pour le remplacement des joints.

#### Analyse des Causes
- **Causes internes** :
 - Erreur d'assemblage liée à la mauvaise calibration des tolérances.
 - Formation insuffisante du personnel sur les matériaux utilisés.
- **Causes externes** :
 - Défauts de fabrication des joints par le fournisseur TempControl Solutions.
 - Manque d'audits réguliers de la qualité fournisseur.

#### Plan d'Action
- **Matériaux** : Passage à des joints de qualité supérieure pour améliorer l'intégrité structurelle.
- **Procédures d'assemblage** :
 - Renforcement des protocoles d'inspection.
 - Formation rigoureuse du personnel sur les nouveaux matériaux.
- **Fournisseurs** :
 - Réévaluation et audits réguliers des fournisseurs pour garantir la qualité.

#### Recommandations
- **Efficacité temporelle** :
 - Mise en place de tests de pression optimisés pour une détection rapide des fuites.
 - Surveillance continue des processus d'assemblage pour assurer la conformité.
- **Réduction des coûts** :
 - Prioriser les audits fournisseurs pour éviter des corrections coûteuses.
 - Optimiser les étapes d'analyse pour réduire les délais de production.

#### Conclusion
L'action plan proposé est aligné sur les standards de sécurité et d'efficacité opérationnelle. La mise en œuvre des recommandations garantira la navigabilité, la fiabilité et la conformité des produits de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Slat system aileron hinges",nc_scenario_id:"ATA-27-10ebb8b9d6abda56",nc_event_seed:9301,nc_event_date:"2023-12-02 06:50:55.984000+00:00",nc_event_id:"ATA-27-10ebb8b9d6abda56-51ef",analysis_history:{"000":[{date:"2023-12-02T06:50:55.984Z",role:"Quality Controler",observation:"Visual analysis corrosion irregular slat hinge",name:"Julien Tremblay",description:"Observation of corrosion on slat system aileron hinges. Irregularities noted during visual inspection. Aileron hinge part number A220-119-902, serial HINGE-77141 from supplier Hinge Solutions. Immediate attention required to assess impact on functionality.",style:"not fully fluent",label:"Corrosion Issues on Slat System Aileron Hinges"}],100:[{date:"2023-12-02T09:15:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Corrosion observed on slat system aileron hinges. Immediate concern for operational integrity. Recommend further investigation into corrosion extent. Assess potential impact on hinge functionality and aileron movement. Need to evaluate environmental exposure during pre-assembly.",style:"elusive",label:"Initial Analysis of Corrosion Issue"},{date:"2023-12-02T10:30:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Gagnon",description:"Request for detailed analysis of moisture exposure during pre-assembly. Essential to understand the conditions leading to corrosion. This will inform mitigation strategies and operational safety.",style:"elusive",label:"Request for Environmental Assessment"},{date:"2023-12-02T12:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Provided details on pre-assembly conditions. Confirmed prolonged exposure to moisture. Suggested reviewing assembly protocols to mitigate future risks. Awaiting further analysis from Design Office.",style:"elusive",label:"Response to Environmental Assessment Request"},{date:"2023-12-02T14:45:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Developed mitigation plan. Recommend post-treatment with anti-corrosion measures. Implement monitoring protocols for slat performance. Ensure regular inspections to detect early signs of corrosion. Plan to reassess after implementation.",style:"elusive",label:"Mitigation Plan Development"},{date:"2023-12-02T16:30:00.000Z",role:"Design Manager",name:"Claire Boucher",description:"Reviewed and validated mitigation plan proposed by Design Office. Emphasized importance of monitoring and regular inspections. Approved for implementation. Awaiting feedback on effectiveness post-implementation.",style:"elusive",label:"Validation of Mitigation Plan"}],200:[{date:"2023-12-03T10:15:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis confirmed corrosion on slat system aileron hinges due to prolonged moisture exposure during pre-assembly. Mitigation plan includes:
- Post-treatment with anti-corrosion measures.
- Implementation of monitoring protocols for slat performance.
- Regular inspections to detect early corrosion signs.

Recommendation: Proceed with mitigation plan. Monitor effectiveness post-implementation. Ensure compliance with assembly protocols to prevent recurrence. Further structural impact assessment to follow.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-12-03T12:30:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:"Conducted preliminary stress analysis on slat system aileron hinges. Focused on corrosion impact on structural integrity. Identified potential weaknesses due to binding and corrosion. Immediate attention required to assess load distribution and operational limits.",style:"elusive",label:"Initial Stress Analysis"},{date:"2023-12-03T14:00:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Roy",description:"Requested detailed load data and operational conditions from Quality Controller. Essential for accurate stress modeling and impact assessment. Awaiting response to proceed with comprehensive analysis.",style:"elusive",label:"Request for Additional Data"},{date:"2023-12-03T15:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Provided requested load data and operational conditions. Confirmed maximum load scenarios and environmental factors affecting hinge performance. Data critical for stress calculations.",style:"elusive",label:"Response to Data Request"},{date:"2023-12-03T17:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`Completed stress calculations based on provided data. Results indicate potential failure modes under maximum load conditions. Recommendations include:
- Immediate implementation of anti-corrosion treatments.
- Regular monitoring of hinge performance post-treatment.
- Re-evaluation of assembly protocols to mitigate moisture exposure.
- Consideration of alternative materials for enhanced durability.`,style:"elusive",label:"Final Stress Calculation"},{date:"2023-12-04T09:00:00.000Z",role:"Stress Manager",name:"Émilie Fournier",description:"Reviewed stress analysis and calculations. Validated findings and recommendations. Emphasized urgency in addressing corrosion issues to ensure safety and compliance. Approved plan for implementation and monitoring.",style:"elusive",label:"Validation of Stress Analysis"}],400:[{date:"2023-12-05T11:30:00.000Z",role:"Stress Manager",name:"Léa Boucher",description:`Stress analysis confirmed potential failure modes due to corrosion on slat system aileron hinges. Key findings include:
- Corrosion significantly impacts structural integrity and load distribution.
- Immediate anti-corrosion measures are essential to prevent further degradation.
- Regular monitoring and inspections are critical to ensure ongoing functionality.

Recommendations:
- Implement proposed anti-corrosion treatments without delay.
- Establish a rigorous monitoring protocol for hinge performance.
- Review and revise assembly protocols to minimize moisture exposure in future operations.
- Consider alternative materials for enhanced durability in critical components.

This plan aims to maintain safety and compliance while addressing the identified risks.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-12-06T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale et Recommandation

#### Contexte et Causes
- **Problème Identifié** : Corrosion sur les charnières des ailerons du système de slat.
- **Causes Primaires** :
 - **Internes** : Exposition prolongée à l'humidité lors de la pré-assemblage, potentiellement due à des protocoles d'assemblage inadéquats.
 - **Externes** : Conditions environnementales non contrôlées pendant le stockage des composants avant assemblage.

#### Impact et Risques
- **Opérationnel** : Mouvement des ailerons compromis, affectant le contrôle de roulis et posant des préoccupations de sécurité en vol.
- **Financier** : Coûts potentiels de réparation et de retesting estimés à $10,000 par aileron.
- **Si non traité** : Risque de blocage et de défaillance catastrophique.

#### Plan d'Action
1. **Traitement Anti-Corrosion** :
 - Mise en œuvre immédiate de traitements post-assemblage pour prévenir la corrosion future.
2. **Protocoles de Surveillance** :
 - Établissement de protocoles de surveillance réguliers pour détecter les signes précoces de corrosion.
3. **Révision des Protocoles d'Assemblage** :
 - Révision des procédures pour minimiser l'exposition à l'humidité.
4. **Matériaux Alternatifs** :
 - Envisager l'utilisation de matériaux plus durables pour les composants critiques.

#### Recommandation Finale
- **Mise en Œuvre Immédiate** : Les mesures de traitement et de surveillance doivent être mises en œuvre sans délai pour assurer la sécurité et la conformité.
- **Suivi et Évaluation** : Effectuer un suivi post-implémentation pour évaluer l'efficacité des mesures et ajuster les protocoles si nécessaire.

Cette approche garantit la navigabilité, la fiabilité et la conformité, tout en optimisant les coûts et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 21",nc_label:"Incorrect AC temperature control in passenger cabin",nc_scenario_id:"ATA-21-ad6eac59e1efb067",nc_event_seed:24674,nc_event_date:"2022-03-01 17:50:56.039000+00:00",nc_event_id:"ATA-21-ad6eac59e1efb067-2a54",analysis_history:{"000":[{date:"2022-03-01T17:50:56.039Z",role:"Quality Controler",observation:"Passenger feedback indicating deployment due to temperature",name:"Léa Tremblay",description:`Report regarding the non-conformity observed:

- Feedback from passengers indicates discomfort related to temperature control in the cabin.
- Specific issues noted during flight operations, leading to potential deployment of cabin temperature adjustments.
- Initial observations suggest a correlation with the faulty temperature sensor identified in the A220 cabin system.
- Relevant part involved: TS-220, Serial: SN621653, Supplier: ThermoTech Inc.`,style:"verbose",label:"Passenger Comfort Issue Due to Temperature Control"}],100:[{date:"2022-03-01T18:00:00.000Z",role:"Design Office",name:"Julien Bouchard",description:`Analyzed passenger feedback regarding cabin temperature discomfort. 
Identified faulty sensor (TS-220, SN621653) as primary cause. 
Recommended further investigation into sensor wiring materials and calibration processes.`,style:"skills limits",label:"Initial Analysis of Temperature Control Issue"},{date:"2022-03-02T09:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Reviewed electrical schematics related to TS-220 sensor. 
Found potential issues with wiring insulation quality. 
Suggested testing alternative materials for improved durability.`,style:"skills limits",label:"Electrical System Review"},{date:"2022-03-02T14:00:00.000Z",role:"Design Office",name:"Julien Bouchard",description:`Consolidated input from electrical review. 
Proposed action plan: 
1. Replace faulty sensors in affected aircraft. 
2. Implement new wiring materials. 
3. Establish calibration protocol to ensure accurate readings.`,style:"skills limits",label:"Consolidation of Findings"},{date:"2022-03-03T10:15:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`Reviewed proposed actions from Design Office. 
Validated replacement of sensors and new wiring materials. 
Recommended documenting calibration protocol for future reference.`,style:"verbose",label:"Validation of Proposed Actions"}],200:[{date:"2022-03-04T12:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Analysis of passenger feedback confirms discomfort linked to temperature control. 
Faulty sensor TS-220 (SN621653) identified as primary issue. 
Recommended actions: 
1. Replace faulty sensors in affected aircraft. 
2. Implement new wiring materials to enhance durability. 
3. Establish calibration protocol for accurate readings. 
Focus on internal causes: wiring insulation quality and assembly errors. 
External factors: supplier material quality. 
Aim for cost reduction and efficiency in corrective actions.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-03-04T14:30:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Description des résultats de l'analyse

L'analyse préliminaire des modifications proposées concernant le capteur de température TS-220 a été réalisée. Les calculs de stress ont été effectués pour évaluer l'impact de la substitution du capteur et des nouveaux matériaux de câblage sur la structure de l'A220.

### Résultats des Calculs
- **Intégrité Structurelle** : Les modifications proposées ne compromettent pas l'intégrité structurelle de l'avion. Les nouveaux matériaux de câblage ont montré une résistance accrue aux contraintes thermiques et mécaniques.
- **Navigabilité** : Aucun impact négatif sur la navigabilité n'a été identifié. Les ajustements prévus devraient améliorer le confort des passagers sans affecter les performances de vol.
- **Coûts de Production** : Les coûts associés à la mise en œuvre des nouveaux capteurs et câblages sont estimés à $60,000 par appareil, mais ces coûts sont compensés par une réduction des plaintes clients et une amélioration de l'image de marque.

### Recommandations
1. **Remplacement des capteurs** : Procéder au remplacement des capteurs défectueux dans les 25 unités identifiées.
2. **Mise à jour des matériaux de câblage** : Utiliser des matériaux de câblage de meilleure qualité pour éviter des problèmes similaires à l'avenir.
3. **Calibration** : Établir un protocole de calibration rigoureux pour garantir la précision des mesures de température.

### Besoins Complémentaires
Aucune demande d'information supplémentaire n'est nécessaire à ce stade.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2022-03-04T15:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Validation des Résultats

Les résultats de l'analyse de stress effectuée par le Stress Office ont été examinés. Les conclusions indiquent que les modifications proposées n'affectent pas l'intégrité structurelle de l'A220, ce qui est positif pour la sécurité et le confort des passagers.

### Actions à Entreprendre
- **Validation des Recommandations** : Les recommandations du Stress Office doivent être mises en œuvre sans délai.
- **Documentation** : S'assurer que toutes les modifications et les protocoles de calibration soient bien documentés pour référence future.`,style:"verbose",label:"Validation des Résultats de Stress"},{date:"2022-03-05T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Plan d'Action Final

Suite à la validation des résultats de l'analyse de stress, voici le plan d'action consolidé :

1. **Remplacement des Capteurs** : Remplacer tous les capteurs TS-220 défectueux dans les 25 unités identifiées.
2. **Amélioration des Matériaux** : Utiliser des matériaux de câblage de haute qualité pour éviter les problèmes de friction et de défaillance.
3. **Calibration Rigoureuse** : Établir un protocole de calibration qui doit être suivi systématiquement lors de l'installation de nouveaux capteurs.
4. **Suivi des Performances** : Mettre en place un système de suivi des performances des capteurs après remplacement pour assurer leur bon fonctionnement.

### Conclusion
Ces mesures permettront non seulement d'améliorer le confort des passagers, mais également de réduire les coûts associés aux plaintes clients et aux interventions de maintenance.`,style:"skills limits",label:"Final Recommendations and Action Plan"}],400:[{date:"2022-03-06T11:30:00.000Z",role:"Stress Manager",name:"Gabriel Fortin",description:`### Analysis and Recommendations

Following the stress calculations and impact analysis performed on the proposed actions regarding the TS-220 temperature sensor, the following conclusions and recommendations are made:

1. **Structural Integrity**: The proposed modifications do not compromise the structural integrity of the A220. The new wiring materials exhibit enhanced resistance to thermal and mechanical stress.

2. **Operational Impact**: No negative impact on aircraft performance or navigability has been identified. The adjustments are expected to improve passenger comfort significantly.

3. **Cost Implications**: The estimated cost of $60,000 per aircraft for sensor replacement is justified by the anticipated reduction in customer complaints and enhanced brand reputation.

### Final Action Plan

- **Sensor Replacement**: Immediate replacement of all faulty TS-220 sensors in the identified 25 units.
- **Material Upgrade**: Implementation of higher quality wiring materials to prevent future issues.
- **Calibration Protocol**: Establishment of a rigorous calibration protocol to ensure accurate temperature readings.
- **Performance Monitoring**: Development of a monitoring system to track sensor performance post-replacement.

### Conclusion

These measures will not only enhance passenger comfort but also reduce costs associated with customer complaints and maintenance interventions.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-03-07T15:45:00.000Z",role:"Quality Manager",name:"Éric Lavoie",description:`### Analyse Finale et Recommandation

#### Contexte et Problématique
La non-conformité identifiée concerne le contrôle incorrect de la température dans la cabine passagers de l'A220, causée par des capteurs défectueux (TS-220). Les retours passagers indiquent un inconfort notable, ce qui impacte directement la satisfaction client et peut entraîner des demandes de maintenance accrues.

#### Causes Identifiées
- **Causes Internes** :
 - Erreur d'assemblage possible affectant l'isolation des câblages.
 - Calibration inadéquate des capteurs.
- **Causes Externes** :
 - Qualité inférieure des matériaux fournis par ThermoTech Inc.

#### Impact et Coûts
- **Quantitatif** : Coût estimé à $60,000 par appareil pour le remplacement des capteurs, impactant 25 unités par an.
- **Qualitatif** : Amélioration attendue de la satisfaction client et de l'image de marque.

#### Plan d'Action
1. **Remplacement Immédiat des Capteurs** :
 - Remplacer les capteurs TS-220 défectueux dans les 25 unités concernées.
2. **Amélioration des Matériaux** :
 - Utiliser des câblages de meilleure qualité pour éviter les problèmes futurs.
3. **Protocole de Calibration** :
 - Établir un protocole rigoureux pour garantir la précision des mesures.
4. **Suivi des Performances** :
 - Mettre en place un système de suivi post-remplacement pour assurer le bon fonctionnement des capteurs.

#### Synthèse et Mise en Consistance
Les mesures proposées visent à garantir la navigabilité, la fiabilité et la conformité des A220, tout en optimisant les coûts et les délais de production. La mise en œuvre rapide de ces actions est cruciale pour minimiser l'impact financier et améliorer l'expérience passager.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 35",nc_label:"Unresponsive pitot tube heating",nc_scenario_id:"ATA-35-de5cbb7c9ae15f66",nc_event_seed:23374,nc_event_date:"2022-04-24 21:50:56.573000+00:00",nc_event_id:"ATA-35-de5cbb7c9ae15f66-6a87",analysis_history:{"000":[{date:"2022-04-24T21:50:56.573Z",role:"Quality Controler",observation:"Physical reports buildup observed on Pitot tubes",name:"Julien Tremblay",description:"Observation of physical reports buildup on Pitot tubes noted during routine checks. Specific issues observed on part number PT-Heater-045, serial SN321669 from supplier HeatTech Solutions. Buildup appears to affect the functionality of the heating elements. Immediate attention required to assess impact on performance.",style:"verbose",label:"Buildup Issues on Pitot Tubes"}],100:[{date:"2022-04-25T09:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Analyzed buildup issues on Pitot tubes, specifically PT-Heater-045. 

- Defective heating elements identified as primary cause. 
- Supplier's quality control lacks verification processes for heating elements. 
- Immediate risk to airspeed readings and flight safety noted. 

**Recommendation:** Initiate replacement process with verified components.`,style:"skills limits",label:"Initial Analysis of Non-Conformity"},{date:"2022-04-25T11:00:00.000Z",role:"Design Office Expert Elec",name:"Marie-Claude Boucher",description:`Requesting detailed verification of electrical components used in Pitot tube heating. 

- Need to confirm specifications and quality control measures from HeatTech Solutions. 
- Essential to ensure compliance with operational standards.`,style:"skills limits",label:"Request for Electrical Component Verification"},{date:"2022-04-25T15:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided documentation from HeatTech Solutions regarding quality control processes. 

- Highlighted gaps in verification for heating elements. 
- Suggested immediate review of supplier's quality assurance protocols.`,style:"skills limits",label:"Response to Component Verification Request"},{date:"2022-04-26T10:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Consolidated findings from previous analyses. 

- Confirmed inadequate quality control as root cause. 
- Recommended immediate replacement of defective heating elements with verified components. 
- Suggested monitoring of airspeed readings post-replacement to ensure accuracy. 

**Next Steps:** Prepare documentation for final approval.`,style:"skills limits",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2022-04-27T11:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`**Analysis Summary:**
- Defective heating elements in Pitot tubes (PT-Heater-045) confirmed as primary issue.
- Supplier HeatTech Solutions lacks adequate quality control measures for heating elements.
- Immediate risk to airspeed readings and flight safety identified.

**Action Plan:**
- Recommend replacement of defective heating elements with verified components.
- Implement monitoring of airspeed readings post-replacement to ensure accuracy.

**Final Recommendation:**
- Proceed with documentation for final approval.
- Ensure compliance with operational standards to mitigate future risks.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-04-28T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Après analyse des éléments chauffants défectueux dans les tubes Pitot (PT-Heater-045), les calculs de stress ont été effectués pour évaluer l'impact potentiel sur la structure de l'avion.

- **Résultats des Calculs :**
 - Les éléments chauffants défectueux peuvent provoquer des vibrations anormales, affectant la structure environnante.
 - Risque accru de défaillance structurelle si les tubes Pitot ne fonctionnent pas correctement.

- **Recommandations :**
 - Remplacer immédiatement les éléments chauffants défectueux par des composants vérifiés.
 - Effectuer des tests de vibration sur la structure après remplacement pour s'assurer de l'intégrité.
 - Surveiller les lectures de vitesse après le remplacement pour garantir la précision.

**Plan d'Action :**
1. Coordination avec le Design Office pour la sélection de composants de remplacement.
2. Planification des tests de vibration et de performance après remplacement.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2022-04-28T12:00:00.000Z",role:"Stress Office Expert",name:"Sophie Lavoie",description:`Demande d'informations complémentaires concernant les spécifications des nouveaux éléments chauffants à utiliser pour le remplacement.

- **Besoins :**
 - Documentation technique sur les composants vérifiés.
 - Détails sur les procédures de test de performance et de vibration.

**Action :**
- Attendre la réponse du Quality Controller pour procéder.`,style:"skills limits",label:"Request for Additional Data"},{date:"2022-04-28T15:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Réponse à la demande d'informations complémentaires concernant les nouveaux éléments chauffants.

- **Documentation fournie :**
 - Spécifications techniques des composants vérifiés.
 - Procédures de test de performance et de vibration fournies par le fournisseur.

**Next Steps :**
- Transmettre ces informations au Stress Office pour finaliser l'analyse.`,style:"skills limits",label:"Response to Additional Data Request"},{date:"2022-04-29T10:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Analyse finale des données fournies et mise à jour des recommandations.

- **Analyse Complète :**
 - Les nouveaux éléments chauffants répondent aux spécifications nécessaires pour garantir la performance et la sécurité.
 - Les tests de vibration doivent être effectués pour confirmer l'intégrité structurelle après remplacement.

- **Recommandations Finales :**
 - Procéder au remplacement des éléments chauffants défectueux par les composants vérifiés.
 - Effectuer les tests de vibration et surveiller les lectures de vitesse après le remplacement.
 - Documenter tous les résultats et ajustements dans le rapport de non-conformité.

**Plan d'Action Consolidé :**
1. Coordination avec le Design Office pour le remplacement.
2. Mise en place des tests de vibration.
3. Suivi des performances post-remplacement.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2022-04-30T11:00:00.000Z",role:"Stress Manager",name:"Gabriel Fortin",description:`**Analysis Summary:**
- Defective heating elements in Pitot tubes (PT-Heater-045) confirmed as primary issue.
- Supplier HeatTech Solutions lacks adequate quality control measures for heating elements.
- Immediate risk to airspeed readings and flight safety identified.

**Action Plan:**
- Recommend replacement of defective heating elements with verified components.
- Implement vibration tests post-replacement to ensure structural integrity.
- Monitor airspeed readings after replacement to guarantee accuracy.

**Final Recommendation:**
- Proceed with the replacement of defective heating elements.
- Ensure compliance with operational standards to mitigate future risks.
- Document all results and adjustments in the non-conformity report.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-05-01T14:45:00.000Z",role:"Quality Manager",name:"François Lavoie",description:`**Analyse des Causes :**

- **Causes Externes :**
 - Les éléments chauffants défectueux des tubes Pitot (PT-Heater-045) proviennent de HeatTech Solutions, un fournisseur dont les processus de contrôle qualité sont insuffisants.
 - La vérification inadéquate des composants critiques a conduit à l'utilisation de pièces défectueuses, compromettant la sécurité des vols.

- **Causes Internes :**
 - Absence de procédures robustes pour détecter les anomalies de performance des éléments chauffants avant l'installation.
 - Manque de surveillance continue des performances des tubes Pitot en service.

**Plan d'Action :**

1. **Remplacement Immédiat :**
 - Remplacer tous les éléments chauffants défectueux par des composants vérifiés pour garantir la précision des lectures de vitesse.

2. **Tests de Vibration :**
 - Effectuer des tests de vibration post-remplacement pour assurer l'intégrité structurelle.

3. **Surveillance Continue :**
 - Mettre en place un système de surveillance continue des lectures de vitesse pour détecter rapidement toute anomalie.

4. **Amélioration des Processus :**
 - Collaborer avec HeatTech Solutions pour renforcer leurs processus de contrôle qualité.
 - Intégrer des vérifications supplémentaires dans notre chaîne de production pour éviter de futures non-conformités.

**Recommandation Finale :**

- Procéder immédiatement au remplacement des éléments défectueux et à la mise en œuvre des tests de vibration.
- Documenter tous les résultats et ajustements dans le rapport de non-conformité pour assurer la traçabilité et la conformité.
- Renforcer les relations avec les fournisseurs pour garantir des composants de haute qualité à l'avenir.

Ce plan d'action vise à garantir la navigabilité et la sécurité des aéronefs tout en minimisant les coûts et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Sensor erratic malfunction in redundant systems",nc_scenario_id:"ATA-31-0f16cbaf15f49b39",nc_event_seed:28771,nc_event_date:"2021-09-12 00:50:56.423000+00:00",nc_event_id:"ATA-31-0f16cbaf15f49b39-99fa",analysis_history:{"000":[{date:"2021-09-12T00:50:56.423Z",role:"Quality Controler",observation:"revealing pixelation of unexplained deviations in reports of",name:"Léa Tremblay",description:`Observation of pixelation issues noted in sensor data reports. 

Specific observations include:
- Inconsistent data output from affected units.
- Visual test failures observed during quality checks.
- Potential correlation with air data manufacturing process.

Impacted part:
- Part Number: DU-123-456
- Serial: A220-COCK-DISP-7890
- Supplier: Precision Corp Inc.`,style:"not fully fluent",label:"Sensor Malfunction Observations"}],100:[{date:"2021-09-12T01:30:56.423Z",role:"Design Office",name:"Marc Dupuis",description:`Analysis initiated based on report 000. Observations indicate pixelation and inconsistent data output. 

- Primary cause identified: Intermittent failure due to inadequate sealing processes. 
- Air data manufacturing vulnerabilities noted. 
- Contamination leading to air leakage affecting pressure sensors. 

Recommendation: Further investigation required on sealing methods.`,style:"elusive",label:"Initial Analysis of Sensor Malfunction"},{date:"2021-09-12T02:15:56.423Z",role:"Design Office Expert Elec",name:"Sophie Martin",description:`Request for detailed electrical output data from affected units. 

- Need to correlate electrical performance with observed pixelation. 
- Specific focus on data logs from DU-123-456 and serial A220-COCK-DISP-7890.`,style:"elusive",label:"Request for Additional Data on Electrical Outputs"},{date:"2021-09-12T03:00:56.423Z",role:"Quality Controler",name:"Léa Tremblay",description:`Provided additional electrical output data for affected sensor units. 

- Data shows fluctuations correlating with pixelation issues. 
- Suggests need for recalibration and potential redesign of sealing process.`,style:"elusive",label:"Response to Data Request"},{date:"2021-09-12T04:30:56.423Z",role:"Design Office",name:"Marc Dupuis",description:`Consolidated findings from previous analyses. 

- Poor sealing processes confirmed as primary cause. 
- Recommended actions: 
 - Implement improved sealing methods. 
 - Introduce pre-installation cleaning protocols to reduce contamination. 
 - Schedule recalibration of affected units across the fleet. 

Next steps: Monitor calibration failure rates post-implementation.`,style:"elusive",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2021-09-13T10:45:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
- Primary cause confirmed: inadequate sealing processes during A220 assembly.
- Contamination leading to air leakage affecting pressure sensors.

### Action Plan
1. **Implement Improved Sealing Methods**: Review and enhance current sealing protocols to prevent contamination.
2. **Pre-installation Cleaning Protocols**: Establish cleaning procedures to mitigate contamination risks before sensor installation.
3. **Recalibration Schedule**: Initiate recalibration of affected units across the fleet to ensure accurate data output.

### Final Recommendation
- Prioritize immediate implementation of sealing improvements and cleaning protocols to minimize risks of sensor malfunction.
- Monitor calibration failure rates closely post-implementation to evaluate effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-09-14T09:30:00.000Z",role:"Stress Office",name:"Julien Boucher",description:`### Stress Analysis Results
- Conducted stress calculations on the A220 structure affected by sensor malfunction.
- Evaluated potential impacts of improved sealing methods on structural integrity.
- No significant structural compromise observed with proposed sealing enhancements.

### Recommendations
1. **Implement Improved Sealing Methods**: Confirmed safe for structural integrity.
2. **Monitor Structural Performance**: Post-implementation monitoring for any unforeseen impacts.
3. **Further Testing**: Suggest additional tests on sealing materials under varying environmental conditions.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-09-14T12:00:00.000Z",role:"Stress Office Expert",name:"Chloé Gagné",description:`### Data Request
- Requesting detailed information on the sealing materials and processes currently in use.
- Need to assess compatibility with new sealing methods proposed.
- Additional data on environmental conditions during assembly required.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-09-14T15:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Data Provided
- Supplied details on current sealing materials: Type A, B, and C.
- Assembly conditions documented, including temperature and humidity levels.
- Suggested improvements in sealing process based on previous findings.`,style:"elusive",label:"Response to Data Request"},{date:"2021-09-15T10:00:00.000Z",role:"Stress Office",name:"Julien Boucher",description:`### Final Analysis Results
- Re-evaluated stress calculations with new sealing material data.
- Confirmed that proposed sealing improvements do not compromise structural integrity.

### Final Recommendations
1. **Implement Improved Sealing Methods**: Proceed with enhanced sealing protocols.
2. **Pre-installation Cleaning Protocols**: Essential to mitigate contamination risks.
3. **Recalibration Schedule**: Ensure recalibration of affected units to maintain data accuracy.
4. **Ongoing Monitoring**: Establish a monitoring plan for structural performance post-implementation.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-09-16T11:30:00.000Z",role:"Stress Manager",name:"Antoine Gagnon",description:`### Analysis Summary
- Stress calculations confirmed that proposed sealing improvements do not compromise structural integrity of A220.
- Recommendations from previous analyses validated.

### Action Plan
1. **Implement Improved Sealing Methods**: Proceed with enhanced sealing protocols to prevent contamination.
2. **Pre-installation Cleaning Protocols**: Establish cleaning procedures to mitigate contamination risks before sensor installation.
3. **Recalibration Schedule**: Initiate recalibration of affected units across the fleet to ensure accurate data output.
4. **Ongoing Monitoring**: Establish a monitoring plan for structural performance post-implementation.

### Final Recommendation
- Immediate implementation of sealing improvements and cleaning protocols is crucial to minimize risks of sensor malfunction.
- Monitor calibration failure rates closely post-implementation to evaluate effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-09-17T14:45:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse Finale

#### Causes Internes
- **Erreur d'assemblage** : Processus de scellement inadéquat identifié comme cause principale.
- **Mauvaise calibration** : Fluctuations dans les données électriques nécessitant recalibration.

#### Causes Externes
- **Défauts fournisseurs** : Matériaux de scellement potentiellement non conformes aux spécifications.

### Plan d'Action
1. **Amélioration des Méthodes de Scellement**
 - Revoir et renforcer les protocoles actuels pour prévenir la contamination.
 - Valider la compatibilité des nouveaux matériaux de scellement avec les conditions environnementales.

2. **Protocoles de Nettoyage Pré-installation**
 - Établir des procédures de nettoyage pour réduire les risques de contamination avant l'installation des capteurs.

3. **Calendrier de Recalibration**
 - Initier la recalibration des unités affectées à travers la flotte pour garantir l'exactitude des données.

4. **Surveillance Continue**
 - Mettre en place un plan de surveillance pour évaluer la performance structurelle post-implémentation.
 - Suivre de près les taux d'échec de calibration pour évaluer l'efficacité des mesures mises en place.

### Recommandation Finale
- **Implémentation Immédiate** : Prioriser l'amélioration des méthodes de scellement et les protocoles de nettoyage pour minimiser les risques de dysfonctionnement des capteurs.
- **Réduction des Coûts** : Envisager des solutions de détection rapide pour éviter des corrections coûteuses à long terme.
- **Efficacité Temporelle** : Optimiser les étapes d'analyse pour réduire les délais de production tout en garantissant la navigabilité et la fiabilité des produits.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Ice detector false readings",nc_scenario_id:"ATA-31-04e6fe124eba29d",nc_event_seed:28485,nc_event_date:"2021-09-23 22:50:56.494000+00:00",nc_event_id:"ATA-31-04e6fe124eba29d-e1b4",analysis_history:{"000":[{date:"2021-09-23T22:50:56.494Z",role:"Quality Controler",observation:"Pilot reports discrepancies in test detection during flight",name:"Léa Tremblay",description:`Pilot reported discrepancies in ice detection during flight tests. 

Specific observations noted: 
- Inconsistent readings from ice detector. 
- Potential impact on safety protocols. 

Affected part: 
- Part Number: ICS-345-890 
- Serial Number: SN258858 
- Supplier: SensorTech Co.`,style:"concise and precise",label:"Ice Detector Calibration Issue"}],100:[{date:"2021-09-24T09:15:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Upon reviewing the report submitted by the Quality Controller, it is evident that the ice detector, part number ICS-345-890, has been exhibiting inconsistent readings. This inconsistency poses a significant risk to safety protocols during flight operations. The primary cause identified is the incorrect calibration of the ice detector, which has resulted in erroneous communication of critical data to cockpit and cabin operations. 

To address this issue, I recommend initiating a comprehensive review of the calibration process currently in place for the ice detectors. This should include: 
1. A detailed examination of the calibration equipment used. 
2. Verification of the calibration procedures followed during the assembly of the A220 sensors. 
3. An assessment of environmental conditions during testing, as inadequate maintenance may have contributed to the discrepancies observed. 

Additionally, I propose to engage with the Design Office Expert Elec to further investigate the electronic components of the ice detector for any potential faults that may have been overlooked.`,style:"verbose",label:"Initial Analysis of Ice Detector Calibration Issue"},{date:"2021-09-24T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`In response to the initial analysis conducted by Julien Boucher, I will perform a thorough evaluation of the electronic components of the ice detector, part number ICS-345-890. This evaluation will focus on identifying any faults or inconsistencies that could contribute to the erroneous readings reported by pilots. 

The steps I will undertake include: 
1. Inspecting the electronic circuitry for any signs of damage or malfunction. 
2. Testing the sensor's output under controlled conditions to verify its accuracy. 
3. Reviewing the integration of the sensor within the A220 systems to ensure compatibility and proper functionality.`,style:"verbose",label:"Request for Technical Evaluation of Ice Detector Electronics"},{date:"2021-09-25T14:45:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Following the technical evaluation conducted by Sophie Gagnon, it has been determined that the electronic components of the ice detector are functioning within acceptable parameters. However, the calibration process remains a critical area that requires immediate attention. 

To mitigate the risk of future discrepancies, I recommend the following actions: 
1. Implement a revised calibration protocol that includes more rigorous testing and validation steps. 
2. Schedule regular maintenance checks for the ice detector systems to ensure optimal performance. 
3. Provide additional training for personnel involved in the calibration process to enhance their understanding of the equipment and procedures. 

These measures will help to ensure the reliability of ice detection systems and maintain safety protocols during flight operations.`,style:"verbose",label:"Consolidation of Findings from Technical Evaluation"},{date:"2021-09-26T10:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`I have reviewed the recommendations provided by the Design Office regarding the ice detector calibration issue. The proposed actions are comprehensive and address the root causes identified during the analysis. 

I will proceed to validate these recommendations and ensure that they are communicated to the relevant stakeholders for implementation. Additionally, I will monitor the progress of the calibration protocol revisions and maintenance checks to ensure compliance and effectiveness.`,style:"verbose",label:"Validation of Design Office Recommendations"}],200:[{date:"2021-09-27T11:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`### Analysis Summary
The ice detector calibration issue has been thoroughly analyzed. The primary causes identified are:
- **Internal Causes:** Incorrect calibration processes and inadequate maintenance during assembly.
- **External Causes:** Potential environmental factors affecting sensor performance.

### Recommended Actions
1. Revise the calibration protocol to include rigorous testing and validation.
2. Schedule regular maintenance checks to ensure optimal sensor performance.
3. Provide training for personnel involved in the calibration process.

### Conclusion
Implementing these recommendations will enhance the reliability of the ice detection systems, ensuring compliance with safety protocols and reducing the risk of future discrepancies.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-09-28T09:00:00.000Z",role:"Stress Office",name:"Antoine Gagnon",description:`### Analysis Overview
Conducted a preliminary stress analysis on the ice detection system, focusing on the calibration issue identified.

### Internal Causes
- **Calibration Errors:** Incorrect calibration processes leading to unreliable readings.
- **Assembly Quality:** Inadequate maintenance during assembly affecting sensor performance.

### External Causes
- **Environmental Factors:** Potential impact of temperature and humidity on sensor accuracy.

### Recommendations
1. **Reassess Calibration Protocol:** Ensure compliance with industry standards.
2. **Implement Rigorous Testing:** Validate sensor performance under various environmental conditions.
3. **Monitor Assembly Processes:** Enhance quality control measures during assembly.

These steps are crucial to ensure the integrity of the aircraft structure and maintain operational safety.`,style:"concise and precise",label:"Initial Stress Analysis of Ice Detector Calibration Issue"},{date:"2021-09-28T11:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Requesting detailed documentation on the current calibration procedures for the ice detector, including any recent changes or updates. This information is necessary to assess the impact of calibration on the structural integrity and performance of the A220.",style:"concise and precise",label:"Request for Additional Data on Calibration Procedures"},{date:"2021-09-29T10:00:00.000Z",role:"Stress Office",name:"Antoine Gagnon",description:`### Findings
Upon reviewing the calibration procedures provided:
- **Inconsistencies Identified:** Several steps in the calibration process do not align with industry best practices.
- **Lack of Environmental Controls:** No specific measures to account for environmental conditions during calibration.

### Recommendations
1. **Revise Calibration Procedures:** Update protocols to include environmental controls.
2. **Training for Personnel:** Ensure all staff involved in calibration are trained on the revised procedures.
3. **Regular Audits:** Implement periodic audits of calibration processes to ensure compliance.

These actions will enhance the reliability of the ice detection system and ensure compliance with safety protocols.`,style:"concise and precise",label:"Review of Calibration Procedures Documentation"},{date:"2021-09-30T14:00:00.000Z",role:"Stress Office Expert",name:"Émilie Roy",description:`### Final Analysis Summary
The stress calculations confirm that the proposed changes to the calibration process will not adversely affect the structural integrity of the A220. However, the following actions are critical:

### Action Plan
1. **Implement Revised Calibration Protocols:** Ensure all future calibrations account for environmental factors.
2. **Conduct Comprehensive Testing:** Validate the ice detector's performance under various operational conditions.
3. **Enhance Quality Control Measures:** Regularly review and update assembly and calibration processes to maintain compliance.

### Conclusion
Adopting these recommendations will mitigate risks associated with ice detection inaccuracies and enhance overall aircraft safety.`,style:"concise and precise",label:"Final Stress Analysis Report"}],400:[{date:"2021-10-02T10:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Analysis Overview
The stress analysis of the ice detector calibration issue has been completed. The findings confirm that the identified calibration inconsistencies and environmental factors could compromise the reliability of the ice detection system.

### Impact Assessment
- **Structural Integrity:** The proposed changes to the calibration process will not adversely affect the structural integrity of the A220.
- **Operational Safety:** Inaccurate ice detection poses risks to flight safety protocols, which must be addressed promptly.

### Recommended Actions
1. **Implement Revised Calibration Protocols:** Ensure future calibrations incorporate environmental controls to enhance accuracy.
2. **Conduct Comprehensive Testing:** Validate the ice detector's performance under various operational conditions to ensure reliability.
3. **Enhance Quality Control Measures:** Regularly review and update assembly and calibration processes to maintain compliance with industry standards.

### Conclusion
Adopting these recommendations will significantly mitigate risks associated with ice detection inaccuracies, thereby enhancing overall aircraft safety.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-10-03T15:45:00.000Z",role:"Quality Manager",name:"Mathieu Gauthier",description:`### Analyse des Causes
**Causes Internes:**
- **Mauvaise Calibration:** Processus de calibration incorrect, entraînant des lectures erronées.
- **Erreurs d'Assemblage:** Maintenance inadéquate pendant l'assemblage affectant la performance des capteurs.

**Causes Externes:**
- **Facteurs Environnementaux:** Température et humidité pouvant impacter la précision des capteurs.

### Plan d'Action
1. **Révision des Protocoles de Calibration:**
 - Intégrer des contrôles environnementaux pour améliorer la précision.
 - Mettre en place des audits réguliers pour assurer la conformité.

2. **Tests Comprehensifs:**
 - Valider la performance des détecteurs de glace sous diverses conditions opérationnelles.

3. **Amélioration des Mesures de Contrôle Qualité:**
 - Revoir et mettre à jour les processus d'assemblage et de calibration.
 - Former le personnel sur les nouveaux protocoles.

### Recommandation Finale
L'adoption de ces mesures réduira significativement les risques liés aux inexactitudes de détection de glace, améliorant ainsi la sécurité globale de l'aéronef. Il est crucial de prioriser ces actions pour garantir la navigabilité et la conformité aux normes de l'industrie, tout en optimisant les coûts et les délais de production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Erroneous autopilot disconnection in redundant displays",nc_scenario_id:"ATA-31-7cc700805ea6f2de",nc_event_seed:11413,nc_event_date:"2023-09-05 06:50:56.456000+00:00",nc_event_id:"ATA-31-7cc700805ea6f2de-f736",analysis_history:{"000":[{date:"2023-09-05T06:50:56.456Z",role:"Quality Controler",observation:"Pilot reports post-flight of anomalous during diagnostic checks",name:"Julien Tremblay",description:"During the recent diagnostic checks following flight operations, multiple pilots have reported encountering anomalous behaviors that were not previously documented. These reports indicate unexpected disconnections of the autopilot system, which could potentially lead to significant operational risks. The pilots specifically noted instances where the autopilot disengaged without any prior warning, leading to a lack of control during critical phases of flight. Additionally, the diagnostic checks revealed inconsistencies in the wiring procedures, particularly concerning the installation of wire harnesses that do not align with the established software wiring schematic. This misalignment has raised concerns about the reliability of the autopilot system and its integration with the aircraft's navigation capabilities. Furthermore, the wiring components supplied by ElectroWires Autocontrol, specifically part number WRH-789-234 and serial number A220-WIRE-1234, have been flagged for further investigation to ensure compliance with safety standards and operational efficiency.",style:"verbose",label:"Anomalous Pilot Reports During Diagnostic Checks"}],100:[{date:"2023-09-05T09:15:00.456Z",role:"Design Office",name:"Marc Gagnon",description:"Review of wiring procedures. Found misalignment with software schematic. Need to check wiring harness installation. Suggest to involve Design Office Expert Elec for deeper analysis.",style:"not fully fluent",label:"Initial Analysis of Wiring Issues"},{date:"2023-09-06T10:30:00.456Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:"Conducted thorough examination of wiring harness WRH-789-234. Found inconsistencies in installation. Recommend corrective measures to align with software schematic. Need to verify supplier compliance.",style:"not fully fluent",label:"Detailed Wiring Analysis"},{date:"2023-09-06T14:45:00.456Z",role:"Design Office",name:"Marc Gagnon",description:"Propose to implement automated checks for wiring installation. This should reduce errors by 70%. Need to prepare documentation for Quality Controler review.",style:"not fully fluent",label:"Mitigation Plan Proposal"},{date:"2023-09-07T11:00:00.456Z",role:"Quality Controler",name:"Julien Tremblay",description:"Reviewed proposed mitigation plan. Recommend additional training for technicians on wiring procedures. Ensure compliance with safety standards.",style:"not fully fluent",label:"Review of Mitigation Plan"},{date:"2023-09-07T15:30:00.456Z",role:"Design Office",name:"Marc Gagnon",description:"Compile all findings and recommendations. Finalize documentation for submission to Design Manager. Include training and automated checks in action plan.",style:"not fully fluent",label:"Final Recommendations Compilation"}],200:[{date:"2023-09-09T10:30:00.456Z",role:"Design Manager",name:"Émile Boucher",description:`### Analysis Summary
- Identified wiring misalignment with software schematic as root cause of autopilot disconnection.
- Wiring harness WRH-789-234 from ElectroWires Autocontrol flagged for compliance review.

### Action Plan
- Implement automated checks for wiring installation to reduce error rate by 70%.
- Additional training for technicians on wiring procedures to ensure adherence to safety standards.

### Recommendation
- Validate corrective measures and monitor implementation.
- Ensure ongoing compliance checks with supplier to mitigate future risks.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-09-10T12:00:00.456Z",role:"Stress Office",name:"Liam Gagnon",description:`### Stress Analysis Results
- Conducted stress calculations on wiring harness installation.
- Found potential stress concentration points due to misalignment with software schematic.
- Recommend immediate review of installation procedures to mitigate risks.

### Recommendations
- Implement additional stress testing on affected components.
- Ensure compliance with safety standards during installation.
- Monitor impact on navigability and structural integrity.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2023-09-10T14:30:00.456Z",role:"Stress Office Expert",name:"Émilie Roy",description:"Need more information on wiring harness specifications and installation guidelines. This will help refine stress analysis and ensure all factors considered.",style:"not fully fluent",label:"Request for Additional Data"},{date:"2023-09-10T15:45:00.456Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Wiring Harness Specifications
- Part Number: WRH-789-234
- Supplier: ElectroWires Autocontrol
- Installation guidelines attached for review.

### Additional Notes
- Ensure all technicians trained on correct installation procedures.`,style:"not fully fluent",label:"Response to Data Request"},{date:"2023-09-11T09:00:00.456Z",role:"Stress Office",name:"Liam Gagnon",description:`### Final Analysis Results
- Completed stress re-evaluation with additional data.
- Confirmed that wiring misalignment poses risk to structural integrity.
- Recommended corrective actions to realign wiring harness with software schematic.

### Consolidated Action Plan
- Implement automated checks for wiring installation to reduce error rate by 70%.
- Additional training for technicians on wiring procedures to ensure adherence to safety standards.
- Schedule follow-up stress tests post-corrective actions to validate improvements.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-09-12T11:15:00.456Z",role:"Stress Manager",name:"Antoine Lefebvre",description:`### Analysis Summary
- Confirmed wiring misalignment with software schematic as critical risk factor for autopilot disconnection.
- Stress calculations indicate potential structural integrity issues due to improper installation of wiring harness WRH-789-234.

### Action Plan
- Implement automated checks for wiring installation to ensure compliance and reduce error rate by 70%.
- Additional training for technicians on proper wiring procedures to enhance safety and operational reliability.
- Schedule follow-up stress tests after corrective actions to validate improvements and ensure ongoing compliance.

### Recommendation
- Immediate execution of proposed action plan.
- Continuous monitoring of wiring installations and supplier compliance to mitigate future risks.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-09-13T14:45:00.456Z",role:"Quality Manager",name:"Luc Desrochers",description:`### Analyse Finale
- **Causes Internes:**
 - Erreur d'installation des faisceaux de câbles, entraînant un désalignement avec le schéma logiciel.
 - Mauvaise calibration des procédures de câblage.
- **Causes Externes:**
 - Défauts des composants fournis par ElectroWires Autocontrol, nécessitant une révision de conformité.

### Plan d'Action
- **Automatisation:**
 - Mettre en place des vérifications automatisées pour l'installation des câblages, réduisant le taux d'erreur de 70%.
- **Formation:**
 - Formation supplémentaire des techniciens sur les procédures de câblage pour garantir la conformité aux normes de sécurité.
- **Tests de Stress:**
 - Planifier des tests de stress supplémentaires après les actions correctives pour valider les améliorations.

### Recommandation Finale
- **Exécution Immédiate:**
 - Lancer immédiatement le plan d'action proposé.
- **Surveillance Continue:**
 - Assurer une surveillance continue des installations de câblage et de la conformité des fournisseurs pour atténuer les risques futurs.

### Synthèse
- La mise en œuvre rapide et efficace du plan d'action est cruciale pour maintenir la navigabilité et la sécurité des aéronefs A220. Les mesures proposées visent à corriger les défauts identifiés tout en optimisant les coûts et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 36",nc_label:"Abnormal in vacuum waste system",nc_scenario_id:"ATA-38-0db9cb415960738",nc_event_seed:9418,nc_event_date:"2023-11-27 09:50:56.708000+00:00",nc_event_id:"ATA-38-0db9cb415960738-c3b1",analysis_history:{"000":[{date:"2023-11-27T09:50:56.708Z",role:"Quality Controler",observation:"Pressure test identifies leakage during assembly validation",name:"Julien Tremblay",description:"A pressure test conducted during the assembly validation phase has revealed a significant leakage issue. This observation indicates that there are potential failures in the sealing mechanisms of the vacuum waste discharge system. The specific components involved in this observation include the O-Ring-38-VAC, which has been supplied by AlignTech Inc. The leakage was noted at the connection points, suggesting that the integrity of the seals may be compromised. Further investigation is required to assess the extent of the leakage and to determine the necessary corrective actions to prevent any operational disruptions. Immediate attention to this matter is crucial to ensure compliance with safety and environmental standards.",style:"verbose",label:"Leakage Identified During Assembly Validation"}],100:[{date:"2023-11-27T10:30:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Review leakage report from Quality Controler. O-Ring-38-VAC from AlignTech Inc. identified as source. Vibration sealing issue due to defective O-rings. Need to check if other batches affected. Suggest pressure test on other components.",style:"not fully fluent",label:"Initial Analysis of Leakage Issue"},{date:"2023-11-27T12:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Analyze electrical systems linked to vacuum waste discharge. Ensure no electrical failures due to leakage. Recommend additional tests on sensors and connectors to confirm integrity.",style:"not fully fluent",label:"Electrical Component Review"},{date:"2023-11-27T13:30:00.000Z",role:"Design Office Expert Hydro",name:"Louis Boucher",description:"Evaluate hydraulic systems for potential impact from leakage. Check for fluid contamination or pressure loss. Suggest hydraulic tests to ensure system performance unaffected.",style:"not fully fluent",label:"Hydraulic System Assessment"},{date:"2023-11-28T09:00:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Compile results from electrical and hydraulic assessments. Confirm leakage issue primarily from O-Ring-38-VAC. Recommend immediate replacement of defective O-rings. Propose to monitor other components for similar issues.",style:"not fully fluent",label:"Consolidation of Findings"},{date:"2023-11-28T11:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Review findings from Design Office. Confirm need for O-ring replacement. Recommend tracking of all O-ring batches from AlignTech Inc. Ensure compliance with safety standards during replacement.",style:"not fully fluent",label:"Validation of Analysis"},{date:"2023-11-28T14:00:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Finalize action plan based on analysis. Immediate replacement of O-Ring-38-VAC. Implement monitoring for other components. Schedule follow-up tests to ensure no further leakage. Document all findings and actions taken.",style:"not fully fluent",label:"Final Action Plan"}],200:[{date:"2023-11-29T15:30:00.000Z",role:"Design Manager",name:"Émile Lefebvre",description:"Analysis confirms leakage from O-Ring-38-VAC due to defective O-rings from AlignTech Inc. Immediate replacement needed. Monitoring of other O-ring batches essential. Electrical and hydraulic assessments show no further issues. Recommend follow-up tests post-replacement to ensure integrity. Focus on compliance with safety standards and prevent operational disruption.",style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-11-30T09:00:00.000Z",role:"Stress Office",name:"Antoine Gagnon",description:"Conduct stress analysis on vacuum waste system. Evaluate impact of defective O-Ring-38-VAC on structural integrity. Use MATLAB for modeling. Initial findings indicate potential stress concentration at connection points. Recommend further investigation on load distribution.",style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2023-11-30T12:00:00.000Z",role:"Stress Office Expert",name:"Émilie Roy",description:"Perform detailed evaluation of stress distribution in vacuum waste system. Identify critical areas affected by leakage. Suggest additional tests under simulated operational conditions. Need data on operational loads for accurate modeling.",style:"not fully fluent",label:"Detailed Stress Evaluation"},{date:"2023-11-30T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Compile and send operational load data for vacuum waste system. Include maximum expected loads and environmental conditions. Ensure data is accurate for stress analysis.",style:"not fully fluent",label:"Provide Operational Load Data"},{date:"2023-11-30T16:00:00.000Z",role:"Stress Office Expert",name:"Émilie Roy",description:"Finalize stress analysis with provided operational load data. Confirm that replacement of O-Ring-38-VAC restores structural integrity. Recommend immediate replacement and monitoring of other O-rings. Document findings and prepare report for Design Manager.",style:"not fully fluent",label:"Finalize Stress Analysis"},{date:"2023-11-30T17:30:00.000Z",role:"Stress Manager",name:"Lucie Beaudoin",description:"Review stress analysis report. Confirm that corrective actions will maintain structural integrity and navigability. Approve recommendations for O-ring replacement and monitoring. Ensure compliance with safety standards.",style:"not fully fluent",label:"Review and Approve Stress Analysis"}],400:[{date:"2023-12-01T10:30:00.000Z",role:"Stress Manager",name:"Émilie Boucher",description:`After reviewing the stress analysis results, the impact of the defective O-Ring-38-VAC on the vacuum waste system was confirmed. The replacement of the faulty O-rings is essential to restore structural integrity. 

The stress distribution analysis indicates that the connection points are critical areas that require immediate attention. 

Recommendations:
- Proceed with the immediate replacement of O-Ring-38-VAC.
- Monitor all other O-ring batches from AlignTech Inc. for potential defects.
- Conduct follow-up stress tests post-replacement to ensure system integrity.

This action plan aims to maintain compliance with safety standards and prevent operational disruptions.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-12-02T14:45:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse et Recommandation Finale

#### Contexte
Une non-conformité a été identifiée dans le système de décharge des déchets sous vide de l'A220, liée à des joints toriques défectueux fournis par AlignTech Inc. Les tests de pression ont révélé des fuites significatives, compromettant l'intégrité des connexions.

#### Causes
- **Externe** : Défauts de fabrication des joints toriques (O-Ring-38-VAC) fournis par AlignTech Inc.
- **Interne** : Absence de détection préalable des défauts lors de l'inspection qualité des pièces reçues.

#### Impact
- **Navigabilité** : Risque de fuites entraînant des perturbations opérationnelles.
- **Coûts** : Augmentation des coûts d'inspection et de retards de production estimés à 50,000 $.

#### Plan d'Action
1. **Remplacement immédiat** des joints toriques défectueux (O-Ring-38-VAC).
2. **Surveillance continue** des autres lots de joints toriques provenant d'AlignTech Inc.
3. **Tests de suivi** post-remplacement pour confirmer l'intégrité du système.
4. **Optimisation des processus** de contrôle qualité pour inclure des tests de pression systématiques.
5. **Collaboration avec le fournisseur** pour améliorer la qualité des composants livrés.

#### Synthèse
L'analyse a confirmé que la cause principale des fuites est externe, liée à un défaut de fabrication. Les actions correctives proposées visent à restaurer l'intégrité structurelle du système tout en assurant la conformité aux normes de sécurité. La mise en œuvre rapide de ces mesures est cruciale pour minimiser les impacts financiers et opérationnels.

#### Conclusion
La validation finale recommande l'exécution immédiate du plan d'action pour garantir la navigabilité et la fiabilité du système, tout en réduisant les coûts et les délais de production. Une approche proactive est essentielle pour maintenir la conformité et prévenir de futures non-conformités.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Sensor erratic readings in redundant landing",nc_scenario_id:"ATA-31-2249f04cbaf3f4442b194",nc_event_seed:21163,nc_event_date:"2022-07-26 00:50:56.427000+00:00",nc_event_id:"ATA-31-2249f04cbaf3f4442b194-b0a8",analysis_history:{"000":[{date:"2022-07-26T00:50:56.427Z",role:"Quality Controler",observation:"Calibration test failures showing inconsistencies",name:"Julien Tremblay",description:`This report addresses the observation of calibration test failures that have been noted to exhibit inconsistencies. Specifically, the calibration tests conducted on the air data sensors have revealed discrepancies that are concerning and warrant further investigation. The inconsistencies observed during these tests suggest that the sensors may not be providing accurate readings, which could potentially lead to significant issues during flight operations. 

Additionally, it has been observed that the sensor in question, with part number ADS-321-467 and serial number A220-SENS-7890, supplied by Precision Systems Inc., has been flagged for further scrutiny due to these calibration failures. The implications of these inconsistencies could extend to various operational aspects, including but not limited to, flight safety and overall aircraft performance. 

It is imperative that these observations are documented thoroughly and addressed promptly to mitigate any risks associated with the erratic behavior of the sensors. Further analysis and recommendations will be necessary to understand the root cause of these calibration failures and to implement corrective actions as needed.`,style:"verbose",label:"Inconsistent Calibration Test Failures"}],100:[{date:"2022-07-26T08:30:00.427Z",role:"Design Office",name:"Émile Gagnon",description:`Analyze calibration failures noted in report 000. 

- Sensor part number ADS-321-467, serial A220-SENS-7890 flagged. 
- Inconsistencies in readings observed. 
- Primary cause: inadequate sealing processes during assembly. 
- Contamination risk identified. 
- Immediate need for better sealing methods. 

Next step: request additional data from Quality Controler.`,style:"not fully fluent",label:"Initial Analysis of Calibration Failures"},{date:"2022-07-26T09:00:00.427Z",role:"Quality Controler",name:"Julien Tremblay",description:`Received request for more data regarding calibration tests. 

- Need details on test conditions and frequency. 
- Any previous incidents with this sensor type? 
- Document any cleaning processes used before installation. 

Prepare data for Design Office.`,style:"not fully fluent",label:"Provide Additional Data"},{date:"2022-07-26T10:30:00.427Z",role:"Design Office",name:"Émile Gagnon",description:`Review data provided by Quality Controler. 

- Calibration tests show increased failure rate from 2% to 5%. 
- Cleaning processes inadequate, contamination likely. 
- Recommend immediate improvement in sealing methods. 
- Suggest pre-installation cleaning protocols. 

Next step: draft formal plan of action.`,style:"not fully fluent",label:"Review Additional Data"},{date:"2022-07-26T12:00:00.427Z",role:"Design Office",name:"Émile Gagnon",description:`Draft plan of action for sensor calibration issues. 

- Implement improved sealing methods. 
- Establish rigorous pre-installation cleaning. 
- Monitor calibration failure rates closely. 
- Schedule follow-up review in 3 months. 

Prepare for validation by Design Manager.`,style:"not fully fluent",label:"Draft Plan of Action"}],200:[{date:"2022-07-27T14:15:00.427Z",role:"Design Manager",name:"Mathieu Boucher",description:`### Analysis Summary
- Calibration failures of sensor ADS-321-467 (serial A220-SENS-7890) confirmed.
- Primary cause: inadequate sealing during assembly leading to contamination.
- External factors: supplier quality control issues noted.

### Action Plan
- Implement enhanced sealing methods immediately.
- Establish strict pre-installation cleaning protocols.
- Monitor calibration failure rates bi-weekly.
- Schedule follow-up review in 3 months to assess effectiveness.

### Recommendation
Proceed with the proposed actions to mitigate risks associated with sensor inaccuracies. Ensure all stakeholders are informed and involved in the implementation process.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-07-28T09:00:00.427Z",role:"Stress Office",name:"Marc Leblanc",description:`### Stress Analysis Results
- Conducted stress calculations on sensor mounting structure.
- Found no immediate structural integrity issues.
- However, sealing method changes may affect load distribution.

### Recommendations
- Monitor structural performance post-sealing method implementation.
- Suggest further analysis if failure rates do not decrease.

### Next Steps
- Request data on load conditions during flight for better modeling.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2022-07-28T10:00:00.427Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Load Data Request
- Need details on load conditions during typical flight operations.
- Include any variations in sensor usage across different aircraft.
- Prepare data for Stress Office analysis.`,style:"not fully fluent",label:"Provide Load Data"},{date:"2022-07-29T11:00:00.427Z",role:"Stress Office",name:"Marc Leblanc",description:`### Load Data Review
- Analyzed provided load conditions.
- Identified variations that could impact sensor performance.
- Need to adjust stress calculations based on this data.

### Next Steps
- Update stress model with new load data.
- Re-run calculations to assess impact on structural integrity.`,style:"not fully fluent",label:"Review Load Data"},{date:"2022-07-30T15:00:00.427Z",role:"Stress Office",name:"Marc Leblanc",description:`### Final Stress Analysis Results
- Updated calculations show no critical issues with new sealing methods.
- Load distribution remains within acceptable limits.
- Recommend implementing sealing improvements as planned.

### Action Plan
- Monitor calibration failure rates post-implementation.
- Schedule follow-up stress analysis in 6 months to ensure ongoing compliance.`,style:"not fully fluent",label:"Final Stress Analysis"}],400:[{date:"2022-08-01T09:30:00.427Z",role:"Stress Manager",name:"Alexandre Gagnon",description:`### Summary of Stress Analysis
- Reviewed final stress calculations based on updated sealing methods.
- No critical structural issues identified.
- Load distribution remains acceptable with new sealing protocols.

### Action Plan Validation
- Recommend proceeding with implementation of improved sealing methods.
- Monitor calibration failure rates closely after changes.
- Schedule follow-up stress analysis in 6 months to ensure continued compliance.

### Final Recommendation
- Ensure all stakeholders are informed of the changes.
- Document any further incidents or anomalies in sensor performance post-implementation.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-08-02T11:45:00.427Z",role:"Quality Manager",name:"Luc Deschamps",description:`### Analyse Finale

#### Causes Internes
- **Erreur d'assemblage** : Processus de scellement inadéquat identifié comme cause primaire.
- **Calibration insuffisante** : Augmentation du taux d'échec de calibration de 2% à 5%.

#### Causes Externes
- **Défauts fournisseurs** : Problèmes de contrôle qualité chez Precision Systems Inc.

### Impact et Risques
- **Sécurité de vol** : Risque potentiel d'instabilité en vol dû à des lectures erronées des capteurs.
- **Coûts** : Remplacement et recalibration coûtant environ $500,000 pour 10 avions.

### Plan d'Action
1. **Amélioration des méthodes de scellement** : Mise en œuvre immédiate pour réduire les risques de contamination.
2. **Protocoles de nettoyage pré-installation** : Établir des procédures strictes pour minimiser les contaminants.
3. **Surveillance continue** : Taux de défaillance de calibration à surveiller toutes les deux semaines.
4. **Analyse de suivi** : Revue des performances structurelles et des taux de défaillance dans 3 à 6 mois.

### Recommandation Finale
- **Mise en œuvre immédiate** des améliorations proposées pour garantir la navigabilité et la sécurité.
- **Communication** : Assurer que toutes les parties prenantes sont informées et impliquées dans le processus.
- **Documentation** : Enregistrer tout incident ou anomalie post-implémentation pour une analyse continue.

### Conclusion
Les actions proposées sont essentielles pour maintenir la sécurité et la conformité des opérations de l'A220. La réduction des coûts et l'efficacité temporelle sont prioritaires pour minimiser l'impact financier et opérationnel.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Malfunctioning cabin interphone in",nc_scenario_id:"ATA-31-f04e6f124dcccf29",nc_event_seed:27722,nc_event_date:"2021-10-25 17:50:56.482000+00:00",nc_event_id:"ATA-31-f04e6f124dcccf29-2502",analysis_history:{"000":[{date:"2021-10-25T17:50:56.482Z",role:"Quality Controler",observation:"Communication test failures during routine checks",name:"Julien Tremblay",description:`Report regarding the observation of non-conformity, including specific observations:
- Communication test failures noted during routine checks.
- Issues observed in the interphone system.
- Potential impact on communication reliability.
- Related part: ICS-345-781, Serial: A220-INTER-5678, Supplier: ComTech Industries.`,style:"elusive",label:"Interphone Communication Failure Report"}],100:[{date:"2021-10-26T09:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analysis of the non-conformity report regarding the interphone system failure. 
- Identified primary cause: Failure to update firmware correctly. 
- Oversight deficiencies noted during deployment. 
- Communication drop rate at 8% during tests is unacceptable. 

**Recommendations:** 
1. Implement enhanced firmware update protocols. 
2. Introduce validation checks post-deployment to ensure functionality. 
3. Schedule a follow-up review of the interphone system on all affected A220 aircraft.`,style:"concise and precise",label:"Analysis of Interphone Communication Failure"}],200:[{date:"2021-10-27T11:30:00.000Z",role:"Design Manager",name:"Alexandre Boucher",description:`Validation of the analysis and action plan regarding the interphone communication failure. 
- Primary cause confirmed: Incorrect firmware update process. 
- Oversight issues during deployment acknowledged. 
- Communication drop rate of 8% is critical. 

**Final Recommendations:** 
1. Enhance firmware update protocols to ensure accuracy. 
2. Implement post-deployment validation checks to confirm system functionality. 
3. Conduct a comprehensive review of the interphone system across all affected A220 aircraft. 
4. Monitor communication reliability metrics closely to prevent future occurrences.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-10-28T10:00:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`Après avoir effectué une analyse approfondie des impacts structurels liés à la défaillance du système d'interphone sur les aéronefs A220, nous avons utilisé des outils de modélisation avancés tels que MATLAB et Simulink pour évaluer les conséquences potentielles sur la structure de l'avion. 

### Résultats de l'Analyse : 
1. **Intégrité Structurelle :** Les calculs de stress ont montré que les modifications nécessaires pour corriger le firmware du système d'interphone n'affectent pas l'intégrité structurelle de l'A220. Cependant, il est crucial de surveiller les points de connexion et les supports du système d'interphone pour éviter toute défaillance future. 
2. **Navigabilité :** Les interruptions de communication peuvent avoir des conséquences graves sur la navigabilité. Il est impératif d'assurer une communication fiable entre le cockpit et la cabine, surtout en cas d'urgence. 
3. **Coûts de Production :** Les coûts estimés pour la mise à jour du firmware et les validations nécessaires s'élèvent à environ 100,000 USD pour la flotte de 8 A220. Cela représente un investissement significatif, mais nécessaire pour garantir la sécurité des opérations. 

### Recommandations : 
- **Mise en œuvre de Protocoles de Mise à Jour :** Établir des protocoles de mise à jour du firmware plus rigoureux pour éviter des erreurs similaires à l'avenir. 
- **Vérifications Post-Déploiement :** Introduire des vérifications systématiques après chaque mise à jour pour s'assurer que toutes les fonctionnalités sont opérationnelles. 
- **Suivi des Métriques de Communication :** Mettre en place un système de suivi des métriques de communication pour détecter rapidement toute anomalie. 
- **Formation du Personnel :** Former le personnel technique sur les nouvelles procédures de mise à jour et de validation pour garantir une compréhension complète des processus. 

### Demande d'Informations Complémentaires : 
Pour finaliser cette analyse, nous sollicitons des informations supplémentaires concernant les spécificités techniques du système d'interphone et les procédures de mise à jour actuelles. Cela nous permettra d'affiner nos recommandations et d'assurer une mise en œuvre efficace des solutions proposées.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2021-10-28T11:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Suite à la demande du Stress Office, voici les informations complémentaires concernant le système d'interphone : 
- **Spécifications Techniques :** Le système d'interphone ICS-345-781 est conçu pour fonctionner avec une redondance intégrée, mais des erreurs de mise à jour ont compromis cette fonctionnalité. 
- **Procédures de Mise à Jour :** Actuellement, les mises à jour sont effectuées manuellement, sans validation systématique post-déploiement. 
- **Historique des Mises à Jour :** Un historique des mises à jour est disponible, mais il manque des enregistrements de validation pour les dernières mises à jour effectuées. 

Ces informations devraient aider à finaliser l'analyse et à formuler des recommandations adaptées.`,style:"concise and precise",label:"Fourniture d'Informations Complémentaires"},{date:"2021-10-29T09:00:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`Après avoir reçu les informations complémentaires du Quality Controller, nous avons pu finaliser notre analyse des impacts structurels et des recommandations. 

### Analyse Complète : 
- **Problèmes Identifiés :** Les mises à jour manuelles sans validation systématique ont conduit à des défaillances dans le système d'interphone, affectant la communication entre le cockpit et la cabine. 
- **Impact sur la Structure :** Bien que l'intégrité structurelle de l'A220 ne soit pas compromise, les implications sur la navigabilité sont critiques. 

### Plan d'Action Consolidé : 
1. **Mise à Jour des Protocoles :** Établir des procédures de mise à jour automatisées avec vérifications intégrées. 
2. **Validation Post-Déploiement :** Introduire un processus de validation systématique après chaque mise à jour pour garantir la fonctionnalité. 
3. **Suivi des Performances :** Mettre en place un système de suivi des performances du système d'interphone pour détecter les anomalies en temps réel. 
4. **Documentation :** Créer une documentation détaillée des procédures de mise à jour et de validation pour référence future. 
5. **Formation Continue :** Assurer une formation continue pour le personnel technique sur les nouvelles procédures et technologies. 

### Conclusion : 
Ces mesures sont essentielles pour garantir la sécurité et la fiabilité du système d'interphone sur les A220. Nous recommandons une mise en œuvre rapide de ces actions pour éviter toute récurrence des problèmes de communication.`,style:"verbose",label:"Finalisation de l'Analyse et Plan d'Action Consolidé"}],400:[{date:"2021-10-30T10:15:00.000Z",role:"Stress Manager",name:"Émile Fournier",description:`### Analysis Summary: 
After reviewing the stress calculations and the consolidated action plan, the following points are noted: 
1. **Structural Integrity:** The stress analysis confirms that the firmware update corrections do not compromise the structural integrity of the A220. 
2. **Communication Reliability:** The previous communication drop rate of 8% is unacceptable and poses significant risks during critical operations. 
3. **Cost Implications:** The estimated cost of $100,000 for firmware updates across the fleet of 8 A220 aircraft is justified to ensure operational safety. 

### Final Recommendations: 
- **Implementation of Automated Update Protocols:** Establish automated procedures for firmware updates with integrated validation checks to prevent future failures. 
- **Post-Deployment Validation:** Introduce a systematic validation process after each update to ensure all functionalities are operational. 
- **Performance Monitoring:** Implement a real-time monitoring system for interphone performance to detect anomalies promptly. 
- **Documentation and Training:** Develop comprehensive documentation for update and validation procedures and ensure ongoing training for technical staff. 

### Conclusion: 
These measures are critical to maintaining the safety and reliability of the interphone system on the A220. Immediate implementation of these actions is recommended to prevent recurrence of communication issues.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-01T14:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Synthèse

**Contexte :**
- **Non-conformité identifiée :** Dysfonctionnement du système d'interphone de cabine.
- **Cause primaire :** Mise à jour incorrecte du firmware, causée par un manque de supervision adéquate lors du déploiement.
- **Impact :** Taux de défaillance de communication enregistré à 8%, compromettant la sécurité en vol.

**Causes Internes :**
- Erreurs dans le processus de mise à jour du firmware.
- Absence de vérifications systématiques post-déploiement.

**Causes Externes :**
- Aucun défaut fournisseur identifié.

**Impact Financier :**
- Coût estimé de 100,000 USD pour la rectification du firmware sur 8 appareils A220.

### Plan d'Action Recommandé

1. **Automatisation des Mises à Jour :**
 - Développer des protocoles automatisés pour les mises à jour du firmware avec des vérifications intégrées.

2. **Validation Post-Déploiement :**
 - Mettre en place un processus de validation systématique pour garantir la fonctionnalité après chaque mise à jour.

3. **Suivi en Temps Réel :**
 - Instaurer un système de surveillance en temps réel des performances de l'interphone pour détecter rapidement les anomalies.

4. **Documentation et Formation :**
 - Créer une documentation détaillée des procédures de mise à jour et de validation.
 - Assurer une formation continue du personnel technique sur les nouvelles procédures.

### Conclusion

Ces mesures sont essentielles pour garantir la sécurité et la fiabilité du système d'interphone sur les A220. Une mise en œuvre rapide est recommandée pour prévenir toute récurrence des problèmes de communication. L'accent doit être mis sur l'amélioration des processus internes pour éviter des coûts supplémentaires à l'avenir.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 21",nc_label:"Incorrect ventilation fan installation",nc_scenario_id:"ATA-21-5d229df581f5318c",nc_event_seed:25305,nc_event_date:"2022-02-03 10:50:56.194000+00:00",nc_event_id:"ATA-21-5d229df581f5318c-def5",analysis_history:{"000":[{date:"2022-02-03T10:50:56.194Z",role:"Quality Controler",observation:"function inspections showing improper fit",name:"Léa Tremblay",description:`During function inspections, improper fit of the ventilation fan was observed. Specific issues noted include:
- Misalignment of the fan unit.
- Ineffective filtration due to installation errors.
- Potential impact on air quality in the cabin.

Affected part:
- Part Number: VF-306
- Serial Number: SN742388
- Supplier: AirFilter Co.`,style:"concise and precise",label:"Improper Fit Observed During Function Inspections"}],100:[{date:"2022-02-03T11:00:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Upon reviewing the report submitted by Quality Controller Léa Tremblay, it is evident that the improper fit of the ventilation fan, specifically part number VF-306, has been identified during function inspections. The misalignment of the fan unit has resulted in ineffective filtration, which poses a significant risk to air quality in the cabin. 

The primary cause of this issue appears to stem from technician error during routine assembly, exacerbated by unclear procedural instructions and a lack of experience among new technicians. 

To mitigate this issue, it is imperative to develop clearer procedural guidelines and implement a comprehensive training program for technicians, particularly targeting those who are new to the assembly process. This will help ensure that all technicians are adequately equipped to perform their tasks correctly, thereby reducing the likelihood of misalignment and subsequent filtration inefficiencies.`,style:"verbose",label:"Initial Analysis of Improper Fit"},{date:"2022-02-03T12:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`In light of the findings regarding the improper fit of the ventilation fan, I am requesting additional technical input regarding the electrical systems associated with the fan installation. 

It is crucial to understand if there are any electrical implications that may arise from the misalignment and ineffective filtration. Specifically, I would like to know if the current electrical configuration could be contributing to the installation errors or if adjustments are needed to accommodate the corrected installation procedures. 

Please provide your insights on this matter at your earliest convenience.`,style:"verbose",label:"Request for Technical Input on Electrical Systems"},{date:"2022-02-03T13:15:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:`Following the initial analysis of the improper fit of the ventilation fan, I am reaching out for your expertise regarding the hydraulic systems involved in the installation. 

Understanding the hydraulic implications of the misalignment is essential to ensure that the corrective actions we propose do not inadvertently affect the performance of the hydraulic systems. 

Please assess whether the current hydraulic setup could be influencing the installation process and provide recommendations for any necessary adjustments to prevent future occurrences of this issue.`,style:"verbose",label:"Request for Technical Input on Hydraulic Systems"},{date:"2022-02-03T14:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`In response to the requests for technical input from the Design Office, I have gathered relevant information regarding the electrical and hydraulic systems associated with the ventilation fan installation. 

For the electrical systems, it appears that the current configuration does not directly contribute to the installation errors; however, ensuring that all technicians are familiar with the electrical components involved is critical. 

As for the hydraulic systems, there are no significant concerns that would affect the installation process. However, I recommend that all technicians receive training on the integration of these systems with the ventilation fan to ensure proper alignment and functionality.`,style:"verbose",label:"Response to Technical Inquiries"},{date:"2022-02-04T09:00:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Based on the comprehensive analysis and the input received from the electrical and hydraulic experts, I propose the following action plan to address the improper fit of the ventilation fan: 

1. **Develop Clearer Procedural Guidelines**: Create detailed assembly instructions that outline each step of the installation process, ensuring clarity and precision. 
2. **Implement Comprehensive Training Programs**: Conduct training sessions for all technicians, focusing on the importance of alignment and the potential impacts of misinstallation on air quality and system efficiency. 
3. **Monitor Installation Errors**: Establish a tracking system to monitor installation errors, aiming to reduce the current rate of 1.5% to below 0.5% in the next year. 
4. **Conduct Regular Audits**: Schedule regular audits of the assembly process to ensure compliance with the new procedures and to identify any areas for further improvement. 

By executing this action plan, we aim to mitigate the risks associated with improper fan installation and enhance the overall quality of our aircraft systems.`,style:"verbose",label:"Final Analysis and Action Plan"}],200:[{date:"2022-02-05T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
The improper fit of the ventilation fan (Part Number: VF-306) has been identified as a recurring issue, primarily due to technician error during assembly. The misalignment leads to ineffective filtration, compromising cabin air quality.

### Action Plan
1. **Clearer Procedural Guidelines**: Develop detailed instructions for assembly.
2. **Training Programs**: Implement training for technicians, focusing on alignment and installation importance.
3. **Error Monitoring**: Track installation errors to reduce the current rate of 1.5% to below 0.5% within a year.
4. **Regular Audits**: Conduct audits to ensure compliance with new procedures.

### Final Recommendation
I endorse the proposed action plan. It addresses the root causes effectively and aligns with our operational standards. Immediate implementation is crucial to mitigate risks associated with improper fan installation.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-02-06T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Résultats de l'Analyse
Les calculs de stress effectués sur la structure en lien avec l'installation incorrecte du ventilateur de ventilation (Part Number: VF-306) ont révélé les points suivants :

1. **Impact sur la Structure**: La misalignment du ventilateur n'affecte pas directement la résistance structurelle, mais peut entraîner des vibrations excessives qui pourraient, à long terme, compromettre l'intégrité de la structure.
2. **Conséquences sur la Navigabilité**: Une filtration inefficace peut mener à une accumulation de contaminants, affectant les systèmes de contrôle environnemental et potentiellement la navigabilité de l'appareil.
3. **Coûts de Production**: Les erreurs d'installation peuvent générer des coûts supplémentaires significatifs, estimés à 8 000 $ par aéronef, si elles ne sont pas corrigées rapidement.

### Recommandations
Pour atténuer les risques identifiés, je propose les actions suivantes :
1. **Validation des Procédures**: Assurer que les nouvelles procédures d'assemblage soient validées par le Stress Office avant leur mise en œuvre.
2. **Formation Technique**: Renforcer la formation des techniciens en mettant l'accent sur l'importance de l'alignement et les impacts potentiels sur la structure.
3. **Surveillance Continue**: Mettre en place un système de surveillance pour détecter les erreurs d'installation en temps réel, permettant une intervention rapide.
4. **Audits de Conformité**: Réaliser des audits réguliers pour garantir que les nouvelles procédures sont suivies et que les installations sont conformes aux exigences de stress.

Ces recommandations visent à garantir la sécurité, la fiabilité et la conformité des systèmes d'air, tout en minimisant les coûts associés aux erreurs d'installation.`,style:"concise and precise",label:"Analyse des Calculs de Stress"},{date:"2022-02-06T10:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Demande d'Informations
Suite à l'analyse des calculs de stress, j'aimerais obtenir des précisions sur les points suivants :
1. **Détails sur les Vibrations**: Pouvez-vous fournir des données spécifiques sur les niveaux de vibrations mesurés lors des tests de stress ?
2. **Impacts sur les Systèmes**: Existe-t-il des recommandations spécifiques concernant les systèmes de contrôle environnemental en cas de vibrations excessives ?

Ces informations sont cruciales pour compléter notre évaluation et mettre en œuvre les recommandations proposées.`,style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2022-02-06T12:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Réponse aux Questions
1. **Détails sur les Vibrations**: Les tests ont montré que les niveaux de vibrations dépassent les seuils acceptables de 5% lors de l'opération à pleine capacité. Cela nécessite une attention immédiate.
2. **Impacts sur les Systèmes**: Il est recommandé d'installer des amortisseurs supplémentaires pour minimiser les vibrations et protéger les systèmes de contrôle environnemental. Une analyse supplémentaire des composants affectés est également conseillée.

### Plan d'Action Consolidé
1. **Installation d'Amortisseurs**: Intégrer des amortisseurs dans le système de ventilation pour réduire les vibrations.
2. **Analyse des Composants**: Effectuer une analyse approfondie des systèmes de contrôle environnemental pour évaluer les impacts des vibrations.
3. **Suivi des Modifications**: Mettre en place un suivi des modifications apportées pour garantir l'efficacité des solutions mises en œuvre.`,style:"concise and precise",label:"Réponse à la Demande d'Informations"}],400:[{date:"2022-02-08T14:30:00.000Z",role:"Stress Manager",name:"Mathieu Lefebvre",description:`### Analysis Summary
Following the stress calculations regarding the improper installation of the ventilation fan (Part Number: VF-306), the following points have been validated:

1. **Structural Impact**: Misalignment does not directly compromise structural integrity but can lead to excessive vibrations affecting long-term durability.
2. **Operational Consequences**: Ineffective filtration may cause contaminant buildup, impacting environmental control systems and potentially the aircraft's airworthiness.
3. **Cost Implications**: Installation errors could incur significant costs, estimated at $8,000 per aircraft if not addressed promptly.

### Final Recommendations
1. **Procedure Validation**: Ensure new assembly procedures are validated by the Stress Office before implementation.
2. **Enhanced Technician Training**: Focus on alignment importance and structural impacts during technician training.
3. **Continuous Monitoring**: Implement a real-time monitoring system for installation errors to allow for immediate corrective actions.
4. **Compliance Audits**: Conduct regular audits to ensure adherence to new procedures and installation requirements.

By executing these recommendations, we aim to enhance the safety, reliability, and compliance of the aircraft systems while minimizing associated costs.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-02-09T16:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale
L'installation incorrecte du ventilateur de ventilation (Part Number: VF-306) a été identifiée comme un problème récurrent, principalement dû à des erreurs de techniciens lors de l'assemblage. La mauvaise alignement entraîne une filtration inefficace, compromettant la qualité de l'air en cabine et l'efficacité des systèmes HVAC.

#### Causes Internes
- **Erreur d'Assemblage**: Manque d'expérience et instructions peu claires.
- **Calibration Inadéquate**: Absence de vérification post-assemblage.

#### Causes Externes
- **Défauts Fournisseurs**: Composants potentiellement non conformes.

### Plan d'Action
1. **Procédures Clarifiées**: Développer des instructions détaillées pour l'assemblage.
2. **Formation Renforcée**: Mettre en œuvre des programmes de formation pour les techniciens, axés sur l'importance de l'alignement et les impacts potentiels sur la structure.
3. **Validation des Procédures**: Assurer que les nouvelles procédures soient validées par le Stress Office avant mise en œuvre.
4. **Surveillance Continue**: Implémenter un système de suivi en temps réel pour détecter les erreurs d'installation et permettre des actions correctives immédiates.
5. **Audits de Conformité**: Réaliser des audits réguliers pour garantir l'adhérence aux nouvelles procédures et exigences d'installation.

### Recommandation Finale
L'exécution de ce plan d'action est cruciale pour atténuer les risques associés à l'installation incorrecte des ventilateurs, améliorer la sécurité et la fiabilité des systèmes aéronautiques, tout en minimisant les coûts liés aux erreurs d'installation. Une mise en œuvre immédiate est recommandée pour garantir la navigabilité et la conformité des appareils.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 50",nc_label:"Aluminum structure fuselage scratch",nc_scenario_id:"ATA-50-2a12a7161f4852500",nc_event_seed:29641,nc_event_date:"2021-08-06 18:50:56.865000+00:00",nc_event_id:"ATA-50-2a12a7161f4852500-cb0f",analysis_history:{"000":[{date:"2021-08-06T18:50:56.865Z",role:"Quality Controler",observation:"Surface inspections reveal inconsistent Durability on show compromised",name:"Liam Tremblay",description:`Observation of surface inspections shows inconsistent durability. 

Specific issues noted on part: 
- Part Number: 603496-N 
- Serial: STR220-AL 
- Supplier: MetAll Ltd. 

Concerns regarding potential impact on structural integrity and possible need for further analysis.`,style:"not fully fluent",label:"Fuselage Surface Integrity Issue"}],100:[{date:"2021-08-07T09:30:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Initial review of the surface integrity issue noted in report 000. 
- Surface scratches identified on part 603496-N, serial STR220-AL. 
- Primary cause linked to mishandling during rivet placement. 
- Need for further investigation into handling protocols and potential training deficiencies.`,style:"elusive",label:"Initial Analysis of Surface Integrity Issue"},{date:"2021-08-07T11:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Martin",description:`Request for detailed documentation on current handling procedures for aluminum structures. 
- Aim to identify gaps in training and process compliance. 
- Essential for understanding root cause and mitigating future risks.`,style:"elusive",label:"Request for Additional Data on Handling Procedures"},{date:"2021-08-07T15:00:00.000Z",role:"Quality Controler",name:"Liam Tremblay",description:`Provided documentation on handling procedures. 
- Highlighted areas of concern regarding operator training. 
- Suggested review of compliance with established protocols.`,style:"elusive",label:"Response to Handling Procedures Request"},{date:"2021-08-08T10:45:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Completed analysis of handling procedures based on received documentation. 
- Identified inconsistencies in training and execution. 
- Recommended enhanced training programs and regular audits to ensure compliance.`,style:"elusive",label:"Analysis of Handling Procedures"},{date:"2021-08-09T14:20:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Consolidated recommendations for mitigating future surface integrity issues. 
- Implement enhanced training for all personnel involved in handling aluminum structures. 
- Establish regular audits of handling processes to ensure adherence to protocols. 
- Monitor and review surface integrity post-implementation to assess effectiveness.`,style:"elusive",label:"Final Recommendations for Mitigation"}],200:[{date:"2021-08-10T11:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`The analysis conducted by the Design Office identified surface scratches on part 603496-N, serial STR220-AL, primarily due to mishandling during rivet placement. Recommendations include:

- Enhanced training programs for personnel handling aluminum structures to mitigate risks.
- Regular audits of handling processes to ensure compliance with established protocols.
- Continuous monitoring of surface integrity post-implementation to evaluate effectiveness.

This approach aims to address internal handling deficiencies while ensuring compliance with industry standards, thus safeguarding structural integrity without presuming structural impacts at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-08-10T14:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Conducted initial stress analysis on part 603496-N, serial STR220-AL. 
- Evaluated impact of surface scratches on structural integrity. 
- Preliminary findings indicate potential localized stress concentrations. 
- Further analysis required to quantify impact on navigability and production costs.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-08-10T15:00:00.000Z",role:"Stress Office Expert",name:"Sophie Martin",description:`Requesting detailed specifications of the aluminum alloy used in part 603496-N. 
- Essential for accurate stress modeling. 
- Need for historical data on similar parts to assess performance under stress.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-08-10T16:00:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`Provided specifications of aluminum alloy used in part 603496-N. 
- Included historical performance data for similar parts. 
- Highlighted previous issues related to handling that may affect stress distribution.`,style:"elusive",label:"Response to Data Request"},{date:"2021-08-11T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Completed comprehensive stress analysis on part 603496-N, serial STR220-AL. 
- Findings indicate localized stress concentrations due to surface scratches. 
- Recommendations include:
 - Immediate rework of affected areas to restore surface integrity.
 - Implementation of enhanced handling protocols to prevent recurrence.
 - Continuous monitoring of stress distribution post-rework to ensure compliance with safety standards.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-08-12T10:15:00.000Z",role:"Stress Manager",name:"Julien Fortin",description:`The stress analysis conducted on part 603496-N, serial STR220-AL, reveals significant localized stress concentrations due to surface scratches. 
- Immediate rework is necessary to restore surface integrity and mitigate risks of structural failure. 
- Enhanced handling protocols must be implemented to prevent recurrence of similar issues. 
- Continuous monitoring of stress distribution is essential post-rework to ensure compliance with safety standards. 
- Recommend regular audits of handling processes to maintain adherence to protocols and safeguard structural integrity.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-08-13T14:45:00.000Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte
L'analyse a révélé des rayures de surface sur la pièce 603496-N, série STR220-AL, principalement dues à une mauvaise manipulation lors de la pose des rivets. Ces rayures entraînent des concentrations de stress localisées, compromettant potentiellement l'intégrité structurelle.

#### Causes
- **Internes** :
 - Erreur d'assemblage lors de la pose des rivets.
 - Formation insuffisante des opérateurs sur les protocoles de manipulation.
- **Externes** :
 - Aucun défaut fournisseur identifié.

#### Impact
- **Navigabilité** : Risque accru de corrosion et de faiblesse structurelle.
- **Coûts** : Réparations immédiates nécessaires, avec des implications potentielles sur les délais de production.

#### Plan d'Action
1. **Rework Immédiat** :
 - Restaurer l'intégrité de surface des zones affectées.
2. **Formation et Protocoles** :
 - Mettre en œuvre des programmes de formation améliorés pour le personnel manipulant les structures en aluminium.
 - Audits réguliers des processus de manipulation pour garantir la conformité.
3. **Surveillance Continue** :
 - Suivi continu de la distribution des stress après rework pour assurer la conformité aux normes de sécurité.

#### Synthèse
L'approche proposée vise à corriger les déficiences internes de manipulation tout en garantissant la conformité aux normes de l'industrie. La mise en œuvre rapide de ces mesures est cruciale pour minimiser les risques de défaillance structurelle et les coûts associés. Un suivi rigoureux et des audits réguliers sont essentiels pour maintenir l'intégrité structurelle et la navigabilité de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 50",nc_label:"Passenger light failure",nc_scenario_id:"ATA-50-4e9d46a0f4ab",nc_event_seed:27296,nc_event_date:"2021-11-12 11:50:56.825000+00:00",nc_event_id:"ATA-50-4e9d46a0f4ab-3642",analysis_history:{"000":[{date:"2021-11-12T11:50:56.825Z",role:"Quality Controler",observation:"Passenger reports of light outages",name:"Julien Tremblay",description:`Report regarding passenger light outages. 
Specific observations: 
- Multiple reports from passengers about lights not functioning. 
- Initial checks show LED220 lights from supplier FuelFlow. 
- No immediate visible damage noted on the units. 
- Need further investigation on the cause of outages.`,style:"not fully fluent",label:"Passenger Light Outage Report"}],100:[{date:"2021-11-12T12:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analysis initiated regarding the passenger light failure report. 

- Contamination of LED batch identified as primary cause. 
- Initial validation of supplier FuelFlow operational but failed during long-term performance tests. 
- Need to assess the extent of contamination and its impact on operational integrity. 

Recommendation: Engage Design Office Expert Elec for detailed electrical analysis.`,style:"elusive",label:"Initial Analysis of Passenger Light Failure"},{date:"2021-11-12T14:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Dubois",description:`Conducted an electrical performance assessment of LED220 lights. 

- No immediate visible damage observed. 
- Recommend further testing on a sample batch from FuelFlow to determine contamination levels. 
- Analysis of electrical specifications required to ensure compliance with operational standards.`,style:"elusive",label:"Electrical Performance Assessment"},{date:"2021-11-13T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated findings from electrical assessment. 

- Confirmed contamination issue with LED batch from FuelFlow. 
- Potential for operational integrity issues if not addressed. 

Recommendation: Propose switching to a more reliable supplier with rigorous quality assurance processes. 
- Develop a plan to monitor customer complaints post-mitigation.`,style:"elusive",label:"Consolidation of Findings"},{date:"2021-11-13T11:30:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Reviewed the analysis and recommendations provided by Design Office. 

- Findings align with initial reports of passenger dissatisfaction. 
- Support the recommendation to switch suppliers and implement monitoring metrics. 
- Ensure that all actions are documented for future reference.`,style:"verbose",label:"Validation of Analysis and Recommendations"}],200:[{date:"2021-11-14T10:15:00.000Z",role:"Design Manager",name:"Émile Fortier",description:`### Summary of Analysis and Action Plan
- **Issue**: Passenger light outages linked to LED220 from supplier FuelFlow.
- **Cause**: Contamination of LED batch identified, affecting long-term performance.
- **Recommendations**:
 - Switch to a more reliable supplier with stringent quality control.
 - Implement a monitoring system for customer complaints post-mitigation.
- **Next Steps**: Prepare for structural impact assessment after supplier change.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-14T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Initial Stress Analysis Results
- **Objective**: Evaluate structural integrity post LED220 supplier change.
- **Findings**:
 - Contamination from FuelFlow affects LED performance but not structural components.
 - No immediate structural modifications required.
- **Next Steps**: Monitor performance metrics and customer feedback post-implementation.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-11-14T14:30:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Boucher",description:`### Request for Additional Data
- **Need**: Detailed specifications of new supplier's LED components.
- **Purpose**: Ensure compliance with operational standards and assess potential impacts on structure.
- **Action**: Contact Design Office for updated supplier data.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-11-14T16:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Supplier Data Submission
- **Details**: Provided specifications and quality assurance processes from new supplier.
- **Relevance**: Ensures compliance with operational standards and mitigates risk of contamination.
- **Next Steps**: Forward data to Stress Office for further analysis.`,style:"verbose",label:"Supplier Data Provided"},{date:"2021-11-15T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Final Stress Assessment Results
- **Objective**: Confirm structural integrity with new supplier's LED specifications.
- **Findings**:
 - New supplier meets operational standards; no structural modifications required.
 - Recommend ongoing monitoring of LED performance to ensure reliability.
- **Action Plan**:
 - Implement a feedback loop for customer complaints.
 - Schedule follow-up assessments post-implementation.`,style:"elusive",label:"Final Stress Assessment"}],400:[{date:"2021-11-16T11:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Summary of Stress Analysis and Action Plan
- **Objective**: Validate stress analysis and impact of action plan regarding LED220 supplier change.
- **Findings**:
 - Structural integrity confirmed with new supplier's LED specifications.
 - No modifications required to existing structures.
- **Recommendations**:
 - Proceed with supplier switch to ensure reliability.
 - Implement a robust monitoring system for customer complaints and LED performance.
- **Next Steps**:
 - Schedule follow-up assessments to evaluate long-term performance.
 - Document all findings and actions for future reference.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-17T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte
- **Problème** : Défaillance des lumières passagers LED220.
- **Cause principale** : Contamination du lot de LED provenant du fournisseur FuelFlow.
- **Impact** : Insatisfaction des passagers, risque pour la réputation de la compagnie aérienne.

#### Analyse des Causes
- **Causes externes** : Défauts de fabrication chez FuelFlow, impactant la performance à long terme.
- **Causes internes** : Aucun défaut d'assemblage ou de calibration identifié.

#### Recommandations
- **Changement de fournisseur** : Adopter un fournisseur avec des contrôles qualité rigoureux pour garantir l'intégrité opérationnelle.
- **Système de suivi** : Mettre en place un système de suivi des plaintes clients pour évaluer l'efficacité des mesures correctives.

#### Plan d'Action
1. **Sélection du nouveau fournisseur** : Valider les spécifications et les processus d'assurance qualité.
2. **Mise en œuvre** : Remplacer les LED défectueuses par celles du nouveau fournisseur.
3. **Suivi et évaluation** : Surveillance continue des performances des LED et des retours clients.
4. **Documentation** : Consigner toutes les étapes et résultats pour référence future.

#### Synthèse
- **Intégrité structurelle** : Confirmée, aucun changement nécessaire.
- **Coûts** : Minimiser les coûts de remplacement et éviter des réclamations futures.
- **Efficacité** : Optimiser les délais de mise en œuvre et de suivi pour réduire les interruptions de service.

Cette approche garantit la navigabilité, la fiabilité et la conformité des systèmes de l'A220, tout en assurant une gestion efficace des coûts et des délais.`,style:"concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 50",nc_label:"Aluminum structure wire scratch",nc_scenario_id:"ATA-50-ad7ddc47960c09b1",nc_event_seed:10624,nc_event_date:"2023-10-08 03:50:56.852000+00:00",nc_event_id:"ATA-50-ad7ddc47960c09b1-538c",analysis_history:{"000":[{date:"2023-10-08T03:50:56.852Z",role:"Quality Controler",observation:"Surface conductivity reveal during",name:"Léa Tremblay",description:`Report regarding the non-conformity observation:

- Observation of surface conductivity issues during handling processes.
- Specific issues noted with part number SDW902, serial STR220-AL, supplied by ElectroSafe Corp.
- Initial findings indicate potential risks associated with static discharge during transportation.
- Concerns raised about the integrity of aluminum structures due to inadequate handling measures.`,style:"verbose",label:"Aluminum Structure Wire Scratch Report"}],100:[{date:"2023-10-08T09:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Conducted a preliminary analysis of the report regarding surface conductivity issues. Noted the specific part SDW902 and its supplier ElectroSafe Corp. Identified potential risks from static discharge during transport. Recommended further investigation into handling procedures and material integrity.",style:"skills limits",label:"Initial Analysis of Non-Conformity"},{date:"2023-10-08T11:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Evaluated the electrical conductivity of the aluminum structure. Suggested tests to measure static discharge levels during handling. Emphasized the need for improved grounding techniques during transport to mitigate risks.",style:"skills limits",label:"Electrical Conductivity Assessment"},{date:"2023-10-09T10:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Reviewed current handling procedures for aluminum structures. Identified gaps in training and awareness regarding static discharge. Proposed enhanced training protocols to ensure proper handling and minimize risks.",style:"skills limits",label:"Review of Handling Procedures"},{date:"2023-10-09T14:45:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Provided feedback on the proposed actions. Agreed with the need for enhanced training and recommended documenting all handling procedures. Suggested a follow-up review after implementation.",style:"skills limits",label:"Feedback on Proposed Actions"},{date:"2023-10-10T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Consolidated recommendations based on analyses and feedback. Recommended implementing enhanced training protocols and revising handling procedures. Suggested monitoring incidents post-implementation to measure effectiveness.",style:"skills limits",label:"Final Recommendations"}],200:[{date:"2023-10-11T11:30:00.000Z",role:"Design Manager",name:"Julien Fortier",description:`Analysis reviewed. Handling issues identified with aluminum structure SDW902. Static discharge risk during transport noted. Recommended actions include:

- Enhanced training for handling procedures.
- Improved grounding techniques during transport.
- Documentation of all handling processes.

Final recommendation: Implement training and revise procedures to mitigate risks. Monitor incidents post-implementation for effectiveness.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-10-12T09:30:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`Analyse des impacts de la non-conformité sur la structure en aluminium SDW902.

- **Modélisation effectuée** : Utilisation de MATLAB pour simuler les effets de décharges électrostatiques sur la résistance structurelle.
- **Résultats** : Les simulations montrent que les décharges statiques peuvent provoquer des microfissures dans la structure, compromettant l'intégrité.
- **Recommandations** :
 - Mise en place de procédures de mise à la terre améliorées lors du transport.
 - Formation renforcée pour le personnel sur les risques de décharges électrostatiques.
 - Surveillance continue des incidents de surface conductrice pour ajuster les procédures.

**Plan d'action consolidé** :
- Implémenter les recommandations ci-dessus dans un délai de 30 jours.
- Réévaluation des procédures de manipulation après mise en œuvre pour assurer l'efficacité.`,style:"skills limits",label:"Calculs de Stress sur la Structure Aluminium SDW902"},{date:"2023-10-12T11:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Suite aux résultats des calculs de stress, des informations supplémentaires sont nécessaires pour compléter l'analyse :

- **Données sur les conditions de transport** : Informations sur les méthodes de transport utilisées pour le SDW902.
- **Historique des incidents** : Détails sur les incidents antérieurs liés à des décharges électrostatiques sur d'autres composants en aluminium.

Ces informations permettront d'affiner les recommandations et d'assurer une mise en œuvre efficace des mesures correctives.`,style:"skills limits",label:"Demande d'Informations Complémentaires"},{date:"2023-10-12T15:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`Analyse des informations complémentaires fournies par le Quality Controller.

- **Conditions de transport** : Les méthodes de transport actuelles ne respectent pas les normes de mise à la terre recommandées.
- **Historique des incidents** : Plusieurs incidents documentés montrent des problèmes similaires sur d'autres composants, confirmant la nécessité d'une révision des procédures.

**Recommandations supplémentaires** :
- Établir un protocole de transport standardisé pour tous les composants en aluminium, incluant des vérifications de mise à la terre avant le transport.
- Formation continue pour le personnel sur l'importance de la gestion des décharges électrostatiques.`,style:"skills limits",label:"Analyse des Informations Complémentaires"},{date:"2023-10-13T10:00:00.000Z",role:"Stress Office Expert",name:"Sophie Boucher",description:`Validation des recommandations finales basées sur l'analyse des stress et des informations complémentaires.

- **Conclusions** : Les décharges électrostatiques représentent un risque significatif pour l'intégrité de la structure SDW902. Les mesures recommandées sont essentielles pour prévenir des dommages futurs.
- **Plan d'action final** :
 - Mise en œuvre immédiate des procédures de mise à la terre et de formation.
 - Suivi des incidents et réévaluation des procédures tous les 6 mois.

Ces mesures garantiront la navigabilité et la sécurité des opérations.`,style:"skills limits",label:"Validation des Recommandations Finales"}],400:[{date:"2023-10-14T11:30:00.000Z",role:"Stress Manager",name:"Julien Boucher",description:`**Analysis Summary**: Reviewed stress calculations for aluminum structure SDW902. Confirmed static discharge risks identified during handling. 

**Impact Assessment**: Stress simulations indicate potential microcracks due to static discharge. Immediate action required to maintain structural integrity. 

**Recommendations**: 
- Implement enhanced grounding procedures during transport. 
- Conduct training sessions for staff on static discharge risks. 
- Establish standardized transport protocols for aluminum components. 

**Action Plan**: 
- Immediate execution of recommendations within 30 days. 
- Monitor incidents and re-evaluate procedures every 6 months to ensure effectiveness.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-10-15T14:45:00.000Z",role:"Quality Manager",name:"Éric Lavoie",description:`### Analyse et Recommandation Finale

#### Contexte
La non-conformité identifiée concerne une rayure sur le fil de structure en aluminium, causée par une décharge électrostatique (ESD) pendant le transport. Les risques incluent des microfissures compromettant l'intégrité structurelle.

#### Causes
- **Internes** : Procédures de manipulation inadéquates, formation insuffisante sur les risques ESD.
- **Externes** : Défauts de mise à la terre pendant le transport, conditions de transport non conformes aux normes.

#### Impact
- **Navigabilité** : Risque de faiblesse structurelle pouvant affecter la sécurité des vols.
- **Coûts** : Estimation des coûts de mitigation à 25,000 $, avec des retards potentiels sur 15 timelines.

#### Recommandations
1. **Procédures de Mise à la Terre** : Implémentation immédiate de techniques améliorées pendant le transport.
2. **Formation** : Sessions de formation renforcées pour le personnel sur les risques ESD, à réaliser dans les 30 jours.
3. **Protocoles de Transport** : Établissement de protocoles standardisés pour tous les composants en aluminium, incluant des vérifications de mise à la terre.
4. **Surveillance Continue** : Suivi des incidents et réévaluation des procédures tous les 6 mois.

#### Synthèse
Les mesures proposées visent à garantir la navigabilité et la sécurité, tout en optimisant les coûts et les délais de production. Une mise en œuvre rapide et un suivi rigoureux sont essentiels pour prévenir des dommages futurs et assurer la conformité aux standards de l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 51",nc_label:"Corrosion bonding lower composite panels",nc_scenario_id:"ATA-51-9c7e684e6f89da6e",nc_event_seed:26445,nc_event_date:"2021-12-17 22:50:56.941000+00:00",nc_event_id:"ATA-51-9c7e684e6f89da6e-5df3",analysis_history:{"000":[{date:"2021-12-17T22:50:56.941Z",role:"Quality Controler",observation:"Ultrasound tests during inconsistent bonding across",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:
- Ultrasound tests indicate inconsistent bonding across the lower composite panels.
- Specific observations noted on part 93242-C, serial LS22-A220-2134 from Structural Solutions Inc.
- Issues with surface bonding tolerances leading to potential corrosion risks.`,style:"concise and precise",label:"Inconsistent Bonding Detection"}],100:[{date:"2021-12-18T09:30:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`Upon reviewing the report submitted by Quality Controler Julien Tremblay, it is evident that the ultrasound tests have revealed inconsistent bonding across the lower composite panels, specifically on part number 93242-C, serial LS22-A220-2134 from Structural Solutions Inc. This inconsistency poses a significant risk of corrosion due to ineffective adhesive cycles, which have led to surface bonding tolerances being compromised. The primary cause of this issue appears to be the inadequate bonding process during the adhesive application phase.

To mitigate the risks associated with these weak bonds, I recommend the following actions:
1. Conduct a thorough review of the adhesive application process to identify any procedural flaws.
2. Implement additional training for the operators involved in the bonding process to ensure adherence to established guidelines.
3. Initiate a re-evaluation of the adhesive materials used, considering alternatives that may provide better bonding characteristics.
4. Schedule a follow-up ultrasound inspection after the implementation of these changes to assess the effectiveness of the corrective measures.`,style:"verbose",label:"Initial Analysis of Inconsistent Bonding"},{date:"2021-12-18T11:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Leclerc",description:"In light of the findings regarding inconsistent bonding, I am reaching out to request your expertise on the electrical properties of the adhesives currently in use. Understanding the electrical characteristics may provide insights into the bonding failures observed. Please provide any relevant data or recommendations on alternative adhesives that could enhance bonding reliability, particularly in environments prone to corrosion.",style:"verbose",label:"Request for Technical Input on Adhesive Properties"},{date:"2021-12-18T14:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"I appreciate the detailed analysis provided by Mathieu Gagnon regarding the inconsistent bonding issue. In response to the request for technical input on adhesive properties, I can confirm that the current adhesive used has been previously validated for structural applications. However, I recommend conducting a comparative analysis with alternative adhesives that have demonstrated superior performance in similar applications. Additionally, I suggest we gather feedback from the production team regarding any anomalies observed during the bonding process.",style:"verbose",label:"Response to Technical Inquiry"},{date:"2021-12-19T10:45:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`After receiving the response from Quality Controler Julien Tremblay, I have consolidated the findings and recommendations for addressing the inconsistent bonding issue. The following plan of action is proposed:
1. Initiate a comparative study of alternative adhesives with enhanced bonding properties.
2. Conduct a workshop with the production team to discuss observed anomalies and gather insights on the bonding process.
3. Implement a revised training program focused on best practices for adhesive application.
4. Schedule a follow-up ultrasound inspection to evaluate the effectiveness of the implemented changes.

This comprehensive approach aims to ensure structural integrity and mitigate the risk of corrosion in the affected composite panels.`,style:"verbose",label:"Consolidation of Findings and Recommendations"}],200:[{date:"2021-12-20T10:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis and Action Plan Validation

The analysis conducted by the Design Office highlights critical issues related to inconsistent bonding on part 93242-C, serial LS22-A220-2134. The primary cause is identified as ineffective adhesive application, leading to compromised surface bonding tolerances.

### Recommended Actions
1. **Review Adhesive Application Process**: Identify procedural flaws contributing to bonding inconsistencies.
2. **Operator Training**: Enhance training for operators to ensure compliance with bonding guidelines.
3. **Adhesive Material Evaluation**: Assess alternative adhesives with superior bonding characteristics.
4. **Follow-up Ultrasound Inspection**: Schedule inspections post-implementation to verify corrective measures.

### Conclusion
This structured approach aims to mitigate corrosion risks and ensure structural integrity. Further evaluations will be necessary to confirm the effectiveness of these actions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-12-21T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Résultats de l'Analyse de Stress

Les calculs de stress effectués sur la structure des panneaux composites inférieurs ont révélé des zones critiques où les liaisons faibles pourraient compromettre l'intégrité structurelle. Les résultats indiquent une réduction significative de la rigidité dans les zones affectées, ce qui pourrait entraîner un risque de délaminage sous des charges progressives.

### Recommandations
1. **Renforcement des Panneaux**: Il est recommandé de renforcer les zones identifiées avec des matériaux composites supplémentaires pour améliorer la résistance à la corrosion et la rigidité.
2. **Revue des Procédures d'Assemblage**: Une réévaluation des procédures d'assemblage doit être effectuée pour minimiser les erreurs internes, notamment en ce qui concerne l'application des adhésifs.
3. **Formation Continue**: Mettre en place des sessions de formation régulières pour le personnel sur les meilleures pratiques d'assemblage et d'application des adhésifs.
4. **Suivi Post-Implémentation**: Planifier des inspections régulières après la mise en œuvre des recommandations pour garantir l'efficacité des mesures correctives.

### Conclusion
Ces mesures visent à assurer la navigabilité et la sécurité des aéronefs en réduisant le risque de corrosion et en maintenant l'intégrité structurelle des panneaux composites.`,style:"concise and precise",label:"Calculs de Stress et Analyse de la Structure"},{date:"2021-12-21T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Suite aux résultats des calculs de stress, je sollicite des informations supplémentaires concernant les matériaux utilisés pour le renforcement des panneaux. Il serait également utile d'obtenir des données sur les performances des adhésifs alternatifs envisagés, afin de garantir que les modifications proposées ne compromettent pas la résistance ou la navigabilité.",style:"verbose",label:"Demande d'Informations Complémentaires"},{date:"2021-12-21T11:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Informations Complémentaires

Les matériaux de renforcement recommandés incluent des composites à haute résistance, tels que le carbone ou le verre renforcé, qui ont démontré une efficacité accrue dans des environnements corrosifs. Concernant les adhésifs, une évaluation comparative avec des produits ayant des propriétés améliorées en termes de résistance à la corrosion et de performance mécanique est en cours.

### Prochaines Étapes
- Finaliser la sélection des matériaux et des adhésifs.
- Mettre en œuvre les recommandations de renforcement et de formation.`,style:"concise and precise",label:"Réponse à la Demande d'Informations"}],400:[{date:"2021-12-22T09:15:00.000Z",role:"Stress Manager",name:"Émile Gagnon",description:`### Stress Analysis and Impact Assessment

The stress calculations have confirmed critical areas where weak bonds may compromise structural integrity. The findings indicate significant stiffness reduction in affected zones, raising concerns about potential delamination under progressive loads.

### Recommended Action Plan
1. **Panel Reinforcement**: Strengthen identified areas with additional composite materials to enhance corrosion resistance and stiffness.
2. **Assembly Procedure Review**: Reassess assembly procedures to minimize internal errors, particularly in adhesive application.
3. **Ongoing Training**: Implement regular training sessions for staff on best practices for assembly and adhesive application.
4. **Post-Implementation Monitoring**: Schedule regular inspections after implementing recommendations to ensure corrective measures' effectiveness.

### Conclusion
These actions aim to ensure aircraft navigability and safety by reducing corrosion risk and maintaining structural integrity of composite panels.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-12-23T14:45:00.000Z",role:"Quality Manager",name:"Marc-André Bouchard",description:`### Analyse Finale et Plan d'Action

#### Contexte et Causes
Les tests par ultrasons ont révélé des liaisons inconsistantes sur les panneaux composites inférieurs, causées par une application inefficace des adhésifs. Les causes internes incluent des erreurs d'assemblage et une mauvaise calibration des équipements. Les causes externes pourraient être liées à des défauts de matériaux fournis par Structural Solutions Inc.

#### Impact et Risques
La réduction de la rigidité structurelle due à ces liaisons faibles augmente le risque de délaminage et de corrosion, compromettant la navigabilité et entraînant des coûts de renforcement et de maintenance élevés.

#### Recommandations
1. **Renforcement Structurel**: Appliquer des matériaux composites supplémentaires sur les zones critiques pour améliorer la résistance.
2. **Révision des Procédures**: Revoir et optimiser les procédures d'application des adhésifs pour minimiser les erreurs.
3. **Formation Continue**: Mettre en place des sessions de formation régulières pour le personnel sur les meilleures pratiques d'assemblage.
4. **Inspection Post-Implémentation**: Planifier des inspections régulières pour évaluer l'efficacité des mesures correctives.

#### Conclusion
Ces actions visent à garantir la sécurité et la fiabilité des aéronefs tout en optimisant les coûts et les délais de production. Une approche proactive et intégrée est essentielle pour maintenir la conformité et la performance des produits dans l'industrie aéronautique.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 35",nc_label:"Faulty anti-icing valve operation",nc_scenario_id:"ATA-35-683998a35e5c2",nc_event_seed:16512,nc_event_date:"2023-02-04 19:50:56.516000+00:00",nc_event_id:"ATA-35-683998a35e5c2-64d6",analysis_history:{"000":[{date:"2023-02-04T19:50:56.516Z",role:"Quality Controler",observation:"reports test exposes inconsistent detection performance flight low temperatures",name:"Léa Tremblay",description:`Report regarding the observation of non-conformity:
- Inconsistent detection performance noted during flight tests at low temperatures.
- Specific issues observed in the anti-icing system.
- Initial findings suggest potential impact on safety and operational reliability.
- Components involved include part number AV300, serial SN741373 from supplier ValveMakers Inc.`,style:"elusive",label:"Inconsistent Detection Performance in Low Temperature Flights"}],100:[{date:"2023-02-04T20:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Conducted a detailed review of the reported inconsistent detection performance in low temperatures. Identified faulty anti-icing valve operation as a primary concern. Manufacturing defect linked to improper material selection for the seal in the A220's calibration climate interface. This defect leads to intermittent valve operation, risking aircraft icing on critical surfaces.",style:"concise and precise",label:"Initial Analysis of Non-Conformity"},{date:"2023-02-04T21:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Need further insights on the electrical implications of the faulty anti-icing valve operation. Specifically, how the intermittent performance affects the overall anti-icing system functionality and reliability during low-temperature flights.",style:"concise and precise",label:"Request for Electrical System Insights"},{date:"2023-02-05T09:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Reviewed the request and confirmed that the electrical system's performance is directly impacted by the valve's operation. Suggested that further tests be conducted to assess the full extent of the impact on the anti-icing system.",style:"concise and precise",label:"Response to Electrical Insights Request"},{date:"2023-02-05T10:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Developed a mitigation plan to address the identified non-conformity. Recommended replacing the faulty valve with verified parts that meet the required temperature specifications. This action aims to restore normal anti-icing functionality and ensure safety during operations.",style:"concise and precise",label:"Mitigation Plan Development"},{date:"2023-02-06T14:00:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:"Reviewed the analysis and mitigation plan proposed by the Design Office. Confirmed the necessity of replacing the valve and approved the action plan for implementation. Emphasized the importance of monitoring the new parts for performance consistency.",style:"concise and precise",label:"Validation of Analysis and Mitigation Plan"}],200:[{date:"2023-02-07T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis confirmed faulty anti-icing valve operation due to manufacturing defect. Miscommunication with supplier led to improper material selection for seal. This causes intermittent operation, risking icing on critical surfaces. 

Mitigation plan: Replace faulty valve with verified parts meeting temperature specs. Monitor new parts for performance consistency. 

Recommendation: Proceed with valve replacement to ensure safety and reliability in low-temperature operations. No structural impacts presumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-02-08T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Stress Analysis Results

After conducting a thorough stress analysis on the structural implications of replacing the faulty anti-icing valve (part number AV300, serial SN741373) with verified parts, the following findings were noted:

1. **Material Integrity**: The new seal material proposed for the replacement has been evaluated against the operational temperature ranges specified for the A220. The selected material demonstrates adequate resistance to thermal expansion and contraction, ensuring that it will maintain its sealing properties under low-temperature conditions.

2. **Intermittent Operation Risk**: The previous intermittent operation of the valve posed a significant risk of icing on critical surfaces. The new design is expected to eliminate this risk, thereby enhancing the overall safety of the aircraft during low-temperature operations.

3. **Structural Impact**: The analysis indicates that the replacement of the valve does not compromise the structural integrity of the aircraft. The load distribution around the valve assembly remains within acceptable limits, and no additional reinforcements are deemed necessary at this stage.

4. **Cost Implications**: The estimated cost for the replacement parts and labor is approximately $75,000. However, the potential cost of flight immobilization, which could reach $20,000 daily, underscores the financial prudence of this action.

### Recommendations

- **Immediate Replacement**: Proceed with the replacement of the faulty valve with the verified parts as outlined in the mitigation plan.
- **Monitoring**: Implement a monitoring protocol for the new valve to ensure consistent performance during low-temperature operations. This should include regular inspections and performance assessments during flight tests.
- **Further Testing**: Conduct additional tests to validate the performance of the anti-icing system post-replacement, ensuring that all systems function as intended under operational conditions.

### Conclusion
The proposed actions are critical to ensuring the safety and reliability of the A220 aircraft. The stress analysis confirms that the replacement of the anti-icing valve is both necessary and feasible without compromising structural integrity.`,style:"verbose",label:"Stress Analysis of Anti-Icing Valve Replacement"},{date:"2023-02-08T11:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Reviewed the stress analysis results provided by the Stress Office. Confirmed the necessity of the valve replacement and the recommendations for monitoring and further testing. Suggested that the implementation of the replacement be expedited to mitigate any potential risks associated with the faulty valve operation.",style:"concise and precise",label:"Response to Stress Analysis Findings"},{date:"2023-02-08T13:00:00.000Z",role:"Stress Office Expert",name:"Sophie Boucher",description:"In light of the stress analysis findings, I am requesting additional performance data regarding the electrical implications of the new valve. Specifically, we need to understand how the new valve's operation interacts with the overall anti-icing system functionality, particularly during low-temperature flights. This data is essential to ensure that the modifications do not inadvertently affect the electrical systems associated with the anti-icing functionality.",style:"verbose",label:"Request for Additional Performance Data"},{date:"2023-02-08T15:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Confirmed that the electrical system's performance will be monitored closely during the new valve's operation. Additional tests will be conducted to gather the necessary performance data, ensuring that any interactions with the anti-icing system are fully understood and documented.",style:"concise and precise",label:"Response to Request for Additional Performance Data"}],400:[{date:"2023-02-09T10:15:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`### Analysis and Action Plan Validation

After reviewing the stress analysis results and the proposed mitigation plan regarding the faulty anti-icing valve (part number AV300, serial SN741373), the following points have been confirmed:

1. **Stress Analysis Confirmation**: The stress analysis conducted by the Stress Office indicates that the replacement of the faulty valve with verified parts is structurally sound. The new seal material has been validated for its performance under the specified operational temperature ranges for the A220, ensuring that it will maintain its integrity during low-temperature operations.

2. **Impact on Aircraft Safety**: The previous intermittent operation of the valve posed significant safety risks due to potential icing on critical surfaces. The proposed replacement is expected to eliminate this risk, thereby enhancing the safety and operational reliability of the aircraft.

3. **Cost-Benefit Consideration**: The estimated cost for the replacement parts and labor is approximately $75,000. Given the potential daily cost of flight immobilization, which could reach $20,000, the financial implications of this action are justified.

4. **Monitoring and Further Testing**: It is imperative to implement a robust monitoring protocol for the new valve to ensure consistent performance. Additional tests should be conducted post-replacement to validate the functionality of the anti-icing system under operational conditions.

### Final Recommendation

Proceed with the immediate replacement of the faulty anti-icing valve as outlined in the mitigation plan. Ensure that all necessary monitoring and testing protocols are established to safeguard against any future operational issues. This action is critical to maintaining the safety and reliability of the A220 aircraft.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-02-10T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse et Synthèse

**Contexte et Causes**
- **Interne**: Erreur de communication interne a conduit à une mauvaise sélection de matériaux pour le joint, affectant l'opération de la valve anti-givrage.
- **Externe**: Défaut de fabrication chez le fournisseur ValveMakers Inc., causant un fonctionnement intermittent de la valve.

**Impact**
- Risque de givrage sur les surfaces critiques de l'avion, compromettant la sécurité.
- Coût potentiel de l'immobilisation des vols: $20,000 par jour.

**Plan d'Action**
- **Remplacement**: Remplacer immédiatement la valve défectueuse par des pièces vérifiées conformes aux spécifications de température.
- **Surveillance**: Mettre en place un protocole de surveillance pour assurer la performance constante des nouvelles valves.
- **Tests Complémentaires**: Effectuer des tests supplémentaires pour valider le système anti-givrage après remplacement.

### Recommandation Finale
- **Action Immédiate**: Procéder au remplacement de la valve défectueuse pour garantir la sécurité et la fiabilité de l'A220.
- **Optimisation**: Améliorer la communication avec le fournisseur pour éviter des erreurs similaires à l'avenir.
- **Réduction des Coûts**: Prioriser la détection rapide des défauts pour minimiser les coûts de production et d'immobilisation.

Cette approche garantit la navigabilité et la conformité du produit tout en optimisant les coûts et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 51",nc_label:"Deformed wing ribs affecting fit",nc_scenario_id:"ATA-51-c1a8ebb5ddd5e92f",nc_event_seed:22580,nc_event_date:"2022-05-27 23:50:56.921000+00:00",nc_event_id:"ATA-51-c1a8ebb5ddd5e92f-7ad7",analysis_history:{"000":[{date:"2022-05-27T23:50:56.921Z",role:"Quality Controler",observation:"Assembly misalignments detected via 3D modeling during mock assembly",name:"Léa Tremblay",description:`Non-conformity reported regarding wing rib assembly.

- Misalignment observed during mock assembly.
- Specific issues noted with part number 508897-W, serial WR18-A220-9027 from supplier Wing Masters Co.
- Immediate concern for rib fit and potential aerodynamic impact.`,style:"concise and precise",label:"Deformed Wing Ribs Affecting Fit"}],100:[{date:"2022-05-28T09:15:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Upon reviewing the non-conformity report regarding the deformed wing ribs affecting fit, it is imperative to conduct a thorough analysis of the deformation observed in part number 508897-W, serial WR18-A220-9027 from supplier Wing Masters Co. The excessive tension during rib fitting has resulted in deformation beyond acceptable tolerances, leading to misalignment in the wing assembly. This misalignment can significantly alter aerodynamic efficiency and structural load distribution, which are critical for flight safety and performance. 

To mitigate this issue, I recommend the following actions: 
1. Immediate replacement of the deformed ribs with conforming ribs to ensure a compliant fit. 
2. Conduct a detailed inspection of all ribs from the same batch to identify any additional deformations. 
3. Review the rib fitting process to identify potential improvements in tension application to prevent recurrence of this issue. 

Further collaboration with the Quality Control team may be necessary to ensure all affected components are addressed.`,style:"verbose",label:"Initial Analysis of Non-Conformity"},{date:"2022-05-28T14:30:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Thank you for the detailed analysis regarding the deformed wing ribs. I acknowledge the recommendations provided for immediate replacement and inspection of the ribs from the same batch. To facilitate the process, I will ensure that all records related to the rib fitting procedures are available for review. Additionally, I will coordinate with the assembly team to monitor the fitting process closely moving forward. Please let me know if further assistance is needed.",style:"verbose",label:"Response to Design Office Analysis"},{date:"2022-05-29T10:45:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Following the response from the Quality Control team, I have compiled the necessary data regarding the rib fitting process. It is crucial to implement a more rigorous inspection protocol for all wing ribs prior to assembly to ensure compliance with structural integrity standards. 

In addition to the immediate replacement of deformed ribs, I recommend the following: 
1. Development of a training program for assembly personnel focusing on proper rib fitting techniques to minimize excessive tension application. 
2. Implementation of a feedback loop where assembly personnel can report any anomalies during the fitting process for real-time adjustments. 
3. A comprehensive review of the supplier's quality assurance processes to ensure that future batches of ribs meet the required specifications. 

These steps will help mitigate the risk of similar non-conformities in the future.`,style:"verbose",label:"Follow-Up Analysis and Recommendations"}],200:[{date:"2022-05-30T11:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`**Analysis Summary:**
- Deformed wing ribs (part 508897-W, serial WR18-A220-9027) due to excessive tension during fitting.
- Misalignment observed, affecting aerodynamic efficiency and structural load.

**Action Plan:**
1. Replace deformed ribs immediately.
2. Inspect all ribs from the same batch for deformations.
3. Review rib fitting process to minimize excessive tension.
4. Develop training for assembly personnel on proper fitting techniques.
5. Implement feedback mechanism for real-time anomaly reporting.
6. Review supplier quality assurance processes.

**Recommendation:**
- Proceed with immediate actions to ensure compliance and prevent recurrence. Focus on training and process improvement for long-term reliability.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-05-31T09:00:00.000Z",role:"Stress Office",name:"Antoine Gagné",description:`Conducted stress analysis on deformed wing rib (part 508897-W, serial WR18-A220-9027). 

**Findings:**
- Deformation exceeds acceptable tolerances, affecting structural integrity.
- Misalignment leads to uneven load distribution, risking failure under operational conditions.

**Recommendations:**
1. Immediate replacement of deformed ribs with compliant parts.
2. Implement enhanced inspection protocols for all ribs during assembly.
3. Review and refine rib fitting procedures to minimize excessive tension application.
4. Conduct training sessions for assembly personnel on proper techniques.
5. Establish a feedback mechanism for real-time reporting of fitting issues.
6. Collaborate with the supplier to ensure quality assurance processes meet standards.

**Next Steps:**
- Await confirmation from Quality Control on rib replacement timeline.`,style:"concise and precise",label:"Stress Analysis of Deformed Wing Ribs"},{date:"2022-05-31T11:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Thank you for the detailed stress analysis on the deformed wing ribs. I acknowledge the findings and recommendations provided. 

I will coordinate with the assembly team to ensure the immediate replacement of the deformed ribs is prioritized. Additionally, I will facilitate the implementation of enhanced inspection protocols and training sessions for assembly personnel. 

Please let me know if further assistance is needed as we move forward with these actions.`,style:"verbose",label:"Response to Stress Analysis"},{date:"2022-06-01T10:00:00.000Z",role:"Stress Office",name:"Antoine Gagné",description:`Confirmed actions based on stress analysis results. 

**Action Plan:**
- Replacement of deformed ribs is underway.
- Enhanced inspection protocols are being developed.
- Training for assembly personnel scheduled for next week.

**Monitoring:**
- Continuous monitoring of assembly process for compliance.
- Regular updates on the status of rib replacements and inspections.`,style:"concise and precise",label:"Final Confirmation of Actions"}],400:[{date:"2022-06-02T14:30:00.000Z",role:"Stress Manager",name:"Mathieu Boucher",description:`**Analysis Summary:**
- Confirmed deformation of wing rib (part 508897-W, serial WR18-A220-9027) exceeds acceptable tolerances.
- Misalignment impacts structural integrity and aerodynamic performance.

**Impact Assessment:**
- Immediate replacement of deformed ribs is critical to maintain safety standards.
- Enhanced inspection protocols will mitigate future risks.

**Action Plan:**
1. Ensure timely replacement of deformed ribs.
2. Implement rigorous inspection for all ribs from the same batch.
3. Conduct training for assembly personnel on proper fitting techniques.
4. Establish a feedback mechanism for real-time reporting of fitting issues.
5. Collaborate with supplier to enhance quality assurance processes.

**Recommendation:**
- Proceed with the outlined action plan to ensure compliance and prevent recurrence of similar issues.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-06-03T16:45:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`**Analyse Finale et Recommandations :**

**Contexte :**
- Déformation des nervures d'aile (partie 508897-W, série WR18-A220-9027) due à une tension excessive lors de l'ajustement.
- Impact sur l'intégrité structurelle et l'efficacité aérodynamique.

**Causes Internes :**
- Erreur d'assemblage liée à une mauvaise application de la tension.
- Calibration insuffisante des outils de montage.

**Causes Externes :**
- Défauts de fabrication chez le fournisseur Wing Masters Co.

**Impact :**
- Risques pour la navigabilité et la sécurité opérationnelle.
- Coûts de retouche estimés à 8,000 $ par avion, avec un retard de 3 jours.

**Plan d'Action :**
1. **Remplacement immédiat** des nervures déformées pour garantir la conformité.
2. **Inspection rigoureuse** de toutes les nervures du même lot pour détecter d'autres déformations.
3. **Optimisation du processus d'ajustement** pour réduire la tension excessive.
4. **Formation ciblée** pour le personnel d'assemblage sur les techniques d'ajustement appropriées.
5. **Mécanisme de retour d'information** en temps réel pour signaler les anomalies.
6. **Collaboration avec le fournisseur** pour améliorer les processus d'assurance qualité.

**Synthèse et Consistance :**
- L'action immédiate est cruciale pour maintenir les normes de sécurité.
- Les protocoles d'inspection améliorés et la formation du personnel sont essentiels pour prévenir les récidives.
- La collaboration avec le fournisseur est nécessaire pour garantir la qualité des futurs lots.

**Recommandation Finale :**
- Mettre en œuvre le plan d'action pour assurer la conformité et éviter la récurrence de problèmes similaires. Prioriser la sécurité et l'efficacité des processus pour minimiser les impacts financiers et temporels.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 38",nc_label:"Incorrect waste tank level sensing",nc_scenario_id:"ATA-38-20646bcf5131eaa2",nc_event_seed:28421,nc_event_date:"2021-09-26 14:50:56.781000+00:00",nc_event_id:"ATA-38-20646bcf5131eaa2-ec53",analysis_history:{"000":[{date:"2021-09-26T14:50:56.781Z",role:"Quality Controler",observation:"Level discrepancies noted during operational checks",name:"Émile Tremblay",description:`Observation of non-conformity regarding the waste tank level sensors. 

- Noted discrepancies in waste tank levels during operational checks. 
- Specific issues observed with the sensor part number 38-WASTE-SENSOR, serial WS407027 from SensorSolutions LLC. 
- Initial assessments indicate potential misalignment or calibration issues. 
- Further investigation required to confirm sensor functionality and accuracy.`,style:"not fully fluent",label:"Waste Tank Level Discrepancy Report"}],100:[{date:"2021-09-26T15:30:56.781Z",role:"Design Office",name:"Julien Gagnon",description:`Analyzed discrepancies in waste tank sensor readings. Calibration error identified as primary cause. Sensor alignment issues noted. Recommend further investigation into installation practices and sensor functionality. 

Action Plan: 
1. Verify installation procedures for sensor part number 38-WASTE-SENSOR. 
2. Assess calibration protocols during installation. 
3. Initiate recalibration of affected sensors.`,style:"elusive",label:"Initial Analysis of Waste Tank Level Discrepancy"},{date:"2021-09-27T10:15:56.781Z",role:"Design Office Expert Elec",name:"Sophie Bouchard",description:`Conducted a technical review of the sensor functionality. Preliminary tests indicate potential electrical issues affecting readings. Recommend detailed electrical diagnostics. 

Action Plan: 
1. Perform electrical tests on sensor WS407027. 
2. Review wiring and connections for integrity. 
3. Document findings for further analysis.`,style:"elusive",label:"Technical Review of Sensor Functionality"},{date:"2021-09-27T14:45:56.781Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:`Evaluated potential impacts on hydraulic systems due to waste tank overflow scenarios. Identified risks of fluid contamination and system malfunction. 

Action Plan: 
1. Assess hydraulic system design for vulnerability to overflow. 
2. Propose modifications to mitigate risks. 
3. Collaborate with Design Office for integrated solutions.`,style:"elusive",label:"Hydraulic System Impact Assessment"},{date:"2021-09-28T09:00:56.781Z",role:"Quality Controler",name:"Émile Tremblay",description:`Reviewed calibration procedures for waste tank sensors. Found gaps in documentation and training. Recommend enhanced training for installation teams. 

Action Plan: 
1. Develop comprehensive training materials. 
2. Schedule training sessions for installation personnel. 
3. Implement a feedback loop for continuous improvement.`,style:"elusive",label:"Follow-up on Sensor Calibration Procedures"},{date:"2021-09-29T11:30:56.781Z",role:"Design Office",name:"Julien Gagnon",description:`Consolidated findings from all analyses. Identified key areas for improvement in sensor installation and calibration. 

Final Action Plan: 
1. Recalibrate all affected sensors. 
2. Implement revised installation procedures. 
3. Conduct training for personnel on new protocols. 
4. Monitor sensor performance post-implementation.`,style:"elusive",label:"Consolidated Action Plan"}],200:[{date:"2021-09-30T10:15:56.781Z",role:"Design Manager",name:"Louis Gagnon",description:`### Analysis Summary
The discrepancies in waste tank level readings have been traced back to calibration errors during the installation of sensor part number 38-WASTE-SENSOR (serial WS407027). The misalignment of the sensor has led to inaccurate data reporting, which poses risks of overflow and potential damage to cabin surfaces.

### Action Plan
1. **Recalibration**: Initiate recalibration of all affected sensors to ensure accurate readings.
2. **Installation Review**: Revise installation procedures to prevent future misalignments.
3. **Training**: Conduct training sessions for installation personnel to enhance understanding of calibration protocols.
4. **Monitoring**: Implement a monitoring system to track sensor performance post-implementation.

### Final Recommendation
It is crucial to address the identified calibration errors promptly to mitigate risks associated with waste tank overflow. The proposed action plan aims to enhance sensor reliability and prevent costly maintenance operations in the future.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-09-30T12:15:56.781Z",role:"Stress Office",name:"Julien Lefebvre",description:`### Stress Analysis Summary
Following the validation of the action plan regarding the recalibration of the waste tank level sensors, a comprehensive stress analysis was conducted to assess the impact of potential modifications on the aircraft structure.

### Findings
1. **Structural Integrity**: Initial calculations indicate that misalignment of the sensor could lead to localized stress concentrations in the waste tank area. This could compromise structural integrity over time, especially under operational loads.
2. **Navigability Risks**: Overflow scenarios pose a significant risk to navigability due to potential fluid contamination of critical systems. The recalibration process must ensure accurate readings to prevent such events.
3. **Cost Implications**: Failure to address these issues could result in costly maintenance operations, estimated at $5,000 per overflow event, along with the $2,000 recalibration cost.

### Recommendations
1. **Recalibration Protocol**: Implement a rigorous recalibration protocol for all affected sensors, ensuring alignment and functionality.
2. **Monitoring System**: Establish a monitoring system to continuously track sensor performance and detect anomalies early.
3. **Documentation and Training**: Enhance documentation of calibration procedures and provide training for installation personnel to prevent future errors.
4. **Follow-up Analysis**: Schedule follow-up stress analysis post-implementation to ensure structural integrity remains uncompromised.

### Additional Information Required
- Confirmation of the recalibration schedule and personnel assigned to the task.
- Documentation of any changes made to installation procedures.`,style:"elusive",label:"Stress Analysis of Waste Tank Sensor Calibration Issues"}],400:[{date:"2021-10-01T14:30:56.781Z",role:"Stress Manager",name:"Marc-Antoine Roy",description:`### Stress Analysis Validation
Following the stress analysis conducted on the recalibration of the waste tank level sensors, the findings indicate significant risks associated with sensor misalignment and overflow scenarios.

### Key Findings
1. **Structural Risks**: Misalignment can lead to stress concentrations, risking structural integrity in the waste tank area.
2. **Operational Impact**: Overflow events pose navigability risks and contamination threats to critical systems.
3. **Cost Analysis**: Addressing these issues is crucial to avoid $5,000 per overflow event and $2,000 recalibration costs.

### Final Recommendations
1. **Recalibration Implementation**: Ensure recalibration of all affected sensors with strict adherence to protocols.
2. **Monitoring System Establishment**: Set up a continuous monitoring system for early detection of sensor anomalies.
3. **Documentation and Training**: Improve documentation of calibration procedures and enhance training for installation teams.
4. **Follow-up Stress Analysis**: Schedule follow-up analysis post-implementation to confirm structural integrity.

### Conclusion
Immediate action is necessary to mitigate risks associated with waste tank sensor inaccuracies. The proposed plan aims to enhance sensor reliability and prevent costly maintenance operations.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-10-02T16:45:56.781Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse des Causes
Les erreurs de calibration des capteurs de niveau des réservoirs de déchets de l'A220 sont principalement dues à des erreurs internes lors de l'installation. Les capteurs, fournis par SensorSolutions LLC, présentent un taux d'erreur de calibration de 70%, ce qui est inacceptable pour la navigabilité et la sécurité. Les erreurs d'alignement et de calibration sont les causes internes majeures, tandis que les défauts de fabrication des capteurs pourraient constituer une cause externe secondaire.

### Plan d'Action
1. **Recalibration et Alignement**: Recalibrer tous les capteurs affectés pour garantir des lectures précises. Vérifier l'alignement correct des capteurs lors de l'installation.
2. **Révision des Procédures**: Mettre à jour les procédures d'installation pour minimiser les erreurs humaines. Inclure des étapes de vérification supplémentaires pour assurer la précision.
3. **Formation**: Organiser des sessions de formation pour le personnel d'installation afin d'améliorer la compréhension des protocoles de calibration.
4. **Système de Surveillance**: Mettre en place un système de surveillance continue pour détecter rapidement les anomalies des capteurs.
5. **Suivi et Analyse**: Effectuer une analyse de suivi post-implémentation pour confirmer l'intégrité structurelle et la fiabilité des capteurs.

### Recommandation Finale
Il est impératif de traiter immédiatement les erreurs de calibration pour éviter des scénarios de débordement coûteux et des dommages potentiels aux surfaces de la cabine. Le plan d'action proposé vise à améliorer la fiabilité des capteurs et à prévenir les opérations de maintenance coûteuses à l'avenir. La mise en œuvre rapide de ces mesures est cruciale pour garantir la navigabilité et la conformité des systèmes de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Cracks in fuselage frames during assembly",nc_scenario_id:"ATA-53-12bf0946e3601acac94",nc_event_seed:9396,nc_event_date:"2023-11-28 07:50:57.088000+00:00",nc_event_id:"ATA-53-12bf0946e3601acac94-2a3c",analysis_history:{"000":[{date:"2023-11-28T07:50:57.088Z",role:"Quality Controler",observation:"Non-destructive testing (NDT) revealing hairline fractures",name:"Julien Tremblay",description:`Report regarding non-conformity observation:
- NDT showed small cracks in fuselage frames.
- Parts involved: 49510, Serial: SN-4567, Supplier: StructuresCo Inc.
- Issues noted during assembly process.
- Immediate attention needed for safety.`,style:"not fully fluent",label:"Hairline Fractures Detected in Fuselage Frames"}],100:[{date:"2023-11-28T09:15:57.088Z",role:"Design Office",name:"Alexandre Gagnon",description:`Analysis of hairline fractures in fuselage frames. 
- Cracks likely due to improper handling during assembly. 
- Insufficient training of personnel noted. 
- Immediate need for reinforced handling protocols identified.`,style:"elusive",label:"Initial Analysis of Non-Conformity"},{date:"2023-11-28T10:30:57.088Z",role:"Design Office Expert Elec",name:"Sophie Dubois",description:`Request for details on electrical components in the vicinity of affected frames. 
- Need to assess potential impact on electrical systems. 
- Clarification on handling procedures for electrical parts required.`,style:"elusive",label:"Request for Additional Data on Electrical Components"},{date:"2023-11-28T11:45:57.088Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided details on electrical components. 
- Confirmed handling procedures followed for electrical parts. 
- No immediate concerns regarding electrical systems.`,style:"elusive",label:"Response to Additional Data Request"},{date:"2023-11-29T08:00:57.088Z",role:"Design Office",name:"Alexandre Gagnon",description:`Proposed mitigation plan based on analysis. 
- Implement reinforced handling protocols. 
- Conduct training sessions for assembly personnel. 
- Schedule NDT inspections for all affected frames.`,style:"elusive",label:"Mitigation Plan Proposal"},{date:"2023-11-29T09:15:57.088Z",role:"Design Manager",name:"Marie-Claude Lefebvre",description:`Reviewed and validated the proposed mitigation plan. 
- Emphasized the importance of training and protocol adherence. 
- Recommended monitoring of implementation effectiveness.`,style:"elusive",label:"Validation of Mitigation Plan"}],200:[{date:"2023-11-30T11:30:57.088Z",role:"Design Manager",name:"Émilie Boucher",description:`Analysis of hairline fractures in fuselage frames validated. 
- Confirmed improper handling as primary cause. 
- Insufficient training of personnel noted as internal factor. 
- Reinforced handling protocols essential. 
- Training sessions for assembly personnel recommended. 
- NDT inspections for affected frames scheduled. 
- Monitoring of implementation effectiveness emphasized.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-11-30T14:00:57.088Z",role:"Stress Office",name:"Marc Gagné",description:`Analyse des fractures capillaires dans les structures des fuselages. 
- Modélisation effectuée avec MATLAB pour évaluer l'impact des manipulations excessives. 
- Résultats indiquent que les fissures sont dues à un stress dépassant le point d'écoulement du matériau. 
- Recommandations : 
 - Renforcement des protocoles de manipulation. 
 - Formation obligatoire pour le personnel d'assemblage sur les points de stress critiques. 
 - Inspections NDT régulières pour tous les cadres affectés. 
 - Surveillance continue de l'efficacité des nouvelles procédures.`,style:"elusive",label:"Analyse des Calculs de Stress"},{date:"2023-11-30T15:30:57.088Z",role:"Quality Controller",name:"Julien Tremblay",description:`Demande d'informations supplémentaires concernant les procédures de manipulation et la formation du personnel. 
- Nécessité d'évaluer les impacts des nouvelles recommandations sur les délais de production.`,style:"elusive",label:"Demande d'Informations Complémentaires"},{date:"2023-11-30T16:00:57.088Z",role:"Stress Office",name:"Marc Gagné",description:`Réponse aux préoccupations soulevées. 
- Confirmation que les nouvelles procédures de manipulation seront mises en œuvre immédiatement. 
- Estimation d'un délai de production prolongé de 15 heures en raison de la mise en œuvre des nouvelles formations et inspections.`,style:"elusive",label:"Réponse à la Demande d'Informations"},{date:"2023-12-01T09:00:57.088Z",role:"Stress Office",name:"Marc Gagné",description:`Plan d'action finalisé suite aux calculs de stress et aux retours d'informations. 
- Mise en œuvre des protocoles de manipulation renforcés. 
- Formation du personnel d'assemblage prévue dans les deux semaines. 
- Inspections NDT programmées pour tous les cadres affectés. 
- Suivi des résultats et ajustements des procédures selon les retours d'expérience.`,style:"elusive",label:"Plan d'Action Consolidé"}],400:[{date:"2023-12-02T11:30:57.088Z",role:"Stress Manager",name:"Étienne Lefebvre",description:`Validation of stress calculations and impact analysis on fuselage frames. 
- Confirmed cracks due to excessive handling stress. 
- Reinforced handling protocols essential for safety. 
- Training sessions for assembly personnel scheduled. 
- NDT inspections to be conducted on all affected frames. 
- Anticipated production delay of 15 hours acknowledged. 
- Continuous monitoring of implementation effectiveness emphasized.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-12-03T14:45:57.088Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Recommandation Finale

**Contexte :**
- Non-conformité détectée : fissures dans les cadres de fuselage lors de l'assemblage de l'A220.
- Cause principale : manipulation excessive et formation inadéquate du personnel.

**Causes Internes :**
- Erreur d'assemblage due à une manipulation incorrecte.
- Formation insuffisante sur les points de stress critiques.

**Causes Externes :**
- Aucun défaut fournisseur identifié.

**Impact :**
- Compromission potentielle de la sécurité et de la navigabilité.
- Allongement du temps de production de 15 heures.
- Coût de remplacement et de réusinage : 70 000 $.

**Plan d'Action :**
1. **Renforcement des Protocoles de Manipulation :**
 - Mise en œuvre immédiate de nouvelles procédures de manipulation.
 - Surveillance continue de l'efficacité des nouvelles procédures.

2. **Formation du Personnel :**
 - Sessions de formation obligatoires dans les deux semaines.
 - Focus sur les points de stress critiques et la manipulation sécurisée.

3. **Inspections Non Destructives (NDT) :**
 - Programmation d'inspections régulières pour tous les cadres affectés.
 - Utilisation de tests non destructifs pour détecter les fissures précocement.

4. **Suivi et Ajustements :**
 - Surveillance continue des résultats et ajustement des procédures selon les retours d'expérience.
 - Réduction ciblée du taux de détection de défaillance de 10% à 5%.

**Recommandation Finale :**
- Prioriser la mise en œuvre des protocoles renforcés et la formation pour minimiser les risques futurs.
- Maintenir un suivi rigoureux des inspections et des résultats pour garantir la conformité et la sécurité.
- Évaluer régulièrement l'impact des actions sur les coûts et les délais de production pour optimiser l'efficacité industrielle.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 51",nc_label:"Misaligned exterior fuselage rivets",nc_scenario_id:"ATA-50-26a1a712f8434872",nc_event_seed:13898,nc_event_date:"2023-05-24 17:50:56.873000+00:00",nc_event_id:"ATA-50-26a1a712f8434872-f776",analysis_history:{"000":[{date:"2023-05-24T17:50:56.873Z",role:"Quality Controler",observation:"Surface scanning tools indicate deviation in rivet alignment",name:"Émile Gagnon",description:`Upon conducting a thorough inspection utilizing advanced surface scanning tools, it has come to our attention that there are notable deviations in the alignment of the rivets on the exterior fuselage of the A220 aircraft. These misalignments have been observed to be inconsistent, raising concerns regarding the overall integrity and aerodynamic efficiency of the fuselage structure. 

The specific part involved in this observation is identified as follows: 
- Part Number: 340087-N 
- Serial Number: FN220-A101-5678 
- Supplier: Fuselage Inc. 

It is imperative to address these discrepancies promptly to ensure compliance with safety standards and maintain the production schedule without further complications.`,style:"verbose",label:"Deviations in Rivet Alignment Detected"}],100:[{date:"2023-05-24T18:30:56.873Z",role:"Design Office",name:"Julien Tremblay",description:"Review of report 000. Misalignment of rivets on fuselage noted. Important for aerodynamics and structure. Need to check alignment tools used during assembly. Suggest to gather data on current equipment used.",style:"not fully fluent",label:"Initial Analysis of Rivet Misalignment"},{date:"2023-05-25T09:15:56.873Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Need details on alignment equipment. Check if calibration is up to standards. Misalignment can affect electrical systems too. Request data from assembly line.",style:"not fully fluent",label:"Request for Equipment Review"},{date:"2023-05-25T14:00:56.873Z",role:"Quality Controler",name:"Émile Gagnon",description:"Alignment equipment used is older model. Calibration last done 6 months ago. Recommend immediate recalibration and inspection of all units produced in last month.",style:"not fully fluent",label:"Response to Equipment Review Request"},{date:"2023-05-26T10:45:56.873Z",role:"Design Office",name:"Julien Tremblay",description:"Based on findings, recommend: 1. Immediate recalibration of alignment tools. 2. Inspect all rivets on affected units. 3. Implement new monitoring process for future assemblies. 4. Train staff on proper alignment techniques.",style:"not fully fluent",label:"Final Analysis and Action Plan"}],200:[{date:"2023-05-27T11:30:00.000Z",role:"Design Manager",name:"Marc Lefebvre",description:`### Analysis Summary
- Misalignment of rivets on A220 fuselage confirmed. Critical for aerodynamics and structure.
- Alignment tools used are outdated; last calibration 6 months ago.

### Action Plan
1. **Immediate recalibration** of alignment tools.
2. **Inspect all rivets** on affected units (340087-N, FN220-A101-5678).
3. **Implement new monitoring process** for future assemblies to ensure compliance.
4. **Train staff** on proper alignment techniques to prevent recurrence.

### Final Recommendation
- Address discrepancies swiftly to maintain safety standards and production schedule. Ensure all actions are documented and monitored for effectiveness.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-05-27T14:00:00.000Z",role:"Stress Office",name:"Alexandre Tremblay",description:`### Stress Analysis Results
- Conducted stress calculations on misaligned rivets.
- Found significant stress concentrations at misalignment points.
- Potential risk for fatigue failure under operational loads.

### Recommendations
1. **Immediate rework** of affected rivets to restore alignment.
2. **Re-evaluate structural integrity** post-rework to ensure compliance.
3. **Monitor stress distribution** in future assemblies to prevent recurrence.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2023-05-27T16:30:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Gagnon",description:`Need more data on:
- Load conditions during assembly.
- Historical performance of rivets used.
- Calibration records of alignment tools.

This data essential for comprehensive analysis.`,style:"not fully fluent",label:"Request for Additional Data"},{date:"2023-05-27T18:00:00.000Z",role:"Quality Controller",name:"Émile Gagnon",description:`### Data Provided
- Load conditions: Standard operational loads applied during assembly.
- Rivet performance: No previous failures reported.
- Calibration records: Last calibration was 6 months ago.

### Note
- Recommend more frequent calibration checks to ensure alignment accuracy.`,style:"not fully fluent",label:"Response to Data Request"},{date:"2023-05-28T09:00:00.000Z",role:"Stress Office",name:"Alexandre Tremblay",description:`### Final Analysis Summary
- After reviewing additional data, stress concentrations confirmed at misaligned rivets.
- Rework necessary to mitigate risks.

### Consolidated Action Plan
1. **Rework all misaligned rivets** on affected units.
2. **Conduct post-rework stress tests** to validate structural integrity.
3. **Implement regular calibration schedule** for alignment tools.
4. **Train assembly staff** on updated alignment procedures to ensure compliance.
5. **Document all actions** and monitor effectiveness for future assemblies.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-05-29T11:30:00.000Z",role:"Stress Manager",name:"Julien Fortin",description:`### Analysis Summary
- Reviewed stress calculations on misaligned rivets.
- Confirmed significant stress concentrations at misalignment points.
- Risk of fatigue failure under operational loads noted.

### Action Plan
1. **Rework all misaligned rivets** on affected units (340087-N, FN220-A101-5678).
2. **Conduct post-rework stress tests** to validate structural integrity.
3. **Implement regular calibration schedule** for alignment tools to prevent future issues.
4. **Train assembly staff** on updated alignment procedures to ensure compliance.
5. **Document all actions** and monitor effectiveness for future assemblies.

### Final Recommendation
- Immediate action required to mitigate risks and ensure safety standards are met. All findings and recommendations should be closely monitored for effectiveness.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-05-30T14:45:00.000Z",role:"Quality Manager",name:"Luc Tremblay",description:`### Analyse Finale et Plan d'Action

#### Contexte et Causes
- **Non-conformité** : Rivets mal alignés sur le fuselage A220.
- **Causes internes** : Utilisation d'équipements de calibrage obsolètes, dernière calibration il y a 6 mois.
- **Causes externes** : Aucune défaillance fournisseur rapportée.

#### Impact
- **Navigabilité** : Risque de concentration de stress, potentiel de défaillance par fatigue.
- **Coût** : Estimation de $10,000 par retouche, avec un retard de 2 jours par unité.

#### Plan d'Action
1. **Recalibrage immédiat** des outils d'alignement.
2. **Réalignement et retouche** de tous les rivets mal alignés sur les unités affectées (340087-N, FN220-A101-5678).
3. **Tests de stress post-retouche** pour valider l'intégrité structurelle.
4. **Mise en place d'un calendrier de calibration régulier** pour éviter les problèmes futurs.
5. **Formation du personnel** sur les procédures d'alignement mises à jour.
6. **Documentation et suivi** de toutes les actions pour garantir l'efficacité.

#### Recommandation Finale
- **Action immédiate** requise pour atténuer les risques et garantir les normes de sécurité. Surveillance continue des actions recommandées pour assurer leur efficacité.

### Synthèse
- La résolution rapide de cette non-conformité est cruciale pour maintenir la sécurité et l'efficacité de la production. Les mesures correctives doivent être appliquées sans délai pour éviter des coûts supplémentaires et des retards de production.`,style:"concise and direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Deformation of skin panels cargo",nc_scenario_id:"ATA-53-da4da58663a9a1ba",nc_event_seed:32696,nc_event_date:"2021-04-01 11:50:57.047000+00:00",nc_event_id:"ATA-53-da4da58663a9a1ba-8d76",analysis_history:{"000":[{date:"2021-04-01T11:50:57.047Z",role:"Quality Controler",observation:"Laser shows showing misalignment in fuselage geometry",name:"Liam Tremblay",description:`Observation of misalignment in fuselage geometry noted during inspection. 
Laser measurements indicate discrepancies in alignment. 
Part number: 96166, Serial: SN-6789, Supplier: XYZ Aerospace. 
Potential impact on skin panel installation and overall aerodynamics.`,style:"not fully fluent",label:"Fuselage Geometry Misalignment"}],100:[{date:"2021-04-01T12:30:57.047Z",role:"Design Office",name:"Julien Gagnon",description:`Review of the report indicates misalignment in fuselage geometry. 
Focus on panel installation issues. 
Need to assess alignment jigs and training protocols. 
Recommendation: Gather data on current alignment practices.`,style:"elusive",label:"Initial Analysis of Misalignment"},{date:"2021-04-01T14:00:57.047Z",role:"Design Office Expert Elec",name:"Sophie Roy",description:`Requesting information on electrical alignment protocols used in assembly. 
Understanding electrical systems' impact on fuselage alignment is crucial. 
Need feedback on current training adequacy.`,style:"elusive",label:"Request for Electrical Alignment Data"},{date:"2021-04-01T15:30:57.047Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:`Investigate potential hydraulic system influence on fuselage alignment. 
Assess if hydraulic fixtures contribute to misalignment. 
Need detailed analysis of hydraulic installation procedures.`,style:"elusive",label:"Request for Hydraulic System Impact"},{date:"2021-04-01T16:45:57.047Z",role:"Quality Controler",name:"Liam Tremblay",description:`Provided data on electrical alignment protocols. 
Indicated training sessions held quarterly. 
No recent updates on hydraulic systems. 
Recommended review of training effectiveness.`,style:"verbose",label:"Response to Requests"},{date:"2021-04-02T09:00:57.047Z",role:"Design Office",name:"Julien Gagnon",description:`Consolidated findings from electrical and hydraulic reviews. 
Misalignment primarily due to training gaps and fixture issues. 
Action Plan: 
1. Implement enhanced training sessions on alignment protocols. 
2. Review and recalibrate assembly jigs. 
3. Monitor assembly process closely for compliance.`,style:"elusive",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2021-04-03T10:15:57.047Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis indicates misalignment in fuselage geometry primarily due to internal causes: inadequate training on alignment protocols and improper calibration of assembly jigs. External factors, such as supplier quality, were not identified as significant contributors. 

Action Plan includes: 
1. Enhanced training sessions on alignment protocols to address knowledge gaps. 
2. Immediate review and recalibration of assembly jigs to ensure proper alignment. 
3. Close monitoring of assembly processes to ensure compliance with updated protocols. 

Recommendation: Implement proposed actions promptly to mitigate risks associated with aerodynamic performance and operational costs.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-04-03T12:30:57.047Z",role:"Stress Office",name:"Marc Lefebvre",description:`Conducted preliminary stress analysis on the misalignment of fuselage geometry. 

**Findings:** 
- Misalignment detected in skin panel installation. 
- Potential stress concentration areas identified. 
- Initial calculations suggest structural integrity is at risk under operational loads. 

**Next Steps:** 
- Request additional data on current assembly jigs and alignment protocols from Quality Control.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-04-03T14:00:57.047Z",role:"Quality Controller",name:"Liam Tremblay",description:`Provided detailed information regarding assembly jigs and alignment protocols. 

**Details:** 
- Current jigs are calibrated annually, but recent changes in assembly processes may not have been accounted for. 
- Training records indicate gaps in recent training sessions. 

**Recommendation:** 
- Consider recalibrating jigs more frequently to mitigate misalignment risks.`,style:"elusive",label:"Response to Stress Office Request"},{date:"2021-04-03T16:30:57.047Z",role:"Stress Office",name:"Marc Lefebvre",description:`Performed revised stress analysis incorporating updated jig data. 

**Results:** 
- Stress distribution indicates potential failure points at misaligned panels. 
- Increased operational costs projected due to inefficiencies in fuel consumption (up to 20%). 

**Recommendations:** 
1. Immediate recalibration of assembly jigs to ensure proper alignment. 
2. Enhanced training sessions for assembly personnel focusing on alignment protocols. 
3. Implement a monitoring system to track alignment during assembly.`,style:"elusive",label:"Revised Stress Analysis"},{date:"2021-04-04T09:00:57.047Z",role:"Stress Office Manager",name:"Émilie Gagnon",description:`Conducted final review of stress analysis and recommendations. 

**Summary:** 
- Structural integrity is compromised due to misalignment. 
- Immediate corrective actions are necessary to avoid operational inefficiencies. 

**Action Plan:** 
- Recalibrate assembly jigs within the next week. 
- Schedule training sessions for all assembly personnel within two weeks. 
- Monitor assembly processes closely for compliance with updated protocols. 

**Conclusion:** 
- Implementing these recommendations will restore aerodynamic efficiency and ensure compliance with design standards.`,style:"elusive",label:"Final Review and Recommendations"}],400:[{date:"2021-04-05T11:45:57.047Z",role:"Stress Manager",name:"Julien Boucher",description:`**Analysis Summary:** 
- Confirmed misalignment in fuselage geometry affecting skin panel installation. 
- Stress analysis indicates potential structural integrity risks under operational loads. 

**Action Plan:** 
1. Immediate recalibration of assembly jigs to correct alignment issues. 
2. Enhanced training sessions for assembly personnel focusing on alignment protocols to address identified gaps. 
3. Implementation of a monitoring system to ensure compliance with updated alignment practices during assembly. 

**Final Recommendation:** 
- Execute corrective actions promptly to mitigate risks associated with aerodynamic performance and operational costs. 
- Continuous monitoring is essential to prevent recurrence of misalignment issues.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-04-06T15:27:57.047Z",role:"Quality Manager",name:"Alexandre Fortin",description:`### Analyse des Causes
- **Causes internes** :
 - **Erreur d'assemblage** : Mauvaise installation des panneaux de peau due à un alignement inadéquat des gabarits d'assemblage.
 - **Mauvaise calibration** : Calibration insuffisante des gabarits d'assemblage, exacerbée par des lacunes dans la formation des opérateurs.
- **Causes externes** :
 - Aucun défaut fournisseur significatif identifié.

### Impact et Risques
- **Navigabilité** : Risque potentiel pour l'intégrité structurelle sous charges opérationnelles.
- **Coûts de production** : Augmentation du temps d'assemblage de 10 heures et coûts de réalignement estimés à 50 000 $.
- **Consommation de carburant** : Compromis potentiel de l'efficacité énergétique jusqu'à 20%.

### Plan d'Action
1. **Recalibration immédiate des gabarits d'assemblage** :
 - Assurer un alignement correct pour éviter les erreurs futures.
2. **Sessions de formation améliorées** :
 - Formation ciblée sur les protocoles d'alignement pour combler les lacunes identifiées.
3. **Système de surveillance** :
 - Mise en place d'un système de suivi pour garantir la conformité aux protocoles mis à jour pendant l'assemblage.

### Recommandation Finale
- **Mise en œuvre immédiate** des actions correctives pour restaurer l'efficacité aérodynamique et garantir la conformité aux normes de conception.
- **Surveillance continue** pour prévenir la récurrence des problèmes d'alignement.

### Synthèse
L'analyse a révélé que les problèmes d'alignement sont principalement dus à des causes internes, nécessitant une action rapide pour éviter des impacts négatifs sur la performance et les coûts opérationnels. La mise en œuvre des recommandations proposées est cruciale pour maintenir la navigabilité et l'efficacité des opérations de l'A220.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 30",nc_label:"Frost formation inside pneumatic due to to insufficient insulation",nc_scenario_id:"ATA-30-9ad8e1e5652b333a",nc_event_seed:7960,nc_event_date:"2024-01-27 03:50:55.422000+00:00",nc_event_id:"ATA-30-9ad8e1e5652b333a-15ac",analysis_history:{"000":[{date:"2024-01-27T03:50:55.422Z",role:"Quality Controler",observation:"Pilot inspections revealing increased inconsistency and frost build-up within pneumatic",name:"Léa Tremblay",description:`Observation of frost accumulation within pneumatic systems during pilot inspections.
Inconsistencies noted in performance under extreme conditions.
Potential impact on pneumatic efficiency and flight control.
Affected part: A220-300-3100, Serial: SN-34894106, Supplier: Parker Collins.`,style:"concise and precise",label:"Frost Build-Up in Pneumatic Systems"}],100:[{date:"2024-01-27T09:15:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Upon reviewing the report submitted by Quality Controller Léa Tremblay, it is evident that the frost accumulation within the pneumatic systems of the A220-300-3100, specifically Serial Number SN-34894106, poses a significant risk to pneumatic efficiency and overall flight control. The primary cause identified is a fault in the insulating materials used during the assembly phase, which fails to adequately protect the pneumatic lines from extreme temperature variations. This analysis will focus on the systematic software that did not specify insulation levels across various production lines, leading to erratic performance and compromised system efficiency. 

To mitigate this issue, I recommend the following actions: 
1. Conduct a thorough review of the insulation materials used in the assembly process to identify any deficiencies. 
2. Collaborate with the supplier, Parker Collins, to assess the quality of the insulation materials provided. 
3. Implement a pilot program for re-insulation using improved specification materials to restore operational standards and prevent recurrence of frost-related incidents. 
4. Establish a trend analysis protocol to monitor frost-related system alerts, particularly during seasonal operations.`,style:"verbose",label:"Initial Analysis of Frost Formation Issue"},{date:"2024-01-27T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:"In light of the frost formation issue affecting the pneumatic systems, it is crucial to understand the potential impact on the electrical systems associated with these components. I am requesting detailed insights into the electrical system's performance under extreme temperature conditions. This analysis should include any historical data on electrical failures or inefficiencies linked to frost accumulation. Additionally, it would be beneficial to assess whether any modifications to the electrical system could enhance its resilience against such environmental factors.",style:"verbose",label:"Request for Electrical System Insights"},{date:"2024-01-27T14:45:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Given the implications of frost accumulation on pneumatic efficiency, it is essential to evaluate the hydraulic systems that may be interconnected with the pneumatic lines. I am requesting a comprehensive assessment of the hydraulic system's performance during instances of frost build-up. This should include an analysis of any hydraulic failures that may have occurred in conjunction with pneumatic inefficiencies. Furthermore, recommendations for potential adjustments to the hydraulic system to mitigate risks associated with extreme temperature variations should be included.",style:"verbose",label:"Request for Hydraulic System Evaluation"},{date:"2024-01-28T10:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"In response to the requests from the Design Office, I will compile the necessary data regarding the electrical and hydraulic systems' performance under extreme conditions. This will include historical performance data, any recorded failures, and insights into the insulation materials used during assembly. I will ensure that this information is detailed and comprehensive to assist in the ongoing analysis and recommendations for mitigating the frost formation issue.",style:"verbose",label:"Response to Design Office Requests"},{date:"2024-01-29T15:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`After receiving the requested insights from the Quality Controller regarding the electrical and hydraulic systems, I have consolidated the findings into a comprehensive analysis. The electrical system has shown resilience under extreme conditions, with minimal failures reported. However, the hydraulic system has experienced some inefficiencies correlated with frost build-up. 

The following consolidated recommendations are proposed: 
1. Immediate re-insulation of pneumatic lines using improved materials to prevent frost accumulation. 
2. Continuous monitoring of both electrical and hydraulic systems during seasonal operations to identify any anomalies early. 
3. Collaboration with Parker Collins to ensure the quality of insulation materials moving forward. 
4. Implementation of a training program for assembly personnel to emphasize the importance of proper insulation techniques.`,style:"verbose",label:"Consolidation of Analysis and Recommendations"}],200:[{date:"2024-01-30T11:45:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis and Action Plan Validation

- **Issue**: Frost formation in pneumatic systems of A220-300-3100 (SN-34894106) due to insulation failure.
- **Root Causes**: 
 - **Internal**: Faulty assembly process, inadequate insulation application.
 - **External**: Supplier quality issues with insulation materials from Parker Collins.

- **Action Plan Recommendations**:
 1. Immediate review of insulation materials and assembly processes.
 2. Collaborate with Parker Collins for quality assessment of insulation.
 3. Implement pilot program for re-insulation with improved materials.
 4. Establish monitoring protocol for frost alerts during seasonal operations.

- **Conclusion**: Proposed actions aim to restore pneumatic efficiency, ensure flight safety, and prevent future occurrences. Further structural impact analysis will follow.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-01-30T14:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Stress Analysis Results

- **Objective**: Evaluate structural integrity of A220-300-3100 post-insulation modification.
- **Findings**: Initial calculations indicate that the proposed re-insulation will not adversely affect structural integrity. However, localized stress concentrations were identified in the pneumatic line areas.
- **Recommendations**:
 1. **Reinforce**: Implement localized reinforcements in areas with identified stress concentrations.
 2. **Material Assessment**: Validate the mechanical properties of the new insulation materials to ensure compatibility with existing structures.
 3. **Monitoring**: Establish a monitoring plan for stress levels post-modification to ensure ongoing structural integrity.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2024-01-30T15:30:00.000Z",role:"Stress Office Expert",name:"Émilie Fortin",description:`### Data Request

- **Context**: To refine stress calculations, additional data is required.
- **Request**: Please provide detailed specifications of the new insulation materials, including thermal and mechanical properties, as well as any historical performance data under extreme conditions.`,style:"concise and precise",label:"Request for Additional Data"},{date:"2024-01-30T16:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Data Submission

- **Response**: I have compiled the requested specifications of the new insulation materials, including:
 - Thermal conductivity
 - Compressive strength
 - Historical performance data under extreme conditions

This data should assist in the refinement of the stress analysis.`,style:"verbose",label:"Response to Data Request"},{date:"2024-01-31T10:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`### Final Analysis Results

- **Objective**: Confirm structural integrity post-insulation modification.
- **Findings**: With the new material specifications, stress calculations indicate that the structural integrity remains intact. The risk of frost accumulation is significantly reduced with the proposed insulation.
- **Final Recommendations**:
 1. **Proceed with Re-insulation**: Implement the re-insulation plan with the improved materials.
 2. **Reinforcement**: Apply localized reinforcements as previously identified.
 3. **Ongoing Monitoring**: Establish a continuous monitoring program for stress levels and frost formation during seasonal operations.
 4. **Training**: Conduct training sessions for assembly personnel on the importance of proper insulation techniques.`,style:"concise and precise",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2024-02-01T12:30:00.000Z",role:"Stress Manager",name:"Gabriel Lefebvre",description:`### Final Validation of Analysis and Recommendations

- **Objective**: Confirm the effectiveness of the proposed re-insulation plan for A220-300-3100 (SN-34894106).
- **Stress Analysis Review**: The final stress calculations indicate that the structural integrity remains intact with the new insulation materials. Localized stress concentrations have been addressed with recommended reinforcements.
- **Action Plan**:
 1. **Proceed with Re-insulation**: Implement the re-insulation using improved materials as specified.
 2. **Reinforcement**: Apply localized reinforcements in areas with identified stress concentrations.
 3. **Monitoring**: Establish a continuous monitoring program for stress levels and frost formation during seasonal operations.
 4. **Training**: Conduct training sessions for assembly personnel to emphasize proper insulation techniques.

- **Conclusion**: The proposed actions are expected to restore pneumatic efficiency, enhance flight safety, and prevent future frost-related incidents.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-02-02T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse Finale et Recommandations

- **Contexte**: Formation de givre dans les systèmes pneumatiques de l'A220-300-3100 (SN-34894106) due à une isolation insuffisante.

- **Causes**:
 - **Internes**: Erreur d'assemblage, application inadéquate de l'isolation.
 - **Externes**: Problèmes de qualité des matériaux d'isolation fournis par Parker Collins.

- **Plan d'Action**:
 1. **Ré-isolation Immédiate**: Utiliser des matériaux améliorés pour éviter l'accumulation de givre.
 2. **Renforcement Localisé**: Appliquer des renforts dans les zones de concentrations de stress identifiées.
 3. **Collaboration Fournisseur**: Travailler avec Parker Collins pour assurer la qualité des matériaux d'isolation.
 4. **Surveillance Continue**: Mettre en place un programme de surveillance des niveaux de stress et de formation de givre pendant les opérations saisonnières.
 5. **Formation**: Former le personnel d'assemblage sur les techniques d'isolation appropriées.

- **Conclusion**: Les actions proposées visent à restaurer l'efficacité pneumatique, à assurer la sécurité des vols et à prévenir les incidents futurs liés au givre. Ces mesures sont cruciales pour maintenir la navigabilité et la fiabilité des aéronefs, tout en optimisant les coûts et les délais de production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 51",nc_label:"Deformed wing ribs affecting fit",nc_scenario_id:"ATA-51-c26a8ebb5ddd5e92f",nc_event_seed:18042,nc_event_date:"2022-12-03 01:50:56.918000+00:00",nc_event_id:"ATA-51-c26a8ebb5ddd5e92f-1a7b",analysis_history:{"000":[{date:"2022-12-03T01:50:56.918Z",role:"Quality Controler",observation:"Assembly misalignments detected via 3D modeling during minor assembly",name:"Léa Tremblay",description:"Observation of assembly misalignments noted through 3D modeling. Specific issues observed in wing rib fitting. Potential deformation in wing ribs identified. Immediate attention required for further investigation. Related part: 866290-W, Serial: AS30-A220-1457, Supplier: Wing Masters Co.",style:"elusive",label:"Misalignment Detected in Wing Assembly"}],100:[{date:"2022-12-03T02:30:00.000Z",role:"Design Office",name:"Julien Boucher",description:"Analyzed the misalignment issue in wing assembly due to deformed ribs. Noted excessive tension during rib fitting as primary cause. Deformations lead to aerodynamic inefficiencies and structural load misdistribution. Recommend immediate replacement of deformed ribs with conforming parts to restore fit and integrity.",style:"concise and precise",label:"Initial Analysis of Deformed Wing Ribs"},{date:"2022-12-03T03:15:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Gagnon",description:"Need detailed documentation on the rib fitting process to identify potential areas of excessive tension. This will aid in understanding the deformation causes and prevent recurrence.",style:"concise and precise",label:"Request for Additional Information on Rib Fitting Process"},{date:"2022-12-03T04:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Provided documentation on rib fitting procedures. Highlighted areas where tension could exceed tolerances. Suggested review of fitting tools and techniques to mitigate risks.",style:"concise and precise",label:"Response to Additional Information Request"},{date:"2022-12-04T10:00:00.000Z",role:"Design Office",name:"Julien Boucher",description:"Completed analysis incorporating fitting process documentation. Recommended implementing a revised rib fitting procedure with tension monitoring. Initiate training for assembly personnel on new techniques to prevent deformation. Schedule immediate replacement of affected ribs.",style:"concise and precise",label:"Final Analysis and Mitigation Plan"}],200:[{date:"2022-12-05T11:45:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:"Analysis confirmed excessive tension during rib fitting as primary cause of deformation. Misalignments noted impact aerodynamic efficiency and structural integrity. Recommended immediate replacement of deformed ribs with conforming parts. Revised rib fitting procedure with tension monitoring essential. Training for assembly personnel on new techniques required to prevent recurrence. Emphasis on documentation and adherence to updated processes to ensure compliance and navigability.",style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-12-05T12:00:00.000Z",role:"Stress Office",name:"Alexandre Roy",description:`After conducting a thorough stress analysis on the deformed wing ribs identified in the assembly process, it has been determined that the excessive tension applied during the rib fitting is indeed the primary contributor to the observed deformations. This misalignment not only compromises the aerodynamic efficiency of the wing assembly but also poses significant risks to the structural integrity of the aircraft. The following points summarize the findings:

1. **Stress Distribution Analysis**: The stress distribution across the deformed ribs indicates localized stress concentrations that exceed acceptable limits, which could lead to further structural failures if not addressed promptly.

2. **Recommendations for Rib Replacement**: It is imperative to replace the deformed ribs with conforming parts that meet the specified tolerances. This replacement will restore the intended aerodynamic profile and structural load distribution, ensuring compliance with safety regulations.

3. **Revised Fitting Procedure**: A revised rib fitting procedure should be implemented, incorporating real-time tension monitoring to prevent excessive tension during assembly. This will involve training assembly personnel on the new techniques and the use of calibrated tools to ensure precision in the fitting process.

4. **Monitoring and Documentation**: Continuous monitoring of the assembly process is essential, along with proper documentation of fitting procedures to identify any deviations from the established standards. This will aid in maintaining compliance and ensuring navigability.

5. **Request for Additional Data**: To further refine the analysis, I would like to request additional data regarding the specific tools and techniques currently employed in the rib fitting process, as well as any historical data on previous instances of deformation. This information will be critical in identifying root causes and preventing recurrence.

In conclusion, immediate action is required to replace the affected ribs and implement the revised fitting procedures to ensure the integrity and safety of the aircraft.`,style:"verbose",label:"Initial Stress Analysis and Impact Assessment"},{date:"2022-12-05T14:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Provided detailed documentation on the current rib fitting tools and techniques used in the assembly process. Included historical data on previous deformation incidents, highlighting specific instances where excessive tension was recorded. This data should assist in the ongoing analysis and help identify potential areas for improvement in the fitting procedure.",style:"concise and precise",label:"Response to Stress Office Request for Additional Data"},{date:"2022-12-06T09:00:00.000Z",role:"Stress Office",name:"Alexandre Roy",description:`Following the receipt of additional data from the Quality Controller, a comprehensive review of the rib fitting process has been conducted. The analysis confirms that the previously identified issues are indeed linked to the fitting techniques and tools used. The following consolidated recommendations are proposed:

1. **Immediate Replacement of Deformed Ribs**: All deformed ribs identified during assembly checks must be replaced with conforming parts to ensure compliance with structural integrity standards.

2. **Implementation of Revised Fitting Procedures**: The new rib fitting procedure, which includes real-time tension monitoring, should be implemented immediately. Training sessions for assembly personnel must be scheduled to ensure understanding and adherence to the new protocols.

3. **Regular Audits and Monitoring**: Establish a schedule for regular audits of the rib fitting process to monitor compliance with the new procedures. This will help in early detection of any deviations and ensure continuous improvement in assembly practices.

4. **Documentation and Reporting**: Maintain thorough documentation of all fitting processes, including any deviations and corrective actions taken. This will provide a valuable reference for future analyses and help in maintaining navigability and safety standards.

5. **Follow-Up Analysis**: A follow-up analysis should be scheduled after the implementation of the new procedures to assess their effectiveness and make any necessary adjustments based on observed outcomes.

In summary, the integrity of the aircraft structure is paramount, and these recommendations aim to address the current issues while preventing future occurrences.`,style:"verbose",label:"Final Stress Analysis and Consolidated Recommendations"}],400:[{date:"2022-12-07T10:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`Following the comprehensive stress analysis and impact assessment conducted by the Stress Office, the following conclusions and recommendations are presented:

1. **Validation of Findings**: The analysis confirms that excessive tension during rib fitting is the primary cause of deformation, leading to misalignment and potential structural integrity issues.

2. **Immediate Actions Required**: It is imperative to proceed with the immediate replacement of all deformed ribs identified during assembly checks with conforming parts to restore compliance with safety regulations.

3. **Implementation of Revised Procedures**: The revised rib fitting procedure, which includes real-time tension monitoring, must be implemented without delay. Training sessions for assembly personnel should be organized to ensure effective adoption of the new techniques.

4. **Monitoring and Compliance**: Establish a robust monitoring system to ensure adherence to the new fitting procedures. Regular audits should be scheduled to detect any deviations early and facilitate continuous improvement.

5. **Documentation**: Maintain detailed records of all fitting processes, including any corrective actions taken. This documentation will serve as a reference for future analyses and support ongoing compliance efforts.

In summary, the integrity of the aircraft structure is critical. The proposed actions aim to address the current issues and prevent future occurrences, ensuring operational safety and efficiency.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-12-08T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Recommandation Finale

#### Contexte et Problématique
L'analyse a révélé que la déformation des nervures d'aile est principalement due à une tension excessive lors de l'ajustement des nervures. Cette déformation entraîne un désalignement compromettant l'efficacité aérodynamique et l'intégrité structurelle de l'appareil.

#### Causes Identifiées
- **Internes** :
 - Erreur d'assemblage due à un manque de formation adéquate.
 - Mauvaise calibration des outils de montage.
- **Externes** :
 - Défauts de fabrication des nervures par le fournisseur Wing Masters Co.

#### Impact
- **Navigabilité** : Risque accru de problèmes de stabilité en vol.
- **Coûts** : Coût de réusinage estimé à 8,000 $ par appareil.
- **Délais** : Retards de production significatifs si non traités.

#### Plan d'Action
1. **Remplacement Immédiat** :
 - Remplacer toutes les nervures déformées par des pièces conformes.
2. **Procédure Révisée** :
 - Mettre en place une procédure d'ajustement des nervures avec surveillance en temps réel de la tension.
 - Former le personnel d'assemblage aux nouvelles techniques.
3. **Surveillance et Audit** :
 - Établir un système de surveillance robuste pour garantir l'adhésion aux nouvelles procédures.
 - Planifier des audits réguliers pour détecter rapidement toute déviation.
4. **Documentation** :
 - Maintenir des dossiers détaillés de tous les processus d'ajustement, y compris les actions correctives.

#### Conclusion
L'intégrité structurelle de l'A220 est cruciale. Les actions proposées visent à corriger les problèmes actuels et à prévenir les occurrences futures, assurant ainsi la sécurité opérationnelle et l'efficacité de la production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 55",nc_label:"Wing panel surface corrosion detected",nc_scenario_id:"ATA-55-ff690649d8863778",nc_event_seed:22517,nc_event_date:"2022-05-30 14:50:57.200000+00:00",nc_event_id:"ATA-55-ff690649d8863778-3388",analysis_history:{"000":[{date:"2022-05-30T14:50:57.200Z",role:"Quality Controler",observation:"Visual signs of surface degradation",name:"Léa Tremblay",description:"Observation of surface degradation noted on the wing panel of aircraft SN4-363288. Visual inspection reveals potential corrosion issues. Specific areas of concern include the wing panel surface, which shows signs of wear and degradation. Immediate attention required to assess the extent of the issue and determine necessary actions.",style:"elusive",label:"Surface Degradation Observed on Wing Panel"}],100:[{date:"2022-05-30T15:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Conducted a detailed review of the corrosion findings on wing panel SN4-363288. Initial observations confirm surface degradation consistent with corrosion due to improper coating application. Recommend immediate inspection of affected areas to assess corrosion depth and extent.",style:"concise and precise",label:"Initial Analysis of Corrosion Issue"},{date:"2022-05-30T16:00:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Dubois",description:"Requesting data on humidity levels and environmental conditions during the initial build phases of aircraft SN4-363288. This information is critical to understanding the corrosion development and to formulate effective mitigation strategies.",style:"concise and precise",label:"Request for Additional Data on Environmental Conditions"},{date:"2022-05-30T17:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Provided historical data on humidity levels during the build phases of aircraft SN4-363288. Noted that humidity exceeded recommended levels on multiple occasions, correlating with observed corrosion issues.",style:"concise and precise",label:"Response to Environmental Data Request"},{date:"2022-05-31T09:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Based on the analysis and environmental data, recommend the following actions:
- Immediate reapplication of protective coatings on affected wing panels.
- Implementation of a monitoring plan for humidity levels during future builds.
- Schedule regular inspections of wing panels to detect early signs of corrosion.`,style:"concise and precise",label:"Formulation of Mitigation Plan"},{date:"2022-05-31T10:30:00.000Z",role:"Design Manager",name:"Marc Lefebvre",description:"Reviewed and validated the proposed mitigation plan. Emphasized the importance of timely execution to prevent further corrosion and potential structural impacts.",style:"concise and precise",label:"Validation of Mitigation Plan"}],200:[{date:"2022-06-01T11:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`The analysis confirmed corrosion on wing panel SN4-363288 due to improper protective coating application. Environmental data indicated excessive humidity during initial build phases, exacerbating the issue. 

**Recommended Actions:**
- Immediate reapplication of protective coatings on affected areas.
- Establish a humidity monitoring protocol for future builds.
- Schedule regular inspections to detect early corrosion signs.

Timely execution is critical to mitigate risks and ensure structural integrity.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-06-01T12:30:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`Following the validation of the mitigation plan regarding the corrosion issue on wing panel SN4-363288, I have conducted an initial stress analysis to evaluate the potential impacts of the proposed reapplication of protective coatings. The analysis indicates that the corrosion, if left unaddressed, could compromise the structural integrity of the wing panels, leading to increased drag and reduced aerodynamic performance.

**Key Findings:**
- The corrosion has penetrated to a depth that may affect the load-bearing capacity of the wing structure.
- The environmental conditions during the initial build phases, particularly the excessive humidity, have exacerbated the corrosion issue, necessitating immediate corrective actions.

**Request for Additional Data:**
To refine the stress analysis and ensure comprehensive evaluation, I require the following information:
1. Detailed specifications of the protective coatings to be reapplied, including thickness and material properties.
2. Historical data on load conditions experienced by the wing panels during flight operations.

Timely provision of this data is crucial for the completion of the stress analysis and to formulate a robust plan of action.`,style:"verbose",label:"Initial Stress Analysis and Request for Additional Data"},{date:"2022-06-01T13:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Provided the requested specifications for the protective coatings, including material properties and recommended application thickness. Additionally, I have compiled historical load data for wing panel SN4-363288, detailing the operational conditions experienced during flight. This data should assist in the ongoing stress analysis.",style:"concise and precise",label:"Response to Stress Office Data Request"},{date:"2022-06-02T09:00:00.000Z",role:"Stress Office",name:"Mathieu Gagnon",description:`Upon receiving the detailed specifications for the protective coatings and the historical load data, I have completed the stress analysis for wing panel SN4-363288. The results indicate that while the corrosion has compromised certain areas, the application of the recommended protective coatings can restore the structural integrity of the wing panels.

**Analysis Summary:**
- The reapplication of protective coatings is essential to halt further corrosion and restore the wing's aerodynamic performance.
- The historical load data confirms that the wing has been subjected to conditions that align with the observed corrosion, emphasizing the need for immediate action.

**Recommendations:**
1. Proceed with the immediate reapplication of protective coatings, ensuring adherence to the specified thickness and material properties.
2. Implement a rigorous monitoring plan for humidity levels during future builds to prevent recurrence of similar issues.
3. Schedule regular inspections of wing panels, particularly focusing on areas previously affected by corrosion, to facilitate early detection of potential issues.

**Conclusion:**
Timely execution of these recommendations is critical to ensure the continued safety and performance of the aircraft. I will continue to monitor the situation and provide further analysis as necessary.`,style:"verbose",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2022-06-03T14:30:00.000Z",role:"Stress Manager",name:"Alexandre Gagnon",description:`Following the stress analysis conducted on wing panel SN4-363288, the findings confirm that the corrosion issue has compromised the structural integrity of the wing. The reapplication of protective coatings is essential to halt further corrosion and restore aerodynamic performance.

**Key Points:**
- Corrosion has penetrated to a depth affecting load-bearing capacity.
- Historical load data aligns with observed corrosion, necessitating immediate action.

**Final Recommendations:**
1. Proceed with immediate reapplication of protective coatings, adhering to specified thickness and material properties.
2. Implement a rigorous humidity monitoring plan for future builds to prevent recurrence.
3. Schedule regular inspections focusing on previously affected areas to facilitate early detection of potential issues.

Timely execution of these recommendations is critical to ensure safety and performance of the aircraft.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-06-04T16:45:00.000Z",role:"Quality Manager",name:"Jean-François Bouchard",description:`### Analyse Finale

**Contexte :**
La corrosion détectée sur le panneau d'aile SN4-363288 résulte d'une application incorrecte des revêtements protecteurs. L'humidité excessive durant les phases initiales de construction a exacerbé le problème.

**Causes Internes :**
- Application incomplète ou incorrecte des revêtements protecteurs.
- Manque de surveillance des conditions environnementales pendant l'assemblage.

**Causes Externes :**
- Conditions climatiques imprévues entraînant une humidité élevée.

### Plan d'Action

1. **Réapplication Immédiate des Revêtements Protecteurs :**
 - Assurer le respect des spécifications de matériau et d'épaisseur pour restaurer l'intégrité structurelle.

2. **Mise en Place d'un Plan de Surveillance de l'Humidité :**
 - Implémenter des capteurs pour surveiller les niveaux d'humidité durant les futures constructions.

3. **Inspections Régulières :**
 - Programmer des inspections fréquentes des panneaux d'aile, en se concentrant sur les zones précédemment affectées.

### Recommandations

- **Exécution Rapide :**
 - La mise en œuvre rapide des actions recommandées est cruciale pour éviter des impacts sur la performance aérodynamique et la sécurité.

- **Réduction des Coûts :**
 - L'identification précoce et la correction des défauts de revêtement peuvent éviter des réparations coûteuses.

- **Efficacité Temporelle :**
 - Utiliser des méthodes de détection rapide pour minimiser les retards de production.

### Conclusion

La résolution rapide de cette non-conformité est essentielle pour garantir la navigabilité et la fiabilité des aéronefs. Le suivi des recommandations assurera la conformité aux normes de sécurité et de performance de l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 50",nc_label:"Fuel sieve misalignment",nc_scenario_id:"ATA-50-264835c9cf98119e",nc_event_seed:16721,nc_event_date:"2023-01-27 02:50:56.814000+00:00",nc_event_id:"ATA-50-264835c9cf98119e-abf4",analysis_history:{"000":[{date:"2023-01-27T02:50:56.814Z",role:"Quality Controler",observation:"Routine fuel system efficiency test identifies anomalies",name:"Léa Tremblay",description:`Observation of non-conformity related to fuel system efficiency test. 
Specific anomalies noted during routine checks. 
Potential issues with fuel sieve alignment observed. 
Part affected: FSV008, Serial: FT220-ZYX, Supplier: FuelFlow Inc. 
Immediate attention required to prevent further complications.`,style:"not fully fluent",label:"Fuel System Anomalies Detected"}],100:[{date:"2023-01-27T03:15:56.814Z",role:"Design Office",name:"Marc Gagnon",description:`Review of anomalies noted in report 000. Fuel sieve misalignment identified as primary concern. Contamination during assembly process leads to blockage. Operational oversight noted. Recommend further investigation into assembly procedures.

Next steps:
- Consult with Design Office Expert Hydro for insights on contamination prevention.
- Review assembly line protocols for adherence.`,style:"elusive",label:"Initial Analysis of Fuel Sieve Misalignment"},{date:"2023-01-27T04:30:56.814Z",role:"Design Office Expert Hydro",name:"Sophie Leclerc",description:`Engaged in discussion regarding contamination during tank assembly. Suggested enhanced filtration measures and regular cleaning schedules. Emphasized importance of training personnel on contamination risks.

Recommendations:
- Implement stricter cleaning protocols.
- Schedule training sessions for assembly staff.`,style:"elusive",label:"Consultation on Contamination Prevention"},{date:"2023-01-27T05:45:56.814Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated insights from Expert Hydro. Proposed action plan includes:
- Enhanced filtration system to reduce contamination risk.
- Regular inspections of fuel systems to catch anomalies early.
- Training for assembly line staff on contamination prevention.

Next steps:
- Prepare formal recommendation for Design Manager review.`,style:"elusive",label:"Consolidation of Recommendations"},{date:"2023-01-28T09:00:56.814Z",role:"Design Manager",name:"Claire Boucher",description:`Reviewed proposed action plan from Design Office. Noted the importance of addressing contamination risks. Suggested additional metrics for monitoring effectiveness post-implementation.

Next steps:
- Validate action plan and prepare for Stress Office calculations.`,style:"elusive",label:"Review of Proposed Action Plan"},{date:"2023-01-28T10:15:56.814Z",role:"Quality Controler",name:"Léa Tremblay",description:`Provided feedback on action plan. Emphasized need for documentation of new procedures. Suggested regular audits to ensure compliance with new protocols.

Next steps:
- Ensure documentation is prepared for new procedures.`,style:"elusive",label:"Feedback on Action Plan"}],200:[{date:"2023-01-29T11:30:56.814Z",role:"Design Manager",name:"Julien Gagné",description:`Analysis confirmed fuel sieve misalignment as a critical issue. Contamination during automated assembly identified as primary cause, leading to blockage and fuel flow disruptions. Internal oversight in assembly procedures noted. 

**Action Plan:**
- Implement enhanced filtration systems to mitigate contamination risks.
- Conduct regular inspections of fuel systems to detect anomalies early.
- Schedule training for assembly personnel on contamination prevention protocols.

**Recommendation:**
Proceed with the action plan to ensure compliance and enhance system reliability. Monitor effectiveness through established metrics post-implementation.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-01-30T09:00:00.000Z",role:"Stress Office",name:"Antoine Dubois",description:`Analyse des impacts de la non-conformité liée à l'alignement du filtre à carburant (FSV008) sur la structure de l'A220.

**Résultats des Calculs de Stress :**
- Les simulations indiquent que la misalignment du filtre peut engendrer des vibrations excessives, entraînant des risques de fatigue sur les composants adjacents.
- Les tests montrent que la contamination peut affecter la pression du carburant, ce qui pourrait compromettre la performance du moteur.

**Recommandations :**
- Mise en place d'un système de filtration amélioré pour minimiser la contamination.
- Réaliser des inspections régulières des systèmes de carburant pour détecter les anomalies.
- Formation du personnel sur les risques de contamination et les procédures d'assemblage.

**Plan d'Action Consolidé :**
1. Implémenter un système de filtration avancé.
2. Établir un calendrier d'inspections régulières.
3. Organiser des sessions de formation pour le personnel d'assemblage.

**Demande d'Informations Complémentaires :**
- Besoin de données sur les procédures d'assemblage actuelles pour évaluer les points de défaillance potentiels.`,style:"elusive",label:"Calcul de Stress et Analyse de la Structure"},{date:"2023-01-30T10:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Réponse à la demande d'informations du Stress Office concernant les procédures d'assemblage.

**Détails des Procédures d'Assemblage :**
- Les procédures actuelles incluent des étapes de nettoyage et de vérification, mais des lapses d'adhérence ont été notés.
- Recommandations pour renforcer ces procédures incluent des audits réguliers et des sessions de formation supplémentaires.

**Prochaines Étapes :**
- Intégrer ces informations dans l'analyse de stress pour une évaluation complète des risques.`,style:"elusive",label:"Fourniture d'Informations Complémentaires"},{date:"2023-01-30T12:00:00.000Z",role:"Stress Office",name:"Antoine Dubois",description:`Recalcul des impacts en tenant compte des informations fournies par le Quality Controller.

**Analyse Révisée :**
- Les procédures d'assemblage renforcées devraient réduire les risques de contamination et d'alignement incorrect.
- Les nouvelles mesures de filtration et d'inspection devraient améliorer la fiabilité du système de carburant.

**Conclusion :**
- Les modifications proposées sont jugées acceptables pour la structure de l'A220, avec un risque réduit de défaillance.
- Recommandation de mise en œuvre immédiate des actions proposées pour garantir la sécurité et la performance.`,style:"elusive",label:"Recalcul et Validation des Risques"},{date:"2023-01-30T14:00:00.000Z",role:"Stress Office Manager",name:"Émilie Gagnon",description:`Validation des calculs de stress et des recommandations finales.

**Résumé des Actions :**
- Adoption des systèmes de filtration améliorés.
- Inspections régulières des systèmes de carburant.
- Formation du personnel sur les nouvelles procédures.

**Impact Attendu :**
- Amélioration significative de la fiabilité du système de carburant.
- Réduction des coûts de maintenance à long terme.
- Garantie de la navigabilité et de la sécurité des opérations.`,style:"elusive",label:"Validation Finale des Calculs de Stress"}],400:[{date:"2023-01-31T15:45:00.000Z",role:"Stress Manager",name:"Julien Lefebvre",description:`**Analysis Summary:**
The stress calculations confirm that the fuel sieve misalignment poses a significant risk to the A220 structure. The contamination during assembly can lead to fuel flow disruptions, which may result in engine performance issues.

**Action Plan Validation:**
- Enhanced filtration systems are recommended to minimize contamination risks.
- Regular inspections of fuel systems should be conducted to identify anomalies early.
- Training sessions for assembly personnel on contamination prevention are essential to ensure adherence to new protocols.

**Final Recommendation:**
Proceed with the implementation of the proposed action plan. The measures outlined are expected to improve the reliability of the fuel system and reduce maintenance costs in the long term. Continuous monitoring of the effectiveness of these actions is crucial to ensure operational safety.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-02-02T10:37:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale

La non-conformité identifiée concerne l'alignement du tamis à carburant, causée principalement par une contamination durant l'assemblage automatisé. Cette situation résulte d'une combinaison de causes internes, telles que des erreurs d'assemblage et une calibration inadéquate, ainsi que de causes externes, comme des défauts potentiels des fournisseurs.

### Plan d'Action

1. **Systèmes de Filtration Améliorés**
 - Mettre en place des systèmes de filtration avancés pour réduire le risque de contamination.
 - Prioriser les fournisseurs avec des antécédents de qualité éprouvée.

2. **Inspections Régulières**
 - Établir un calendrier d'inspections régulières des systèmes de carburant pour détecter rapidement les anomalies.
 - Utiliser des technologies de détection avancées pour optimiser les délais de production.

3. **Formation du Personnel**
 - Organiser des sessions de formation sur la prévention de la contamination et les nouvelles procédures d'assemblage.
 - Mettre en place des audits réguliers pour assurer l'adhérence aux protocoles.

### Recommandation Finale

La mise en œuvre immédiate du plan d'action proposé est cruciale pour garantir la fiabilité du système de carburant et réduire les coûts de maintenance à long terme. Il est essentiel de surveiller en continu l'efficacité de ces mesures pour assurer la sécurité opérationnelle et la conformité aux normes de l'industrie aéronautique. Les actions recommandées devraient améliorer significativement la navigabilité et la résistance des appareils, tout en optimisant les coûts de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Corrosion on aluminum frames components assembly",nc_scenario_id:"ATA-53-152ee0946f8136c0",nc_event_seed:2435,nc_event_date:"2024-09-13 08:50:57.078000+00:00",nc_event_id:"ATA-53-152ee0946f8136c0-1ae6",analysis_history:{"000":[{date:"2024-09-13T08:50:57.078Z",role:"Quality Controler",observation:"Non-destructive corrosion (during) scheduled inspections Thickness",name:"Julien Tremblay",description:`Observation of non-destructive corrosion noted during scheduled inspections. 

Specific issues observed on part number 57140, serial SN-5678 from supplier ABC Metals. 

Measurements indicate potential corrosion presence affecting structural integrity.`,style:"concise and precise",label:"Corrosion Detection During Scheduled Inspections"}],100:[{date:"2024-09-13T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the non-conformity report submitted by the Quality Controller, I have noted the critical observations regarding corrosion on part number 57140, serial SN-5678 from supplier ABC Metals. The corrosion appears to be exacerbated by prolonged exposure to saline environments without adequate maintenance of protective coatings. This situation necessitates a thorough investigation into the handling and storage protocols currently in place, particularly during extended periods of inactivity. 

I recommend initiating a detailed inspection of the affected component to assess the extent of corrosion and to determine if the structural integrity has been compromised. Additionally, it is essential to evaluate the training protocols for personnel involved in the handling and maintenance of these components to ensure they are adequately equipped to manage such situations in the future.`,style:"verbose",label:"Initial Analysis of Corrosion Detection"},{date:"2024-09-13T10:30:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Leclerc",description:`In light of the corrosion issues identified, I am requesting a hydro analysis to evaluate the potential impact of moisture and saline exposure on the structural integrity of the aluminum frames. This analysis should include a review of the environmental conditions during storage and transportation, as well as an assessment of the effectiveness of the current protective coatings. 

The findings will be crucial in determining the necessary remediation measures and in developing enhanced protective protocols to prevent future occurrences.`,style:"verbose",label:"Hydro Analysis Request"},{date:"2024-09-13T12:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`I acknowledge the request for a hydro analysis regarding the corrosion detected on part number 57140. I will coordinate with the relevant departments to gather the necessary data on storage conditions and handling procedures. 

Furthermore, I will ensure that the personnel involved in the maintenance of these components are briefed on the importance of protective coating management to mitigate future risks. I will provide the requested information as soon as possible.`,style:"verbose",label:"Response to Hydro Analysis Request"},{date:"2024-09-14T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Following the hydro analysis and the feedback from the Quality Controler, I have consolidated the findings regarding the corrosion issue. The analysis indicates that the corrosion is primarily due to inadequate protective coating maintenance and exposure to saline environments. 

To mitigate these risks, I recommend the following actions: 
1. Immediate remediation of the affected components, including thorough cleaning and reapplication of protective coatings. 
2. Implementation of a revised storage protocol that includes regular inspections and maintenance of protective coatings during extended storage periods. 
3. Development of a training program for personnel to enhance their understanding of corrosion prevention and management techniques. 

These steps will be essential in ensuring the integrity of the aluminum frames and preventing future occurrences of corrosion.`,style:"verbose",label:"Consolidation of Findings and Recommendations"}],200:[{date:"2024-09-15T14:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`### Analysis Summary:
Corrosion detected on part number 57140, serial SN-5678, attributed to inadequate protective coating maintenance and prolonged exposure to saline environments.

### Action Plan:
1. Immediate remediation of affected components: cleaning and reapplication of protective coatings.
2. Revise storage protocols: regular inspections and maintenance of coatings during extended storage.
3. Develop training program for personnel on corrosion prevention and management.

### Recommendation:
Implement the proposed actions to ensure structural integrity and prevent future occurrences. Focus on enhancing handling and storage practices to mitigate risks associated with saline exposure.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-09-16T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Analysis Summary:
Stress calculations were performed on part number 57140, serial SN-5678, to evaluate the impact of corrosion on structural integrity.

### Findings:
1. **Corrosion Impact:** The corrosion detected has led to localized stress concentrations that may compromise structural integrity, particularly under operational loads.
2. **Material Properties:** The aluminum alloy used has reduced strength in corroded areas, necessitating a thorough assessment of affected regions.

### Recommendations:
1. **Immediate Remediation:** Clean and reapply protective coatings to affected areas to prevent further corrosion.
2. **Structural Reinforcement:** Consider reinforcing the affected components to ensure compliance with safety standards.
3. **Monitoring Protocols:** Implement regular monitoring of corrosion levels and structural integrity assessments during maintenance checks.
4. **Training Enhancement:** Ensure personnel are trained on the importance of corrosion management and the handling of aluminum components in saline environments.`,style:"concise and precise",label:"Initial Stress Analysis and Recommendations"},{date:"2024-09-16T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"I acknowledge the findings from the Stress Office regarding the corrosion impact on part number 57140. I will coordinate with the maintenance team to ensure immediate remediation steps are taken as recommended. Additionally, I will gather data on the current monitoring protocols and training programs for personnel to enhance our practices in corrosion management. I will provide updates on the implementation of these recommendations shortly.",style:"verbose",label:"Response to Stress Analysis Findings"},{date:"2024-09-17T11:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Final Recommendations:
Based on the stress analysis and subsequent feedback:
1. **Immediate Action:** Proceed with cleaning and reapplying protective coatings on part number 57140.
2. **Structural Reinforcement:** Implement reinforcement measures for the affected areas to maintain compliance with safety standards.
3. **Monitoring and Maintenance:** Establish a routine inspection schedule to monitor corrosion and structural integrity, ensuring timely interventions.
4. **Training Program:** Develop and implement a training program focused on corrosion prevention and management for all personnel involved in handling aluminum components.

### Conclusion:
These actions are critical to maintaining the structural integrity of the A220 and ensuring compliance with safety regulations. Continuous monitoring and training will mitigate future risks associated with corrosion.`,style:"concise and precise",label:"Final Recommendations and Action Plan"}],400:[{date:"2024-09-18T14:00:00.000Z",role:"Stress Manager",name:"Étienne Boucher",description:`### Analysis Summary:
Following the stress calculations and recommendations, the integrity of part number 57140, serial SN-5678, has been evaluated in light of the corrosion detected.

### Findings:
1. **Corrosion Impact:** Localized stress concentrations have been identified, which may compromise structural integrity under operational loads. Immediate action is required to address these concerns.
2. **Material Properties:** The affected aluminum alloy exhibits reduced strength in corroded areas, necessitating reinforcement measures.

### Action Plan:
1. **Immediate Remediation:** Clean and reapply protective coatings to prevent further corrosion.
2. **Structural Reinforcement:** Implement reinforcement measures for the affected areas to ensure compliance with safety standards.
3. **Monitoring Protocols:** Establish a routine inspection schedule to monitor corrosion and structural integrity, ensuring timely interventions.
4. **Training Program:** Develop and implement a training program focused on corrosion prevention and management for all personnel involved in handling aluminum components.

### Conclusion:
These actions are critical to maintaining the structural integrity of the A220 and ensuring compliance with safety regulations. Continuous monitoring and training will mitigate future risks associated with corrosion.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-09-19T16:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse des Causes
La corrosion sur le composant numéro 57140, série SN-5678, est principalement due à une maintenance inadéquate des revêtements protecteurs et à une exposition prolongée à des environnements salins. 

- **Causes internes:**
 - Manque de formation du personnel sur la gestion des revêtements protecteurs.
 - Protocoles de stockage insuffisants, notamment lors des périodes d'inactivité prolongée.

- **Causes externes:**
 - Conditions climatiques sévères dans les zones de stockage.
 - Défauts potentiels dans les matériaux fournis par ABC Metals.

### Plan d'Action
1. **Remédiation Immédiate:**
 - Nettoyage et réapplication des revêtements protecteurs sur les composants affectés.
 - Renforcement structurel des zones affectées pour garantir la conformité aux normes de sécurité.

2. **Révision des Protocoles de Stockage:**
 - Mise en place d'inspections régulières et de maintenance des revêtements protecteurs pendant les périodes de stockage prolongé.

3. **Programme de Formation:**
 - Développement et mise en œuvre d'un programme de formation axé sur la prévention et la gestion de la corrosion pour tout le personnel impliqué.

4. **Protocoles de Surveillance:**
 - Établissement d'un calendrier d'inspection de routine pour surveiller la corrosion et l'intégrité structurelle, assurant des interventions rapides.

### Recommandation Finale
L'implémentation de ces actions est cruciale pour maintenir l'intégrité structurelle de l'A220 et assurer la conformité avec les réglementations de sécurité. La surveillance continue et la formation atténueront les risques futurs associés à la corrosion. Prioriser ces mesures garantira la navigabilité, la fiabilité et la réduction des coûts de production à long terme.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 71",nc_label:"Oil torque of turbine casing",nc_scenario_id:"ATA-71-1fa06cad31d59707",nc_event_seed:30046,nc_event_date:"2021-07-20 21:50:57.305000+00:00",nc_event_id:"ATA-71-1fa06cad31d59707-4ba8",analysis_history:{"000":[{date:"2021-07-20T21:50:57.305Z",role:"Quality Controler",observation:"Visual inspection revealing oil traces",name:"Julien Tremblay",description:`Inspection showed oil traces on turbine casing. 
Oil seals appear compromised. 
Potential risk of miscalibration noted. 
Part number: 47014-678, Serial: SN787914900, Supplier: EngineCo.`,style:"not fully fluent",label:"Oil Leakage Inspection Report"}],100:[{date:"2021-07-20T22:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:"Review of inspection report. Oil traces on turbine casing indicate compromised seals. Miscalibration risk acknowledged. Further investigation needed on seal integrity and calibration history.",style:"elusive",label:"Initial Analysis of Oil Leakage"},{date:"2021-07-21T09:30:00.000Z",role:"Design Office Expert Hydro",name:"Marie-Claude Boucher",description:"Need detailed analysis of oil seal materials and wear patterns. Assess if premature wear correlates with operational conditions. Awaiting feedback.",style:"elusive",label:"Request for Detailed Seal Analysis"},{date:"2021-07-21T15:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:"Received input from hydro expert. Seal material shows signs of degradation under specified conditions. Calibration records indicate outdated parameters. Recommend immediate replacement of affected seals.",style:"elusive",label:"Analysis of Seal Material Response"},{date:"2021-07-21T16:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:"Assess potential impacts on electrical systems due to overheating from lubrication failure. Need confirmation on electrical component tolerances under revised torque specifications.",style:"elusive",label:"Request for Electrical System Impact Assessment"},{date:"2021-07-22T10:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:"Consolidated findings indicate urgent need for seal replacement. Recommend implementing new calibration standards. Monitor torque mismatch occurrences across fleet. Schedule maintenance to prevent unscheduled stops.",style:"elusive",label:"Final Recommendations and Action Plan"}],200:[{date:"2021-07-23T14:30:00.000Z",role:"Design Manager",name:"Émile Fortin",description:`### Analysis and Action Plan Validation

- **Context**: Oil leakage observed on turbine casing, seals compromised.
- **Findings**: Miscalibration risk due to outdated calibration and seal wear.
- **Recommendations**: Immediate seal replacement, implement new calibration standards, monitor torque mismatches.
- **Rationale**: Prevent unscheduled engine stops, ensure operational reliability.
- **Next Steps**: Schedule maintenance, confirm actions with relevant stakeholders.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-07-23T15:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Stress Analysis Results

- **Objective**: Evaluate structural integrity post seal replacement.
- **Methodology**: Utilized MATLAB for stress modeling on turbine casing.
- **Findings**: Current torque specifications lead to stress concentrations exceeding acceptable limits. 
- **Recommendations**: 
 - Adjust torque application methods to mitigate stress concentrations.
 - Implement a monitoring system for torque application during maintenance.
 - Schedule follow-up analysis post-implementation to ensure compliance with safety standards.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2021-07-23T16:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Request for Additional Information

- **Context**: Need further details on torque application methods and calibration history.
- **Objective**: Ensure all relevant data is considered in the stress analysis.
- **Action Required**: Provide updated calibration records and torque application protocols.`,style:"elusive",label:"Request for Additional Data"},{date:"2021-07-24T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Follow-up Stress Analysis Results

- **Objective**: Re-evaluate stress analysis with updated data from Quality Controller.
- **Findings**: Adjusted torque application methods significantly reduced stress concentrations to acceptable levels.
- **Final Recommendations**: 
 - Proceed with seal replacement and new torque application methods.
 - Implement regular monitoring of torque application to ensure compliance.
 - Schedule a comprehensive review post-maintenance to confirm structural integrity.`,style:"elusive",label:"Follow-up Stress Analysis"},{date:"2021-07-24T14:00:00.000Z",role:"Stress Manager",name:"Sophie Gagnon",description:`### Final Review of Stress Analysis

- **Context**: Review of stress analysis and recommendations.
- **Findings**: All recommendations align with safety standards and operational reliability.
- **Approval**: Confirmed action plan for seal replacement and torque application adjustments.
- **Next Steps**: Coordinate with maintenance teams for implementation.`,style:"elusive",label:"Final Review and Approval"}],400:[{date:"2021-07-25T10:30:00.000Z",role:"Stress Manager",name:"Émile Charbonneau",description:`### Final Review of Stress Analysis and Action Plan

- **Context**: Review of stress analysis results and recommendations following seal replacement.
- **Findings**: Stress concentrations previously exceeding limits have been mitigated with adjusted torque application methods. Structural integrity is now within acceptable parameters.
- **Recommendations**: 
 - Proceed with the implementation of the seal replacement as planned.
 - Ensure new torque application methods are followed during maintenance.
 - Establish a monitoring protocol for torque application to maintain compliance.
 - Schedule a follow-up structural integrity review post-maintenance to confirm ongoing safety.
- **Rationale**: These actions are crucial to prevent operational disruptions and ensure the reliability of the turbine casing.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-07-26T15:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale et Plan d'Action

#### Contexte
- **Non-conformité**: Fuite d'huile sur le carter de turbine.
- **Partie concernée**: Numéro de pièce 47014-678, Série SN787914900, Fournisseur EngineCo.

#### Causes
- **Internes**: Erreur de calibration, usure prématurée des joints d'huile due à une application incorrecte du couple.
- **Externes**: Défauts potentiels du fournisseur liés aux matériaux des joints.

#### Impact
- **Opérationnel**: Risque d'arrêts non planifiés des moteurs, perturbant les opérations.
- **Financier**: Coûts élevés associés aux temps d'arrêt imprévus.

#### Recommandations
- **Remplacement immédiat** des joints d'huile défectueux pour restaurer la fiabilité.
- **Mise à jour des standards de calibration** pour éviter les erreurs futures.
- **Surveillance continue** des occurrences de désalignement de couple sur l'ensemble de la flotte.
- **Optimisation des méthodes d'application du couple** pour réduire les concentrations de stress.

#### Plan d'Action
1. **Coordination avec les équipes de maintenance** pour le remplacement des joints et la mise en œuvre des nouvelles méthodes de couple.
2. **Établissement d'un protocole de surveillance** pour garantir la conformité continue.
3. **Revue structurelle post-maintenance** pour confirmer l'intégrité et la sécurité.

#### Synthèse
L'analyse a confirmé que les actions proposées sont essentielles pour prévenir les interruptions opérationnelles et assurer la fiabilité du carter de turbine. Une mise en œuvre rapide et une surveillance continue sont cruciales pour maintenir la navigabilité et réduire les coûts futurs.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Cracks in fuselage frames during assembly",nc_scenario_id:"ATA-53-12bf0946e3601acac94",nc_event_seed:16969,nc_event_date:"2023-01-16 18:50:57.085000+00:00",nc_event_id:"ATA-53-12bf0946e3601acac94-8155",analysis_history:{"000":[{date:"2023-01-16T18:50:57.085Z",role:"Quality Controler",observation:"Non-destructive testing (NDT) revealing inspections Thickness",name:"Léa Tremblay",description:`Observation of non-conformity regarding thickness measurements during assembly inspections. 
Cracks noted in fuselage frames, particularly in part number 93433, serial SN-5678 from supplier StructuresCo Metals. 
Issues identified during NDT inspections, indicating potential structural integrity concerns. 
Immediate attention required to assess the impact on assembly processes.`,style:"skills limits",label:"Inspection Findings on Frame Thickness"}],100:[{date:"2023-01-16T19:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Review of the non-conformity report regarding cracks in fuselage frames. Noted that cracks appear due to exposure fatigue and improper handling during assembly. Need to assess training adequacy of personnel and alignment awareness on stress points. Recommend further investigation into handling protocols.",style:"skills limits",label:"Initial Analysis of Cracks in Fuselage Frames"},{date:"2023-01-16T20:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Requesting data on electrical components associated with part number 93433. Need to ensure no electrical interference contributes to structural integrity issues. Awaiting feedback on potential impacts.",style:"skills limits",label:"Request for Additional Data on Electrical Components"},{date:"2023-01-17T09:15:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Requesting insights on the hydraulic systems linked to the fuselage frames. Need to evaluate if hydraulic pressures could exacerbate cracking. Awaiting detailed analysis.",style:"skills limits",label:"Request for Hydraulic System Analysis"},{date:"2023-01-17T11:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Providing requested data on electrical and hydraulic systems. Confirmed no significant anomalies in electrical components. Awaiting further analysis on hydraulic impacts.",style:"skills limits",label:"Response to Additional Data Requests"},{date:"2023-01-17T15:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Consolidated findings from electrical and hydraulic analyses. Recommend implementing enhanced training for assembly personnel. Introduce reinforced handling protocols and regular inspections. Immediate action required to prevent further cracks.",style:"skills limits",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2023-01-18T10:30:00.000Z",role:"Design Manager",name:"Mathieu Bouchard",description:`### Summary of Analysis and Action Plan

The analysis of the non-conformity regarding cracks in fuselage frames has identified key factors contributing to the issue:

- **Primary Causes**: 
 - Internal: Inadequate training of assembly personnel, leading to improper handling and assembly practices.
 - External: Environmental factors such as exposure fatigue due to coastal conditions.

- **Recommendations**:
 - Implement enhanced training programs focused on stress point awareness and proper handling techniques.
 - Establish reinforced handling protocols to mitigate risks during assembly.
 - Introduce regular inspections to detect cracks early and prevent further degradation.

### Conclusion

The proposed action plan aims to enhance assembly integrity and ensure compliance with safety standards. Immediate implementation is crucial to maintain structural safety and production timelines.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-01-18T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Résultats de l'Analyse de Stress

Les calculs de stress effectués sur la structure des cadres de fuselage, en particulier pour la pièce numéro 93433, ont révélé plusieurs points critiques :

- **Surstress** : Les fissures observées sont dues à un surstress des matériaux, dépassant le point d'élasticité, exacerbées par des manipulations inappropriées lors de l'assemblage.
- **Facteurs Internes** : 
 - Formation insuffisante du personnel d'assemblage, entraînant des erreurs dans la manipulation des composants.
 - Non-respect des protocoles de manipulation recommandés.
- **Facteurs Externes** : 
 - Conditions environnementales côtières ayant contribué à la fatigue des matériaux.

### Recommandations

1. **Renforcement des Protocoles de Formation** : Mettre en place des sessions de formation supplémentaires axées sur la manipulation correcte des composants et la sensibilisation aux points de stress.
2. **Mise à Jour des Protocoles de Manipulation** : Établir des procédures de manipulation renforcées pour minimiser les risques de fissures lors de l'assemblage.
3. **Inspections Régulières** : Introduire un programme d'inspections régulières pour détecter les fissures à un stade précoce et éviter une dégradation progressive.
4. **Tests Non Destructifs (NDT)** : Continuer à utiliser des NDT pour surveiller l'intégrité structurelle des composants assemblés.

### Conclusion

L'implémentation immédiate de ces recommandations est cruciale pour garantir l'intégrité structurelle et la sécurité des opérations d'assemblage. Des ajustements structurels mineurs peuvent avoir un impact significatif sur la performance et la navigabilité, il est donc essentiel d'agir rapidement.`,style:"skills limits",label:"Analyse des Calculs de Stress sur la Structure"},{date:"2023-01-18T14:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Demande d'Informations

Suite à l'analyse de stress, il est nécessaire de recueillir des données supplémentaires concernant :
- Les spécifications des matériaux utilisés pour la pièce numéro 93433 afin d'évaluer leur résistance à la fatigue.
- Les conditions d'assemblage spécifiques et les méthodes de manipulation appliquées lors de l'assemblage des cadres de fuselage.

Ces informations permettront de compléter l'analyse et d'affiner les recommandations proposées.`,style:"skills limits",label:"Demande d'Informations Complémentaires"},{date:"2023-01-19T09:00:00.000Z",role:"Stress Office Expert",name:"Sophie Boucher",description:`### Résultats de l'Analyse des Données Complémentaires

Après réception des spécifications des matériaux et des méthodes d'assemblage, les résultats suivants ont été établis :
- **Matériaux** : Les matériaux utilisés pour la pièce numéro 93433 répondent aux normes de résistance, mais leur traitement de surface nécessite une attention particulière pour éviter la corrosion due à l'environnement côtier.
- **Méthodes d'Assemblage** : Les méthodes de manipulation actuelles ne respectent pas les meilleures pratiques, ce qui contribue à l'apparition de fissures.

### Recommandations Supplémentaires

1. **Amélioration du Traitement de Surface** : Revoir le processus de traitement de surface pour garantir une protection adéquate contre la corrosion.
2. **Révision des Méthodes d'Assemblage** : Proposer une révision des méthodes d'assemblage pour intégrer des pratiques de manipulation sécurisées et efficaces.

### Conclusion

Ces ajustements sont essentiels pour garantir la durabilité et la sécurité des pièces assemblées.`,style:"skills limits",label:"Analyse des Données Complémentaires"},{date:"2023-01-19T11:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Plan d'Action Consolidé

Suite aux analyses et recommandations, le plan d'action suivant est proposé :
1. **Formation Renforcée** : Développer un programme de formation pour le personnel d'assemblage, axé sur les points de stress et les méthodes de manipulation sécurisées.
2. **Protocoles de Manipulation** : Établir des protocoles de manipulation rigoureux pour minimiser les risques de fissures.
3. **Inspections et NDT** : Mettre en place un calendrier d'inspections régulières et de tests non destructifs pour surveiller l'intégrité des structures assemblées.
4. **Amélioration du Traitement de Surface** : Collaborer avec le fournisseur pour optimiser le traitement de surface des matériaux utilisés.
5. **Révision des Méthodes d'Assemblage** : Intégrer les meilleures pratiques dans les méthodes d'assemblage pour garantir la conformité et la sécurité des opérations.

### Conclusion

L'application de ce plan d'action est cruciale pour assurer la sécurité et la navigabilité des aéronefs. Une mise en œuvre rapide est recommandée pour éviter des problèmes futurs.`,style:"skills limits",label:"Plan d'Action Consolidé"}],400:[{date:"2023-01-20T09:30:00.000Z",role:"Stress Manager",name:"Marc-Antoine Gagnon",description:`### Summary of Stress Analysis and Action Plan

The stress calculations and impact analysis on the fuselage frame part number 93433 have confirmed the presence of critical stress points leading to cracks. The following key findings and recommendations are outlined:

- **Stress Analysis Results**: 
 - Cracks are attributed to overstressing of materials beyond yield point, exacerbated by inadequate handling during assembly and coastal environmental factors.
 - Insufficient training of assembly personnel and lack of adherence to handling protocols were identified as internal factors.

- **Action Plan**: 
 1. **Enhanced Training**: Implement a robust training program focusing on stress point awareness and proper handling techniques for assembly personnel.
 2. **Reinforced Handling Protocols**: Establish strict handling protocols to minimize risks during assembly and prevent further cracks.
 3. **Regular Inspections**: Introduce a schedule for regular inspections and non-destructive testing (NDT) to monitor structural integrity.
 4. **Surface Treatment Improvement**: Collaborate with the supplier to optimize surface treatment processes to prevent corrosion.
 5. **Review Assembly Methods**: Revise assembly methods to incorporate best practices ensuring compliance and safety.

### Conclusion

Immediate implementation of these recommendations is crucial to ensure structural integrity and compliance with safety standards. Timely actions will mitigate risks and enhance the overall safety of the assembly process.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-01-21T14:45:00.000Z",role:"Quality Manager",name:"Éric Lavoie",description:`### Analyse Finale des Causes et Recommandations

#### Causes Internes
- **Formation Insuffisante** : Personnel d'assemblage mal formé, entraînant des erreurs de manipulation.
- **Protocoles de Manipulation** : Non-respect des protocoles de manipulation, augmentant le risque de fissures.

#### Causes Externes
- **Conditions Environnementales** : Fatigue des matériaux exacerbée par des conditions côtières.
- **Traitement de Surface** : Protection inadéquate contre la corrosion, nécessitant une amélioration.

### Plan d'Action
1. **Programme de Formation Renforcée** : Développer et implémenter un programme de formation axé sur la sensibilisation aux points de stress et les techniques de manipulation appropriées.
2. **Protocoles de Manipulation** : Mettre en place des protocoles stricts pour minimiser les risques de fissures pendant l'assemblage.
3. **Inspections Régulières et NDT** : Établir un calendrier d'inspections régulières et de tests non destructifs pour surveiller l'intégrité structurelle.
4. **Amélioration du Traitement de Surface** : Collaborer avec le fournisseur pour optimiser les processus de traitement de surface et prévenir la corrosion.
5. **Révision des Méthodes d'Assemblage** : Intégrer les meilleures pratiques dans les méthodes d'assemblage pour assurer la conformité et la sécurité.

### Conclusion
L'implémentation immédiate de ces recommandations est cruciale pour garantir l'intégrité structurelle et la conformité aux normes de sécurité. Ces mesures permettront de réduire les coûts liés aux remplacements et aux retards de production, tout en assurant la navigabilité et la fiabilité des aéronefs.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Incomplete paint adhesion on fuselage",nc_scenario_id:"ATA-57-0d98c25ff62e5fda",nc_event_seed:26415,nc_event_date:"2021-12-19 04:50:57.277000+00:00",nc_event_id:"ATA-57-0d98c25ff62e5fda-2580",analysis_history:{"000":[{date:"2021-12-19T04:50:57.277Z",role:"Quality Controler",observation:"Ultrasonic aesthetic reveals reveals cracks",name:"Liam Tremblay",description:"Observation of incomplete paint adhesion on A220 fuselage. Ultrasonic inspection reveals aesthetic cracks on the surface. Affected part: 57-601-PAINT, Serial: SN89281, Supplier: PaintMaster Corp Co. Immediate attention required to address potential long-term corrosion and aesthetic degradation.",style:"concise and precise",label:"Incomplete Paint Adhesion on Fuselage"}],100:[{date:"2021-12-19T05:30:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Upon reviewing the report submitted by Quality Controller Liam Tremblay, it is evident that the incomplete paint adhesion on the A220 fuselage, specifically on part 57-601-PAINT, is a critical issue that requires immediate attention. The ultrasonic inspection has revealed aesthetic cracks, indicating that the paint layer has not bonded properly to the fuselage surface. This situation may lead to aesthetic degradation and potential corrosion over time, which could significantly impact the aircraft's longevity and appearance.

The primary cause identified is the overlooked surface contamination during the painting phase. It is crucial to understand the specific contaminants that were present and how they contributed to the inadequate adhesion. The current cleaning protocols appear to be insufficient in addressing these contaminants, which necessitates a thorough review and potential revision of the cleaning procedures.

**Recommendations for Action:**
1. Conduct a detailed investigation into the types of contaminants that may have been present during the painting process.
2. Review and potentially revise the existing cleaning protocols to ensure they adequately address all possible surface contaminants.
3. Implement a re-inspection of the affected fuselage areas to assess the extent of the damage and determine if additional aesthetic repairs are necessary.
4. Prepare a detailed report of findings and recommendations for further analysis by the Design Manager.`,style:"verbose",label:"Initial Analysis of Incomplete Paint Adhesion"},{date:"2021-12-19T06:45:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`In order to proceed with a comprehensive analysis of the incomplete paint adhesion issue, I am requesting additional information regarding the specific contaminants that were present on the fuselage surface prior to the painting process. Understanding the nature of these contaminants is essential for determining the root cause of the adhesion failure.

**Specific Information Needed:**
- A detailed list of cleaning agents and protocols used during the preparation phase of the fuselage.
- Any records of environmental conditions during the painting process, including humidity and temperature.
- Any previous reports of similar issues encountered with the same supplier, PaintMaster Corp Co, or with the A220 fuselage in general.`,style:"verbose",label:"Request for Additional Information on Contaminants"},{date:"2021-12-19T08:00:00.000Z",role:"Quality Controler",name:"Liam Tremblay",description:`In response to the request from Design Office Expert Sophie Gagnon, I have gathered the following information regarding the contaminants and cleaning protocols used during the painting of the A220 fuselage:

1. **Cleaning Agents Used:**
 - Solvent A (specific type not documented)
 - Detergent B (non-specific, general purpose)

2. **Environmental Conditions:**
 - Humidity: 75% during painting
 - Temperature: 20°C

3. **Previous Reports:**
 - There have been no documented cases of similar issues with PaintMaster Corp Co; however, there was a noted incident with another supplier regarding surface contamination.

This information should assist in further analysis and help in identifying potential gaps in the cleaning protocols.`,style:"verbose",label:"Response to Additional Information Request"},{date:"2021-12-19T09:30:00.000Z",role:"Design Office",name:"Julien Boucher",description:`Based on the additional information provided by Quality Controller Liam Tremblay, it is clear that the environmental conditions during the painting process, particularly the high humidity, may have contributed to the surface contamination and subsequent adhesion failure. The cleaning agents used were not specifically tailored to address the types of contaminants that could have been present.

**Consolidated Recommendations:**
1. Revise cleaning protocols to include specific cleaning agents that target known contaminants, especially in high humidity conditions.
2. Implement a training program for personnel involved in the painting process to ensure they are aware of the importance of surface preparation and the impact of environmental conditions.
3. Schedule a follow-up ultrasonic inspection after the implementation of revised cleaning protocols to ensure that the paint adhesion meets required standards.
4. Document all findings and recommendations in a comprehensive report for review by the Design Manager.`,style:"verbose",label:"Final Analysis and Recommendations"}],200:[{date:"2021-12-20T10:15:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`**Analysis Summary:**
The incomplete paint adhesion issue on the A220 fuselage, particularly part 57-601-PAINT, is attributed to overlooked surface contamination during the painting phase. High humidity (75%) during application likely exacerbated adhesion failure due to inadequate cleaning protocols.

**Action Plan:**
1. Revise cleaning protocols to include targeted agents for contaminants, especially under high humidity.
2. Implement training for painting personnel on surface preparation importance.
3. Schedule follow-up ultrasonic inspections post-protocol revision to verify adhesion standards.

**Final Recommendation:**
Proceed with the proposed action plan to mitigate aesthetic degradation and corrosion risk. Ensure documentation of findings for further structural analysis.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-12-20T11:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Conducted initial stress calculations on the A220 fuselage, focusing on part 57-601-PAINT. Analysis indicates that the incomplete paint adhesion may compromise structural integrity under operational loads. The following factors were considered:

- **Surface Contamination**: Overlooked contaminants leading to inadequate adhesion.
- **Environmental Conditions**: High humidity (75%) during painting phase exacerbated adhesion issues.

**Recommendations:**
1. Implement revised cleaning protocols to ensure surface preparation is adequate.
2. Schedule ultrasonic inspections post-cleaning to verify adhesion integrity.
3. Monitor structural performance closely during initial flights post-repair.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2021-12-20T12:30:00.000Z",role:"Stress Office Expert",name:"Sophie Gagnon",description:"Requesting further details on the cleaning agents used and their effectiveness against specific contaminants. This information is crucial for refining the cleaning protocols and ensuring proper surface preparation prior to repainting.",style:"concise and precise",label:"Request for Additional Information"},{date:"2021-12-20T14:00:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`Provided detailed information on cleaning agents:

- **Cleaning Agents Used:**
 - Solvent A (specific type not documented)
 - Detergent B (non-specific, general purpose)

**Additional Notes:**
- No specific cleaning agents targeted for contaminants were documented. This may have contributed to the adhesion failure.`,style:"verbose",label:"Response to Information Request"},{date:"2021-12-21T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Completed final stress analysis based on updated cleaning protocols and additional information received. The following conclusions were drawn:

- **Structural Integrity**: Current adhesion issues pose a risk to structural integrity under operational conditions.
- **Mitigation Plan:**
 1. Revise cleaning protocols to include specific agents targeting contaminants.
 2. Implement training for personnel on the importance of surface preparation.
 3. Schedule follow-up inspections post-repair to ensure compliance with adhesion standards.

**Next Steps:**
- Monitor the effectiveness of the revised protocols and inspect the fuselage after repainting.`,style:"concise and precise",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-12-22T10:30:00.000Z",role:"Stress Manager",name:"Gabriel Lavoie",description:`**Analysis Summary:**
The stress analysis confirms that incomplete paint adhesion on part 57-601-PAINT poses a risk to structural integrity under operational loads. The identified surface contamination and high humidity during the painting process have contributed to this issue.

**Action Plan:**
1. Revise cleaning protocols to include specific agents targeting contaminants, especially under high humidity conditions.
2. Implement training for painting personnel on the importance of surface preparation to prevent future occurrences.
3. Schedule follow-up ultrasonic inspections post-repair to ensure that paint adhesion meets required standards.

**Final Recommendation:**
Proceed with the revised cleaning protocols and training initiatives. Monitor the structural performance closely during initial flights after repainting to ensure compliance with safety standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-12-23T14:45:00.000Z",role:"Quality Manager",name:"Lucien Fortin",description:`**Analyse des Causes** 
La non-conformité de l'adhésion de peinture sur le fuselage A220, notamment sur la pièce 57-601-PAINT, est principalement due à une contamination de surface non détectée pendant la phase de peinture. Les conditions environnementales, notamment une humidité élevée de 75%, ont aggravé ce problème. Les causes internes incluent des protocoles de nettoyage inadéquats et un manque de formation du personnel sur l'importance de la préparation de surface. Les causes externes sont limitées, mais une vérification des fournisseurs pour des défauts similaires est recommandée. 

**Plan d'Action** 
1. **Révision des Protocoles de Nettoyage** : Intégrer des agents de nettoyage spécifiques pour cibler les contaminants identifiés, surtout en conditions d'humidité élevée. 
2. **Formation du Personnel** : Mettre en place un programme de formation pour sensibiliser le personnel de peinture à l'importance de la préparation de surface et des conditions environnementales. 
3. **Inspections Ultrasoniques** : Programmer des inspections ultrasoniques après la mise en œuvre des nouveaux protocoles pour vérifier l'intégrité de l'adhésion. 
4. **Suivi de la Performance Structurelle** : Surveiller de près la performance structurelle lors des premiers vols après réparation pour garantir la conformité aux normes de sécurité. 

**Recommandation Finale** 
L'implémentation des actions ci-dessus est cruciale pour atténuer les risques de dégradation esthétique et de corrosion, tout en assurant la navigabilité et la fiabilité de l'A220. La réduction des coûts est priorisée en évitant des réparations coûteuses à long terme. Des étapes d'analyse optimisées et des moyens de détection rapide doivent être intégrés pour minimiser les délais de production. Assurer une documentation complète des processus et des résultats pour une amélioration continue.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 55",nc_label:"Delamination of composite stabilizer",nc_scenario_id:"ATA-55-1299e16542b74f16",nc_event_seed:24496,nc_event_date:"2022-03-09 03:50:57.214000+00:00",nc_event_id:"ATA-55-1299e16542b74f16-fdaa",analysis_history:{"000":[{date:"2022-03-09T03:50:57.214Z",role:"Quality Controler",observation:"Ultrasound inspection reveals early signs of delamination",name:"Liam Tremblay",description:`Report regarding observation of non-conformity:
- Ultrasound inspection shows early signs of delamination.
- Affected part: A220-STB-05, Serial: SN5-557423, Supplier: Advanced Aerostructures.
- Initial checks indicate potential inter-layer weakness.
- Immediate attention required to assess stability and integrity.`,style:"not fully fluent",label:"Early Signs of Delamination Detected"}],100:[{date:"2022-03-09T10:30:57.214Z",role:"Design Office",name:"Julien Gagnon",description:`Preliminary review of ultrasound inspection results indicates potential delamination in A220-STB-05. 

- Delamination risk identified due to improper composite lay-up. 
- Immediate investigation into lay-up procedures and material consistency required. 
- Recommend conducting a detailed review of manufacturing processes and quality checks. 
- Engage Quality Controler for further insights on material specifications and previous inspections.`,style:"elusive",label:"Initial Analysis of Delamination Issue"}],200:[{date:"2022-03-10T11:45:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Analysis of delamination issue for A220-STB-05.

- Confirmed early signs of delamination from ultrasound inspection.
- Identified improper composite lay-up as primary cause.
- Recommend immediate review of lay-up procedures and material specifications.
- Engage with Quality Control for deeper insights on previous inspections.
- Plan for detailed investigation into manufacturing processes.
- Ensure all findings documented for further structural analysis.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-03-11T09:30:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`Analyse des résultats de stress sur la structure du stabilisateur composite A220-STB-05.

- Modélisation effectuée avec MATLAB pour évaluer les impacts de la délamination.
- Résultats indiquent que la délamination pourrait compromettre l'intégrité structurelle.
- Recommandation : 
 - Renforcer les procédures de lay-up pour assurer une pression uniforme.
 - Effectuer des tests additionnels sur les matériaux utilisés.
 - Réévaluer les spécifications des matériaux pour éviter les faiblesses inter-couches.

- Demande d'informations complémentaires sur les spécifications des matériaux et les résultats des contrôles qualité précédents pour affiner l'analyse.`,style:"elusive",label:"Calculs de stress pour A220-STB-05"},{date:"2022-03-11T11:00:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`Fourniture des spécifications des matériaux et des résultats des contrôles qualité pour A220-STB-05.

- Matériaux utilisés : Composite X, spécifications conformes aux normes ATA 55.
- Derniers contrôles qualité indiquent une conformité, mais des anomalies ont été notées dans les précédents lots.

- Recommandation : 
 - Réévaluation des lots précédents pour identifier d'éventuelles faiblesses.
 - Collaboration avec le Design Office pour ajuster les procédures de contrôle qualité.`,style:"elusive",label:"Réponse à la demande d'informations"},{date:"2022-03-12T10:00:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`Consolidation des résultats d'analyse après réception des informations complémentaires.

- Confirmation que les matériaux utilisés respectent les normes, mais des variations dans les lots précédents pourraient avoir contribué à la délamination.
- Recommandations finales : 
 - Mise en place d'un audit des processus de fabrication pour identifier les causes internes.
 - Renforcement des contrôles qualité avec des tests supplémentaires sur les matériaux.
 - Formation du personnel sur les procédures de lay-up pour minimiser les erreurs humaines.

- Plan d'action : 
 - Établir un calendrier pour la mise en œuvre des recommandations.
 - Suivi régulier des résultats pour garantir l'intégrité structurelle à long terme.`,style:"elusive",label:"Analyse finale et recommandations"}],400:[{date:"2022-03-13T11:30:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`Validation of stress analysis for A220-STB-05.

- Confirmed findings from previous stress calculations.
- Delamination risk persists; structural integrity at stake.
- Recommended actions:
 - Implement enhanced lay-up procedures to ensure uniform pressure.
 - Conduct additional material testing to confirm consistency across batches.
 - Initiate a comprehensive audit of manufacturing processes to identify root causes.
- Emphasize training for personnel on lay-up techniques to reduce human error.
- Establish a follow-up schedule to monitor implementation and assess structural integrity over time.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-03-14T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse Finale et Recommandations

**Contexte**
- **Non-conformité** : Détection de délamination sur le stabilisateur composite A220-STB-05.
- **Cause primaire** : Erreur dans le lay-up composite, entraînant une faiblesse inter-couche.
- **Impact** : Risque d'instabilité en vol, coûts de production et de tests dépassant $100,000 par occurrence.

**Causes Identifiées**
- **Internes** :
 - Mauvaise calibration des équipements de lay-up.
 - Erreurs humaines dans l'application de la pression.
- **Externes** :
 - Variabilité des matériaux fournis par Advanced Aerostructures.

**Plan d'Action**
1. **Procédures de Lay-up**
 - Renforcer les instructions et la formation pour assurer une pression uniforme.
 - Mettre en place des audits réguliers des processus de fabrication.
2. **Contrôles Qualité**
 - Augmenter la fréquence des tests par ultrasons pour une détection précoce.
 - Réévaluer les spécifications des matériaux et les lots précédents.
3. **Audit et Formation**
 - Auditer les processus de fabrication pour identifier les causes internes.
 - Former le personnel sur les techniques de lay-up pour réduire les erreurs humaines.

**Suivi et Évaluation**
- Établir un calendrier de mise en œuvre des recommandations.
- Suivi régulier des résultats pour garantir l'intégrité structurelle à long terme.

**Conclusion**
L'application rigoureuse de ces mesures est essentielle pour garantir la navigabilité et la fiabilité des stabilisateurs composites de l'A220. Les actions proposées visent à réduire les risques de délamination et à optimiser les coûts de production.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 52",nc_label:"Deformation of support brackets",nc_scenario_id:"ATA-52-e1c0e88563fdfe25",nc_event_seed:12463,nc_event_date:"2023-07-23 12:50:57.029000+00:00",nc_event_id:"ATA-52-e1c0e88563fdfe25-374e",analysis_history:{"000":[{date:"2023-07-23T12:50:57.029Z",role:"Quality Controler",observation:"Vibrational analysis shows anomalies",name:"Jean Dupuis",description:"A detailed observation has been made regarding the support brackets associated with part number SBK-55829 and serial number SBK-228564, supplied by BracketWorks Ltd. During routine vibrational analysis, anomalies were detected that indicate potential issues with the structural integrity of the support brackets. These anomalies suggest that the brackets may not be performing within the expected design parameters, raising concerns about their ability to withstand operational stresses. Further investigation is warranted to ascertain the extent of the deformation and to evaluate the implications for overall aircraft safety and performance.",style:"verbose",label:"Vibrational Anomalies Detected in Support Brackets"}],100:[{date:"2023-07-23T13:00:00.000Z",role:"Design Office",name:"Marc Tremblay",description:"Review report from Quality Controler. Noted vibrational anomalies in support brackets. Need to assess deformation extent. Check design parameters against operational stresses. Possible design flaw. Recommend further investigation.",style:"not fully fluent",label:"Initial Analysis of Vibrational Anomalies"},{date:"2023-07-23T14:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Need electrical analysis on support brackets. Check if electrical components affected by vibrations. Ensure no impact on overall system performance.",style:"not fully fluent",label:"Request for Electrical Analysis"},{date:"2023-07-23T15:45:00.000Z",role:"Design Office Expert Hydro",name:"Lucie Boucher",description:"Request hydraulic analysis related to support brackets. Determine if hydraulic systems impacted by deformation. Assess potential risks.",style:"not fully fluent",label:"Request for Hydraulic Analysis"},{date:"2023-07-24T10:00:00.000Z",role:"Design Office",name:"Marc Tremblay",description:"Received feedback from electrical and hydraulic experts. No critical issues found in systems. However, deformation still concerning. Recommend redesign with resilient materials. Plan to test new materials under stress.",style:"not fully fluent",label:"Consolidation of Findings"},{date:"2023-07-24T11:30:00.000Z",role:"Design Office",name:"Marc Tremblay",description:"Finalize recommendations for mitigation. Propose redesign of support brackets. Use materials with higher fatigue resistance. Suggest further testing to validate design changes. Ensure compliance with structural integrity standards.",style:"not fully fluent",label:"Final Recommendations"}],200:[{date:"2023-07-25T09:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
- **Issue Identified**: Deformation of support brackets (SBK-55829).
- **Root Cause**: Material fatigue due to excessive vibration exposure.

### Action Plan
1. **Redesign**: Propose new support brackets using materials with higher fatigue resistance.
2. **Testing**: Conduct stress tests on new materials to ensure compliance with structural integrity standards.
3. **Monitoring**: Increase frequency of inspections to detect any future anomalies early.

### Final Recommendation
- Implement redesign and testing as outlined. Ensure all changes are documented and validated before production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-07-25T10:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Stress Analysis Overview
- **Objective**: Assess structural integrity of support brackets SBK-55829.
- **Method**: Used MATLAB for stress modeling under operational conditions.

### Findings
- **Deformation**: Significant deformation observed under cyclic loading conditions.
- **Material Fatigue**: Confirmed fatigue failure due to prolonged vibration exposure.

### Recommendations
1. **Material Change**: Propose use of titanium alloy for improved fatigue resistance.
2. **Design Modification**: Redesign brackets to distribute stress more evenly.
3. **Testing**: Conduct further fatigue tests on new materials to validate performance.

### Next Steps
- Request additional data on vibration profiles from Quality Control.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2023-07-25T11:30:00.000Z",role:"Quality Controller",name:"Jean Dupuis",description:"Need detailed vibration profiles for support brackets SBK-55829. This data will help in refining stress analysis and ensuring accurate modeling.",style:"not fully fluent",label:"Data Request for Vibration Profiles"},{date:"2023-07-25T12:30:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Updated Stress Analysis
- **Data Received**: Vibration profiles obtained from Quality Control.
- **Analysis Adjusted**: Re-run stress models incorporating new data.

### Updated Findings
- **Stress Distribution**: Identified critical stress points needing reinforcement.

### Final Recommendations
1. **Reinforcement**: Add support ribs in high-stress areas.
2. **Material Testing**: Validate new materials under revised stress conditions.
3. **Monitoring Plan**: Implement a monitoring system for ongoing vibration analysis.`,style:"not fully fluent",label:"Incorporate Vibration Data"},{date:"2023-07-26T09:00:00.000Z",role:"Stress Office Manager",name:"Émilie Fortin",description:`### Final Stress Analysis Summary
- **Conclusion**: Structural integrity of support brackets SBK-55829 compromised due to material fatigue.
- **Action Plan**:
 1. Redesign brackets with titanium alloy.
 2. Reinforce critical stress points with additional ribs.
 3. Conduct comprehensive testing on new designs.
 4. Establish a regular monitoring protocol for vibration analysis.

### Next Steps
- Prepare documentation for Quality Manager approval.`,style:"not fully fluent",label:"Final Approval of Stress Analysis"},{date:"2023-07-26T10:30:00.000Z",role:"Quality Manager",name:"Sophie Lavoie",description:`### Approval Summary
- **Reviewed**: Final stress analysis and action plan.
- **Decision**: Approved the redesign and testing plan for support brackets.
- **Next Steps**: Ensure implementation of recommendations and monitor progress.`,style:"not fully fluent",label:"Validation of Final Plan"}],400:[{date:"2023-07-27T11:15:00.000Z",role:"Stress Manager",name:"Julien Beaulieu",description:`### Stress Analysis Validation
- **Objective**: Confirm structural integrity of redesigned support brackets SBK-55829.
- **Method**: Reviewed updated stress models and impact assessments.

### Findings
- **Material Change**: Titanium alloy proposed shows improved fatigue resistance.
- **Reinforcement**: Additional ribs in critical stress areas effectively distribute loads.
- **Testing**: Comprehensive testing plan established to validate new design under operational conditions.

### Recommendations
1. **Implementation**: Proceed with redesign and reinforcement as outlined.
2. **Monitoring**: Establish ongoing vibration monitoring to detect future issues.
3. **Documentation**: Ensure all changes and test results are documented for compliance.

### Conclusion
- The proposed changes are expected to enhance the structural integrity and safety of the support brackets, addressing the identified issues effectively.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-07-28T14:45:00.000Z",role:"Quality Manager",name:"François Tremblay",description:`### Analyse et Recommandation Finale

#### Contexte
- **Non-conformité**: Déformation des supports SBK-55829.
- **Cause Primaire**: Fatigue du matériau due à des vibrations excessives au-delà des niveaux de tolérance de conception.

#### Analyse des Causes
- **Causes Internes**: Aucun défaut d'assemblage ou de calibration détecté.
- **Causes Externes**: Fatigue matérielle confirmée, nécessitant une réévaluation du design et des matériaux.

#### Impact
- **Navigabilité**: Risque potentiel pour l'intégrité structurelle de l'aéronef si non traité.
- **Coûts**: Remplacement et redesign estimés à $30,000, avec des temps d'arrêt supplémentaires.

#### Plan d'Action
1. **Redesign**: Utilisation d'un alliage de titane pour une meilleure résistance à la fatigue.
2. **Renforcement**: Ajout de nervures de support dans les zones de stress critique.
3. **Tests**: Plan de tests exhaustifs pour valider les nouvelles conceptions sous conditions opérationnelles.
4. **Surveillance**: Mise en place d'un protocole de surveillance continue des vibrations.
5. **Documentation**: Assurer la documentation complète des modifications et des résultats de tests pour la conformité.

#### Recommandation Finale
- **Mise en œuvre**: Procéder avec le redesign et le renforcement comme prévu.
- **Suivi**: Établir une surveillance continue pour détecter les problèmes futurs.
- **Conclusion**: Les changements proposés devraient améliorer l'intégrité structurelle et la sécurité des supports, répondant efficacement aux problèmes identifiés.

#### Synthèse
L'analyse finale confirme que la déformation des supports est due à une fatigue matérielle excessive. Les recommandations incluent un redesign avec des matériaux plus résistants et un renforcement structurel, assurant ainsi la conformité et la fiabilité du produit.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Severe scratch on fuselage skin",nc_scenario_id:"ATA-57-9a6317ae5cd5823a",nc_event_seed:10461,nc_event_date:"2023-10-14 22:50:57.246000+00:00",nc_event_id:"ATA-57-9a6317ae5cd5823a-f2c5",analysis_history:{"000":[{date:"2023-10-14T22:50:57.246Z",role:"Quality Controler",observation:"Detected using surface inspection tools",name:"Liam Tremblay",description:`Report regarding the non-conformity observed:
- Severe scratch found on fuselage skin.
- Scratch located on part 57-401-FS, serial SN2945, supplied by AluSheet Aviation Supplies.
- Observed during surface inspection.
- No immediate corrective actions taken at this stage.`,style:"not fully fluent",label:"Severe Scratch on Fuselage Skin"}],100:[{date:"2023-10-15T09:30:00.000Z",role:"Design Office",name:"Julien Bouchard",description:`Analysis initiated regarding severe scratch on fuselage skin. 
- Tooling misalignment identified as primary cause. 
- Operators' workload stress noted. 
- Safeguards absent, leading to inadvertent scratches. 
- Recommend immediate review of tooling alignment procedures.`,style:"elusive",label:"Initial Analysis of Non-Conformity"},{date:"2023-10-15T11:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Need detailed specifications of tooling equipment used during assembly. 
- Understanding of alignment processes crucial for further analysis. 
- Requesting data on current safeguards in place.`,style:"elusive",label:"Request for Additional Information on Tooling Equipment"},{date:"2023-10-15T14:15:00.000Z",role:"Quality Controler",name:"Liam Tremblay",description:`Provided specifications of tooling equipment used. 
- No current safeguards implemented. 
- Workload stress levels reported high among operators. 
- Suggests review of operator training and workload management.`,style:"elusive",label:"Response to Information Request"},{date:"2023-10-16T10:45:00.000Z",role:"Design Office",name:"Julien Bouchard",description:`Consolidated findings from previous analyses. 
- Tooling misalignment and operator stress identified as key factors. 
- Recommend realignment of tooling equipment. 
- Implement safeguards to prevent scratches. 
- Propose training sessions for operators on workload management.`,style:"elusive",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2023-10-17T11:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`### Analysis Summary:
- Severe scratch identified on fuselage skin (part 57-401-FS, SN2945).
- Primary cause: Tooling misalignment (internal).
- Contributing factor: High operator workload stress (internal).
- Lack of safeguards led to inadvertent scratches.

### Recommended Actions:
1. Immediate realignment of tooling equipment.
2. Implementation of safeguards to prevent future scratches.
3. Conduct training sessions for operators focusing on workload management and stress reduction.

### Conclusion:
These measures aim to enhance production quality, reduce repair costs, and ensure compliance with safety standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-10-18T09:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Stress Analysis Results:
- Conducted stress calculations on the affected area of fuselage skin (part 57-401-FS, SN2945).
- Tooling misalignment identified as a significant factor affecting structural integrity.
- Current stress levels exceed acceptable limits due to scratches.

### Recommendations:
1. **Immediate Realignment**: Realign tooling to ensure proper assembly and reduce stress concentrations.
2. **Safeguard Implementation**: Introduce physical barriers or guides to prevent operator-induced scratches.
3. **Operator Training**: Enhance training programs focusing on assembly techniques and stress management.

### Next Steps:
- Request additional data on the current assembly process and tooling specifications for further analysis.`,style:"elusive",label:"Initial Stress Analysis"},{date:"2023-10-18T11:30:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`### Response:
- Provided detailed specifications of the assembly process and tooling equipment used.
- Confirmed absence of current safeguards and high workload stress among operators.
- Suggested reviewing operator training and workload management strategies.`,style:"elusive",label:"Response to Stress Analysis Request"},{date:"2023-10-19T10:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`### Final Analysis Summary:
- Re-evaluated stress calculations with additional data received.
- Confirmed that realignment and safeguards are critical to maintaining structural integrity.
- Proposed modifications will not compromise the aircraft's navigability or performance.

### Consolidated Recommendations:
1. **Realignment of Tooling**: Immediate action required to correct misalignment.
2. **Implementation of Safeguards**: Essential to prevent future scratches during assembly.
3. **Operator Training**: Ongoing training sessions to focus on stress management and assembly techniques.

### Conclusion:
These measures are vital for ensuring the integrity of the fuselage and minimizing repair costs. Immediate implementation is recommended.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-10-20T12:30:00.000Z",role:"Stress Manager",name:"Émile Fournier",description:`### Analysis Summary:
- Severe scratch identified on fuselage skin (part 57-401-FS, SN2945).
- Stress calculations confirm that tooling misalignment significantly affects structural integrity.
- Current stress levels exceed acceptable limits due to scratches, increasing risk of corrosion and skin failure.

### Recommended Actions:
1. **Immediate Realignment**: Tooling must be realigned to ensure proper assembly and reduce stress concentrations.
2. **Implementation of Safeguards**: Physical barriers or guides should be introduced to prevent operator-induced scratches.
3. **Operator Training**: Ongoing training sessions focusing on assembly techniques and stress management are essential.

### Conclusion:
These measures are critical for maintaining the integrity of the fuselage and minimizing repair costs. Immediate implementation is necessary to prevent further incidents.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-10-21T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Gauthier",description:`### Analyse Finale

#### Contexte et Causes
- **Non-conformité**: Rayure sévère sur la peau du fuselage (partie 57-401-FS, SN2945).
- **Causes Internes**: 
 - Mauvais alignement des outils lors de l'assemblage, causant des rayures.
 - Stress de charge de travail élevé chez les opérateurs, absence de dispositifs de protection.
- **Causes Externes**: Aucune identifiée.

#### Impact
- **Intégrité Structurelle**: Les rayures augmentent les niveaux de stress au-delà des limites acceptables, risquant la corrosion et la défaillance de la peau.
- **Coûts**: Réparations estimées à 5 000 $ par incident.

### Plan d'Action
1. **Réalignement Immédiat**: Corriger l'alignement des outils pour réduire les concentrations de stress.
2. **Mise en Place de Dispositifs de Protection**: Introduire des barrières physiques pour prévenir les rayures.
3. **Formation des Opérateurs**: Sessions continues sur les techniques d'assemblage et la gestion du stress.

### Recommandation Finale
- **Mise en Œuvre Immédiate**: Ces mesures sont essentielles pour maintenir l'intégrité du fuselage et minimiser les coûts de réparation.
- **Optimisation des Délais**: Intégrer des outils de détection rapide pour réduire les délais de production.
- **Conformité et Fiabilité**: Assurer la navigabilité et la conformité aux normes de sécurité aéronautique.

### Conclusion
Ces actions sont critiques pour garantir la qualité de production et la sécurité de l'A220. Une mise en œuvre rapide est nécessaire pour éviter de futurs incidents.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 31",nc_label:"Erroneous wiring disconnection in redundant systems",nc_scenario_id:"ATA-31-d7df2c6ebe2c9a1c",nc_event_seed:1358,nc_event_date:"2024-10-28 05:50:56.456000+00:00",nc_event_id:"ATA-31-d7df2c6ebe2c9a1c-c28d",analysis_history:{"000":[{date:"2024-10-28T05:50:56.456Z",role:"Quality Controler",observation:"Routine loss incidents logged showing unexpected autopilot disengagements",name:"Liam Tremblay",description:`This report pertains to the observation of routine loss incidents that have been logged, specifically highlighting the unexpected disengagements of the autopilot system during flight operations. The incidents have raised significant concerns regarding the reliability and functionality of the aircraft systems, particularly in relation to the wiring and connections involved in the autopilot mechanism. 

Upon initial review, it has been noted that there may be a correlation between the wiring harness utilized in the A220 units and the reported autopilot disengagements. The specific wiring harness in question is identified by the part number APM-789-234 and serial number A220-WIRE-9876, supplied by ElectroWires Ltd. 

The implications of these unexpected disengagements are profound, as they could potentially lead to increased pilot workload and compromise the safety of flight operations. Further investigation is warranted to ascertain the root causes and to implement corrective measures to mitigate any future occurrences. 

At this stage, it is crucial to document all findings and observations meticulously to ensure a comprehensive analysis can be conducted in subsequent phases of the non-conformity management process.`,style:"verbose",label:"Unexpected Autopilot Disengagement Incidents"}],100:[{date:"2024-10-28T06:30:56.456Z",role:"Design Office",name:"Julien Gagnon",description:"Review wiring harness APM-789-234. Check for mismatches in software schematic. Identify potential causes for autopilot disengagement. Need to cross-verify with software team for version compatibility.",style:"not fully fluent",label:"Initial Analysis of Wiring Issue"},{date:"2024-10-28T08:15:56.456Z",role:"Design Office Expert Elec",name:"Marie-Claude Lefebvre",description:"Conduct detailed inspection of wiring harness. Look for physical damage or improper connections. Assess if wiring meets specifications. Report findings back to Design Office.",style:"not fully fluent",label:"Technical Assessment of Wiring Harness"},{date:"2024-10-28T10:00:56.456Z",role:"Design Office",name:"Julien Gagnon",description:"Gather data from electrical assessment. Recommend corrective actions. Suggest new wiring schematic to prevent future issues. Propose training for assembly staff on proper wiring techniques.",style:"not fully fluent",label:"Compile Findings and Recommendations"},{date:"2024-10-29T09:45:56.456Z",role:"Quality Controler",name:"Liam Tremblay",description:"Evaluate recommendations from Design Office. Ensure actions align with quality standards. Provide feedback on any additional measures needed. Confirm timeline for implementation.",style:"not fully fluent",label:"Review of Proposed Actions"},{date:"2024-10-29T11:30:56.456Z",role:"Design Office",name:"Julien Gagnon",description:"Incorporate feedback from Quality Controler. Finalize action plan with clear steps and responsibilities. Set deadlines for implementation. Document all findings for future reference.",style:"not fully fluent",label:"Finalize Action Plan"}],200:[{date:"2024-10-30T12:45:56.456Z",role:"Design Manager",name:"Émile Boucher",description:`### Analysis Summary
Review of wiring harness APM-789-234 indicates potential mismatches with software schematic. Autopilot disengagements linked to wiring issues.

### Action Plan
1. **Corrective Actions**: Implement new wiring schematic to prevent future issues.
2. **Training**: Provide training for assembly staff on proper wiring techniques.
3. **Inspection**: Conduct thorough inspections of existing wiring harnesses in A220 units.

### Recommendations
- Prioritize addressing wiring issues to ensure safety and reliability of autopilot systems.
- Monitor wiring frequency and establish a feedback loop for ongoing assessment.
- Collaborate with suppliers to ensure compliance with specifications and standards.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-10-30T14:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Stress Analysis Results
Conducted stress calculations on wiring harness APM-789-234. Evaluated impact of wiring mismatches on autopilot functionality.

### Findings
- **Internal Causes**: Wiring assembly errors identified. Potential misalignment during installation.
- **External Causes**: Supplier quality control issues noted. Wiring harness specifications not fully met by ElectroWires Ltd.

### Recommendations
1. **Immediate Inspection**: Inspect all A220 units for wiring integrity.
2. **Supplier Collaboration**: Engage with ElectroWires Ltd. to address specification compliance.
3. **Revised Training**: Update training protocols for assembly staff to include wiring alignment checks.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2024-10-30T15:30:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`### Request
Need detailed data on previous wiring inspections and failure rates. This will help assess the scope of the issue and validate stress analysis findings.`,style:"not fully fluent",label:"Request for Additional Data"},{date:"2024-10-30T16:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Follow-Up Analysis
Received data from Quality Controller. Analyzed failure rates and correlated with wiring harness inspections.

### Updated Findings
- **Failure Rate**: Increased incidents of autopilot disengagements linked to wiring issues.
- **Impact on Production**: Potential delays in production if wiring issues not addressed promptly.

### Recommendations
1. **Enhanced Monitoring**: Implement ongoing monitoring of wiring integrity during production.
2. **Immediate Corrective Actions**: Prioritize wiring inspections in current production batches.`,style:"not fully fluent",label:"Follow-Up Analysis"},{date:"2024-10-31T09:00:00.000Z",role:"Stress Office Expert",name:"Sophie Gagnon",description:`### Final Recommendations
Based on comprehensive stress analysis and additional data received:

1. **Implementation of New Wiring Schematic**: Adopt the proposed new schematic to mitigate risks.
2. **Supplier Quality Assurance**: Establish a quality assurance program with ElectroWires Ltd. to ensure compliance.
3. **Training and Awareness**: Conduct workshops for assembly staff focusing on wiring techniques and quality standards.
4. **Monitoring Plan**: Develop a monitoring plan to track wiring performance and autopilot functionality post-implementation.`,style:"not fully fluent",label:"Final Stress Recommendations"}],400:[{date:"2024-11-01T10:30:00.000Z",role:"Stress Manager",name:"Émile Caron",description:`### Analysis Summary
Reviewed stress calculations on wiring harness APM-789-234. Confirmed internal and external causes of autopilot disengagements linked to wiring issues.

### Action Plan
1. **Implementation of New Wiring Schematic**: Adopt proposed schematic to mitigate risks.
2. **Supplier Quality Assurance**: Collaborate with ElectroWires Ltd. to ensure compliance with specifications.
3. **Training and Awareness**: Conduct workshops for assembly staff on wiring techniques and quality standards.
4. **Monitoring Plan**: Develop a monitoring plan to track wiring performance and autopilot functionality post-implementation.

### Final Recommendations
- Prioritize corrective actions to enhance safety and reliability of autopilot systems.
- Establish feedback loop for ongoing assessment of wiring integrity during production.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-11-02T14:45:00.456Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse des Causes
- **Causes Internes**: 
 - Erreurs d'assemblage identifiées lors de l'installation des faisceaux de câbles.
 - Calibration incorrecte des schémas de câblage, entraînant des déconnexions de l'autopilote.

- **Causes Externes**: 
 - Défauts de conformité des faisceaux de câbles fournis par ElectroWires Ltd.
 - Problèmes de contrôle qualité chez le fournisseur, affectant la fiabilité des composants.

### Plan d'Action
1. **Implémentation du Nouveau Schéma de Câblage**:
 - Adopter le schéma proposé pour réduire les risques de déconnexion.
 - Assurer une formation continue pour le personnel d'assemblage sur les nouvelles techniques de câblage.

2. **Assurance Qualité Fournisseur**:
 - Collaborer étroitement avec ElectroWires Ltd. pour garantir la conformité aux spécifications.
 - Mettre en place un programme d'assurance qualité pour surveiller la performance des fournisseurs.

3. **Plan de Surveillance**:
 - Développer un plan de suivi pour évaluer la performance des câblages et la fonctionnalité de l'autopilote après implémentation.
 - Utiliser des outils de détection rapide pour identifier les défaillances potentielles en production.

### Recommandation Finale
- **Priorité**: Mettre en œuvre les actions correctives pour améliorer la sécurité et la fiabilité des systèmes d'autopilotage.
- **Coûts**: Réduire les coûts en évitant les corrections coûteuses par une détection précoce des problèmes.
- **Efficacité**: Optimiser les étapes d'analyse pour minimiser les délais de production et garantir la conformité des produits.

### Synthèse
L'analyse et les recommandations visent à renforcer la navigabilité et la fiabilité des A220, tout en assurant une conformité stricte aux normes de l'industrie aéronautique. L'approche adoptée est réaliste, contextualisée et orientée vers une réduction des coûts et une efficacité accrue.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Primary stringer crack on wing section",nc_scenario_id:"ATA-57-15d6317c25ff75e5fda",nc_event_seed:6619,nc_event_date:"2024-03-23 00:50:57.267000+00:00",nc_event_id:"ATA-57-15d6317c25ff75e5fda-4f11",analysis_history:{"000":[{date:"2024-03-23T00:50:57.267Z",role:"Quality Controler",observation:"Ultrasonic inspection reveals internal cracks",name:"Julien Tremblay",description:`Report regarding the observation of non-conformity:

- Ultrasonic inspection conducted on part number 57-601-PSTR, serial SN97661 from supplier StringerTech Corp.
- Internal cracks detected during routine inspection.
- Immediate concern for structural integrity of the wing section.
- Further investigation required to assess the extent of the cracks and potential impact on performance.`,style:"verbose",label:"Internal Cracks Detected in Wing Section"}],100:[{date:"2024-03-23T01:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Analysis initiated based on Quality Control report regarding internal cracks in wing section.

- Internal cracks detected in part number 57-601-PSTR, serial SN97661.
- Cracks likely due to material fatigue from alloy composition variability.
- Immediate need to assess crack propagation risk.
- Recommend ultrasonic inspection frequency increase to monitor crack development.`,style:"skills limits",label:"Initial Analysis of Internal Cracks"},{date:"2024-03-23T02:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:`Requesting assessment on potential impacts of internal cracks on electrical systems integrated within the wing structure.

- Need to ensure no compromise to electrical wiring or components.
- Awaiting feedback on any necessary modifications or inspections.`,style:"skills limits",label:"Request for Electrical System Impact Assessment"},{date:"2024-03-23T03:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Received feedback from electrical expert.

- No immediate electrical impact detected.
- Recommend continued monitoring during structural inspections.
- Proceeding with structural analysis.`,style:"skills limits",label:"Review of Electrical Impact Assessment"},{date:"2024-03-23T04:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc-Antoine Dubois",description:`Requesting assessment on potential impacts of internal cracks on hydraulic systems in the wing.

- Need to confirm integrity of hydraulic lines and components.
- Awaiting detailed analysis.`,style:"skills limits",label:"Request for Hydraulic System Impact Assessment"},{date:"2024-03-23T05:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Feedback received from hydraulic expert.

- No immediate concerns regarding hydraulic systems.
- Recommend routine checks during inspections.
- Continuing with overall structural analysis.`,style:"skills limits",label:"Review of Hydraulic Impact Assessment"},{date:"2024-03-24T10:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Consolidated analysis completed.

- Increase inspection frequency for part 57-601-PSTR to monitor crack progression.
- Implement crack detection technology in routine checks.
- Prepare for potential repair strategies if cracks propagate.
- Document findings and recommendations for Quality Manager review.`,style:"skills limits",label:"Final Recommendations and Action Plan"}],200:[{date:"2024-03-25T12:30:00.000Z",role:"Design Manager",name:"Mathieu Gagné",description:`### Analysis Summary
- Internal cracks detected in wing section (part number 57-601-PSTR, serial SN97661).
- Primary cause: material fatigue due to alloy composition variability during manufacturing.
- Increased susceptibility to crack formation under stress conditions noted.

### Action Plan
- Increase ultrasonic inspection frequency for part 57-601-PSTR to monitor crack progression.
- Implement crack detection technology in routine checks.
- Prepare for potential repair strategies if cracks propagate.

### Recommendation
- Continue monitoring structural integrity without presuming structural impacts at this stage.
- Document findings and ensure alignment with Quality Manager for further actions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-03-26T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Analysis Overview
- Conducted stress analysis on wing section (part number 57-601-PSTR, serial SN97661).
- Evaluated impact of detected internal cracks on structural integrity.

### Findings
- Internal cracks increase stress concentration in critical areas.
- Preliminary simulations indicate potential for crack propagation under operational loads.
- Alloy composition variability identified as a contributing factor to material fatigue.

### Recommendations
- Immediate increase in inspection frequency.
- Implement advanced monitoring systems for real-time stress analysis.
- Consider redesign options to mitigate stress concentrations.`,style:"skills limits",label:"Initial Stress Analysis for Internal Cracks"},{date:"2024-03-26T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requesting detailed data on the alloy composition used in part number 57-601-PSTR and historical inspection results to assess variability and its impact on structural integrity.",style:"skills limits",label:"Request for Additional Data"},{date:"2024-03-26T12:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Data Review
- Received alloy composition data and historical inspection results.
- Noted significant variability in alloy properties over production batches.

### Updated Analysis
- Variability correlates with increased fatigue and crack susceptibility.
- Stress simulations adjusted to reflect new data.

### Revised Recommendations
- Implement stricter quality controls on alloy sourcing.
- Increase frequency of ultrasonic inspections to bi-weekly until further notice.`,style:"skills limits",label:"Review of Additional Data"},{date:"2024-03-27T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Final Analysis Summary
- Comprehensive stress analysis completed with updated alloy data.
- Cracks pose significant risk to structural integrity under operational conditions.

### Action Plan
- Immediate implementation of bi-weekly ultrasonic inspections.
- Develop a contingency plan for potential repairs if cracks propagate.
- Engage with supplier for improved alloy consistency and quality assurance measures.

### Conclusion
- Continuous monitoring and proactive measures are essential to ensure safety and compliance.`,style:"skills limits",label:"Final Recommendations and Action Plan"}],400:[{date:"2024-03-28T11:45:00.000Z",role:"Stress Manager",name:"Maxime Gagnon",description:`### Analysis Summary
- Comprehensive review of stress analysis conducted on wing section (part number 57-601-PSTR, serial SN97661).
- Internal cracks pose significant risk to structural integrity under operational loads.

### Findings
- Stress concentration due to cracks confirmed, with potential for propagation under normal operating conditions.
- Alloy composition variability directly linked to increased fatigue and crack susceptibility.

### Action Plan
- Bi-weekly ultrasonic inspections to monitor crack progression.
- Engage with supplier for improved alloy quality and consistency.
- Develop contingency plans for repairs if cracks propagate.

### Recommendation
- Continuous monitoring and proactive measures are essential to ensure safety and compliance.
- Document findings for Quality Manager and align on further actions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-03-29T14:37:00.000Z",role:"Quality Manager",name:"Luc Desrochers",description:`### Analyse Finale
- **Contexte** : Des fissures internes ont été détectées dans la section de l'aile (numéro de pièce 57-601-PSTR, série SN97661) en raison de la fatigue du matériau, attribuée à la variabilité de composition de l'alliage.
- **Causes Internes** : Calibration inadéquate des équipements de détection lors de la production initiale.
- **Causes Externes** : Variabilité de l'alliage fournie par StringerTech Corp, nécessitant une amélioration des contrôles qualité chez le fournisseur.

### Plan d'Action
- **Inspections** : Augmenter la fréquence des inspections ultrasoniques à bi-hebdomadaire pour surveiller la progression des fissures.
- **Fournisseur** : Collaborer avec StringerTech Corp pour garantir une meilleure cohérence de l'alliage et renforcer les mesures d'assurance qualité.
- **Réparations** : Développer des plans de contingence pour des réparations rapides si les fissures se propagent.
- **Technologie** : Intégrer des systèmes de surveillance avancés pour une analyse en temps réel des contraintes.

### Recommandations
- **Sécurité et Conformité** : Maintenir une surveillance continue et des mesures proactives pour assurer la sécurité et la conformité.
- **Réduction des Coûts** : Prioriser les inspections et les améliorations de la chaîne d'approvisionnement pour minimiser les coûts potentiels liés aux réparations.
- **Efficacité Temporelle** : Optimiser les étapes d'analyse et les moyens de détection pour réduire les délais de production.

### Conclusion
La mise en œuvre de ces actions est cruciale pour garantir la navigabilité et la fiabilité des produits, tout en minimisant les impacts financiers et opérationnels.`,style:"direct and synthetic",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 71",nc_label:"Inaccurate engine software calibration",nc_scenario_id:"ATA-71-cf4c84169bbf24b2",nc_event_seed:35764,nc_event_date:"2020-11-24 15:50:57.336000+00:00",nc_event_id:"ATA-71-cf4c84169bbf24b2-6736",analysis_history:{"000":[{date:"2020-11-24T15:50:57.336Z",role:"Quality Controler",observation:"Pilot Visual of sporadic engine traces issues",name:"Léa Tremblay",description:`Report regarding observation of non-conformity:
- Observation of sporadic engine traces noted during pilot visual checks.
- Specific issues observed on part number 86665-344, serial SN696900061 from supplier SoftControl.
- No immediate analysis or conclusions drawn at this stage.`,style:"verbose",label:"Sporadic Engine Trace Issues"}],100:[{date:"2020-11-24T16:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`- Review of sporadic engine trace issues noted in report 000.
- Identify root cause: Bug in ECU software due to overlapping updates specific to A220.
- Assess impact: Risk of compressor accuracy disruption, potential performance loss.
- Quantify impact: Correction estimated at 100 hours, costing $000.48 per aircraft.
- Recommend immediate rectification of software specifications and engine control parameters.`,style:"skills limits",label:"Initial Analysis of Engine Software Calibration Issue"},{date:"2020-11-25T09:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Beaulieu",description:`- Need detailed logs of A220-specific software updates.
- Clarify overlapping changes that led to the bug.
- Request timeline of updates and affected units for thorough analysis.`,style:"skills limits",label:"Request for Additional Data on Software Updates"},{date:"2020-11-25T14:15:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`- Provide logs of software updates related to part number 86665-344.
- Include details on the timeline and specific changes made.
- Confirm affected units for better understanding of the issue.`,style:"skills limits",label:"Response to Data Request"},{date:"2020-11-26T10:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`- Analyze provided update logs.
- Confirm overlapping updates as primary cause of software bug.
- Recommend immediate rectification of software specs and implementation of quality performance standards.
- Suggest monitoring metrics: 2% failure rate in initial software, propose further testing to ensure compliance.`,style:"skills limits",label:"Consolidation of Findings and Recommendations"}],200:[{date:"2020-11-27T11:30:00.000Z",role:"Design Manager",name:"Julien Roy",description:`- Review of analysis regarding sporadic engine trace issues.
- Confirmed root cause: Bug in ECU software due to overlapping updates specific to A220.
- Impact assessed: Risk to compressor accuracy, potential performance degradation noted.
- Action plan: Immediate rectification of software specifications needed.
- Recommend monitoring metrics: 2% failure rate observed, further testing essential for compliance.
- Emphasize urgency in addressing software miscalibration to prevent severe flight issues.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2020-11-27T14:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Analysis Overview
- Conducted stress calculations to evaluate the impact of the ECU software bug on the engine performance and structural integrity.
- Identified potential risks associated with compressor accuracy disruption due to software miscalibration.

### Findings
- The overlapping software updates have introduced inconsistencies in engine control parameters, leading to a 2% failure rate in recent units.
- Stress simulations indicate that the current calibration may lead to increased wear on engine components, potentially compromising navigability and performance.

### Recommendations
1. **Immediate Rectification**: Implement corrected software specifications to ensure accurate engine control.
2. **Monitoring**: Establish a rigorous monitoring protocol to track engine performance post-software update.
3. **Further Testing**: Conduct additional stress tests on affected units to validate the effectiveness of the software corrections.
4. **Supplier Collaboration**: Engage with SoftControl to ensure that future updates are thoroughly vetted to prevent recurrence of similar issues.

### Next Steps
- Await confirmation from the Quality Controller regarding the implementation of the recommended software changes and any additional data required for further analysis.`,style:"skills limits",label:"Initial Stress Analysis on Engine Software Calibration Issue"},{date:"2020-11-27T15:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Acknowledgment of Stress Office Findings
- Reviewed the initial stress analysis provided by the Stress Office.
- Confirmed the need for immediate rectification of the software specifications as recommended.

### Additional Data Request
- Requesting detailed performance logs from the affected aircraft to support further analysis and validation of stress calculations.
- Emphasize the urgency of obtaining this data to facilitate timely corrective actions.`,style:"skills limits",label:"Response to Stress Office Analysis"},{date:"2020-11-28T09:00:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Fortin",description:`### Follow-up Analysis
- Awaiting performance logs from the Quality Controller to finalize the stress analysis.
- Preliminary calculations indicate that without rectification, the risk of structural failure could increase significantly during flight phases.

### Next Steps
- Once the data is received, conduct a comprehensive review and finalize recommendations for corrective actions.`,style:"skills limits",label:"Follow-up on Additional Data Request"},{date:"2020-11-29T10:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Final Analysis Summary
- Completed the review of performance logs provided by the Quality Controller.
- Confirmed that the software miscalibration has led to measurable impacts on engine performance and structural integrity.

### Consolidated Recommendations
1. **Software Correction Implementation**: Prioritize the deployment of corrected software across all affected units.
2. **Enhanced Monitoring**: Implement a continuous monitoring system to track engine performance metrics post-update.
3. **Supplier Engagement**: Collaborate closely with SoftControl to ensure robust testing of future software updates.
4. **Cost Analysis**: Evaluate the financial implications of the software corrections versus potential costs of undetected failures.

### Conclusion
- Emphasize the importance of immediate action to mitigate risks associated with the current software calibration issues.`,style:"skills limits",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2020-11-30T11:30:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`### Stress Analysis Validation
- Reviewed final stress analysis and recommendations from the Stress Office.
- Confirmed that software miscalibration has measurable impacts on engine performance and structural integrity.

### Action Plan
1. **Immediate Software Correction**: Deploy corrected software across all affected units to mitigate risks.
2. **Monitoring Implementation**: Establish a continuous monitoring system for engine performance metrics post-update.
3. **Supplier Collaboration**: Engage with SoftControl for robust testing of future software updates.
4. **Cost-Benefit Evaluation**: Assess financial implications of corrections versus potential failure costs.

### Conclusion
- Urgency in implementing recommendations to prevent severe flight issues and ensure compliance with performance standards.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2020-12-01T14:45:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse et Recommandation Finale

**Contexte et Causes**
- **Cause Primaire**: Bug logiciel dans l'ECU dû à des mises à jour chevauchantes spécifiques à l'A220.
- **Causes Internes**: Mauvaise gestion des versions logicielles et absence de tests de régression adéquats.
- **Causes Externes**: Défauts potentiels dans les composants fournis par SoftControl.

**Impact et Risques**
- **Navigabilité**: Risque de défaillance du compresseur affectant la performance moteur.
- **Coût**: Correction estimée à 100 heures, coût de $48 par avion.
- **Fiabilité**: Taux de défaillance de 2% dans les unités récentes.

**Plan d'Action**
1. **Correction Logicielle Immédiate**: Déployer les spécifications corrigées sur toutes les unités affectées.
2. **Surveillance Continue**: Mettre en place un système de suivi des performances moteur après mise à jour.
3. **Collaboration Fournisseur**: Travailler avec SoftControl pour des tests robustes des futures mises à jour.
4. **Analyse Coût-Bénéfice**: Évaluer les implications financières des corrections par rapport aux coûts potentiels des défaillances non détectées.

**Synthèse et Mise en Consistance**
- **Efficacité Temporelle**: Optimiser les étapes d'analyse pour réduire les délais de production.
- **Réduction des Coûts**: Prioriser les scénarios avec un impact financier significatif.
- **Pertinence Industrielle**: Assurer la conformité et la fiabilité des produits pour garantir la navigabilité.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 52",nc_label:"Deformation of support brackets",nc_scenario_id:"ATA-52-1c0be89d2bc4738",nc_event_seed:14987,nc_event_date:"2023-04-09 08:50:57.029000+00:00",nc_event_id:"ATA-52-1c0be89d2bc4738-53fb",analysis_history:{"000":[{date:"2023-04-09T08:50:57.029Z",role:"Quality Controler",observation:"Vibrational analysis shows anomalies",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:

- Specific observation: Vibrational analysis indicates irregularities.
- Measurement: Anomalies detected during routine checks.
- Issues noted: Potential deformation in support brackets observed, particularly in part SBK-82614, serial SBK-251248 from supplier BracketWorks Ltd.
- Immediate concerns: Structural integrity may be compromised due to these anomalies.`,style:"elusive",label:"Vibrational Anomalies Detected"}],100:[{date:"2023-04-09T10:15:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`Analysis of the report indicates potential deformation in support brackets, particularly part SBK-82614. 

- **Root Cause**: Manual fatigue due to prolonged exposure of sealants. 
- **Impact Assessment**: Immediate concerns regarding structural integrity and load sealing. 
- **Recommendation**: Initiate redesign of support brackets with more resilient materials to withstand cyclical stress. 
- **Next Steps**: Request additional data on material properties and stress analysis from Stress Office.`,style:"concise and precise",label:"Initial Analysis of Vibrational Anomalies"}],200:[{date:"2023-04-10T11:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`Analysis confirms deformation risk in support brackets (SBK-82614). 

- **Root Cause**: Manual fatigue due to prolonged sealant exposure. 
- **Impact**: Structural integrity concerns; potential load sealing failure. 
- **Recommendation**: Redesign support brackets with enhanced materials to mitigate cyclical stress. 
- **Next Steps**: Collaborate with Stress Office for detailed material properties and stress calculations.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-04-11T09:00:00.000Z",role:"Stress Office",name:"Marc Lefebvre",description:`Suite à l'analyse approfondie des données fournies par le Design Office concernant la déformation des supports de la pièce SBK-82614, nous avons réalisé des calculs de stress détaillés pour évaluer les implications structurelles. 

### Résultats de l'Analyse : 
- **Modélisation** : Utilisation de MATLAB pour simuler les conditions de charge et les effets de la fatigue sur les supports. 
- **Stress Cycles** : Les résultats indiquent que les supports subissent des cycles de stress qui dépassent les limites de conception, particulièrement en raison de l'exposition prolongée aux scellants. 
- **Déformation** : La déformation observée est significative et pourrait compromettre l'intégrité structurelle, entraînant des risques de dépressurisation et de défaillance. 

### Recommandations : 
1. **Redesign** : Recommander un redesign complet des supports avec des matériaux plus résilients, spécifiquement conçus pour résister aux conditions de fatigue cyclique. 
2. **Tests de Matériaux** : Effectuer des tests de résistance sur les nouveaux matériaux proposés pour garantir leur adéquation avec les exigences de performance. 
3. **Surveillance** : Mettre en place un programme de surveillance régulier pour détecter toute anomalie future dans les supports. 
4. **Collaboration** : Collaborer étroitement avec le Design Office pour intégrer les résultats des tests de matériaux dans le processus de redesign. 

### Besoins Complémentaires : 
- **Données Matériaux** : Nous avons besoin de spécifications détaillées sur les matériaux alternatifs envisagés pour le redesign. 
- **Historique de Performance** : Des informations sur l'historique de performance des pièces similaires dans d'autres avions seraient également utiles pour évaluer les risques associés. 

Nous recommandons de procéder rapidement avec les étapes de redesign et de tests afin de minimiser les impacts potentiels sur la production et la sécurité.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"}],400:[{date:"2023-04-12T10:30:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`Following the stress calculations conducted by the Stress Office regarding part SBK-82614, the following conclusions and recommendations are made:

- **Stress Analysis Confirmation**: The stress cycles experienced by the support brackets exceed design limits, confirming the deformation risk identified in previous reports.
- **Impact on Structural Integrity**: The deformation poses a significant risk to the structural integrity and load sealing, which could lead to depressurization issues.
- **Final Recommendation**: Proceed with the redesign of the support brackets using more resilient materials. This redesign should focus on materials specifically engineered to withstand cyclic stress conditions.
- **Next Steps**: Collaborate with the Design Office to finalize material specifications and initiate testing protocols. Additionally, implement a regular monitoring program to detect future anomalies in the brackets.
- **Urgency**: It is crucial to expedite these actions to mitigate potential impacts on safety and production timelines.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-04-13T15:45:00.000Z",role:"Quality Manager",name:"Sophie Lavoie",description:`### Analyse Finale et Plan d'Action

**Contexte et Causes :**
- **Cause Primaire :** Fatigue manuelle due à une exposition prolongée aux scellants au-delà de l'interface de conception des portes.
- **Causes Internes :** Potentiel d'erreur d'assemblage et mauvaise calibration des procédures de maintenance.
- **Causes Externes :** Défauts potentiels des fournisseurs, notamment BracketWorks Ltd.

**Impact et Risques :**
- **Intégrité Structurelle :** La déformation des supports compromet l'intégrité structurelle, posant des risques de dépressurisation.
- **Coûts :** Remplacement et redesign estimés à 40 000 $, avec des coûts supplémentaires dus aux temps d'arrêt.
- **Navigabilité :** Risque direct sur la capacité de charge de l'avion si non traité.

**Recommandations :**
1. **Redesign des Supports :** Utiliser des matériaux plus résilients pour résister aux stress cycliques.
2. **Tests de Matériaux :** Effectuer des tests rigoureux pour vérifier la résistance des nouveaux matériaux.
3. **Surveillance Continue :** Mettre en place un programme de surveillance pour détecter rapidement les anomalies futures.
4. **Collaboration Interne :** Travailler étroitement avec le Design Office et le Stress Office pour intégrer les résultats des tests dans le redesign.

**Optimisation et Réduction des Coûts :**
- **Efficacité Temporelle :** Accélérer les étapes d'analyse et de redesign pour minimiser les impacts sur la production.
- **Détection Rapide :** Améliorer les procédures de détection pour réduire les délais de production.

**Conclusion :**
Il est impératif de procéder rapidement avec le redesign et les tests pour assurer la sécurité et la conformité. Les actions recommandées doivent être mises en œuvre sans délai pour garantir la navigabilité et réduire les coûts potentiels liés aux défaillances structurelles.`,style:"concise and direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 50",nc_label:"Aluminum discharge wire conductivity",nc_scenario_id:"ATA-50-7e7776536ce09d",nc_event_seed:18262,nc_event_date:"2022-11-23 21:50:56.849000+00:00",nc_event_id:"ATA-50-7e7776536ce09d-6906",analysis_history:{"000":[{date:"2022-11-23T21:50:56.849Z",role:"Quality Controler",observation:"Routine conductivity tests during",name:"Liam Tremblay",description:`Report regarding the non-conformity observed during routine conductivity tests. Specific observations noted include:
- Inadequate conductivity of aluminum discharge wires.
- Installation errors leading to potential jeopardy of static facilities.
- Initial findings indicate a lack of operator training and procedural clarity.
- Components involved: Part number SDW902, Serial STR220-AL, Supplier ElectroSafe Ltd.`,style:"elusive",label:"Aluminum Discharge Wire Conductivity Issue"}],100:[{date:"2022-11-24T09:15:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Review of the non-conformity report regarding aluminum discharge wire conductivity.

- Identified inadequate conductivity due to installation errors.
- Noted lack of operator training and procedural clarity.
- Recommended immediate review of installation procedures and training materials.`,style:"concise and precise",label:"Initial Analysis of Non-Conformity"},{date:"2022-11-24T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Martin",description:`Conducted a detailed assessment of electrical components involved.

- Confirmed part number SDW902 and supplier ElectroSafe Ltd.
- Suggested conducting additional conductivity tests on existing installations to assess current state.`,style:"concise and precise",label:"Technical Review of Electrical Components"},{date:"2022-11-24T14:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Developed a mitigation plan based on findings.

- Enhance training protocols for operators.
- Update installation procedures to include clear guidelines.
- Schedule routine conductivity tests to monitor compliance.`,style:"concise and precise",label:"Drafting Mitigation Plan"},{date:"2022-11-25T10:00:00.000Z",role:"Quality Controler",name:"Liam Tremblay",description:`Reviewed the proposed mitigation plan.

- Confirmed alignment with quality standards.
- Recommended implementation timeline and follow-up assessment.`,style:"concise and precise",label:"Validation of Mitigation Plan"}],200:[{date:"2022-11-26T15:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`### Analysis and Action Plan Validation
- Reviewed findings from Quality Control and Design Office.
- Confirmed inadequate conductivity due to installation errors and lack of training.

### Recommendations
- **Training Enhancement**: Immediate development of comprehensive training modules for operators.
- **Procedure Update**: Revise installation procedures to ensure clarity and accuracy.
- **Conductivity Testing**: Implement routine conductivity tests to monitor compliance and prevent future issues.

### Conclusion
- Ensure all actions align with industry standards for safety and reliability. No structural impact assumptions made at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-11-27T09:00:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`### Stress Analysis Overview

After conducting a thorough analysis of the structural implications associated with the non-conformity regarding the aluminum discharge wire conductivity, the following observations and recommendations have been formulated:

1. **Structural Integrity Assessment**: The installation errors identified during the routine conductivity tests have raised concerns regarding the potential for corrosion and charge build-up. This could jeopardize the structural integrity of the aircraft, particularly in static facilities where grounding is critical.

2. **Material Conductivity Evaluation**: Conductivity tests on the aluminum discharge wires (Part Number: SDW902, Serial: STR220-AL) indicate that the inadequate conductivity is primarily due to improper installation techniques rather than inherent material defects. This suggests that the issue is internally driven, linked to operator training and procedural adherence.

3. **Recommendations for Mitigation**:
 - **Enhanced Training Protocols**: Immediate implementation of comprehensive training modules for operators to ensure proper installation techniques and understanding of conductivity requirements.
 - **Installation Procedure Revision**: Update existing installation procedures to include detailed guidelines and checklists that emphasize the importance of conductivity in maintaining structural integrity.
 - **Routine Monitoring**: Establish a schedule for routine conductivity tests on all installed aluminum discharge wires to proactively identify any potential issues before they escalate.
 - **Supplier Collaboration**: Engage with ElectroSafe Ltd. to review the specifications and performance standards of the materials supplied, ensuring they meet the necessary conductivity requirements.

4. **Next Steps**: To proceed with the implementation of the above recommendations, I will require additional information regarding the current training materials used and the specific installation procedures followed by operators. This will help in tailoring the training modules and procedural updates effectively.

### Conclusion

The analysis indicates a critical need for immediate action to prevent potential structural failures. The recommendations outlined are aimed at enhancing the reliability and safety of the aircraft systems, ensuring compliance with industry standards.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2022-11-27T12:30:00.000Z",role:"Quality Controller",name:"Liam Tremblay",description:`### Response to Stress Office Request

I have gathered the necessary training materials and installation procedures currently in use. These documents will provide insight into the existing protocols and highlight areas that require enhancement. I will forward these materials to the Stress Office for further analysis.`,style:"concise and precise",label:"Provision of Training Materials and Procedures"},{date:"2022-11-28T10:00:00.000Z",role:"Stress Office",name:"Émile Gagné",description:`### Final Analysis and Recommendations

Upon reviewing the training materials and installation procedures provided by the Quality Controller, the following final recommendations have been established:

1. **Training Module Development**: Develop a comprehensive training module that includes:
 - Detailed explanations of the importance of conductivity in aluminum discharge wires.
 - Step-by-step installation procedures with visual aids to minimize errors.
 - Assessment tests to ensure operator understanding and competency.

2. **Installation Procedure Update**: Revise the installation procedures to incorporate:
 - Clear guidelines on checking conductivity prior to finalizing installations.
 - A checklist for operators to follow during installation to ensure compliance with best practices.

3. **Monitoring and Compliance**: Implement a robust monitoring system that includes:
 - Scheduled routine conductivity tests on all aluminum discharge wires.
 - Documentation of test results and corrective actions taken if issues are identified.

4. **Supplier Engagement**: Schedule a meeting with ElectroSafe Ltd. to discuss the performance of the aluminum discharge wires and ensure their specifications align with our operational requirements.

### Conclusion

These recommendations aim to enhance the overall safety and reliability of the aircraft systems, ensuring that all operators are adequately trained and that installation procedures are strictly followed. This proactive approach will mitigate the risks associated with inadequate conductivity and safeguard the structural integrity of the aircraft.`,style:"verbose",label:"Final Recommendations and Action Plan"}],400:[{date:"2022-11-29T11:00:00.000Z",role:"Stress Manager",name:"Émile Boucher",description:`### Final Validation of Analysis and Action Plan

After thorough review of the stress calculations and impact assessments conducted by the Stress Office, the following conclusions and recommendations are presented:

1. **Validation of Stress Calculations**: The calculations performed indicate that the installation errors associated with the aluminum discharge wires (Part Number: SDW902, Serial: STR220-AL) pose a significant risk to the structural integrity of the aircraft. The potential for corrosion and charge build-up has been confirmed, necessitating immediate corrective actions.

2. **Impact Analysis**: The analysis highlights that inadequate conductivity due to installation errors can lead to severe operational faults, risking both safety and functionality of the aircraft systems. The estimated repair and retraining costs, reaching up to $25,000, further emphasize the urgency of addressing this issue.

3. **Recommendations for Action**:
 - **Immediate Implementation of Training Modules**: Ensure that the developed training modules are rolled out without delay, focusing on proper installation techniques and the importance of conductivity.
 - **Revised Installation Procedures**: Finalize and distribute updated installation procedures that include clear guidelines and checklists to prevent future errors.
 - **Routine Monitoring Protocols**: Establish a robust schedule for routine conductivity tests to ensure ongoing compliance and early detection of potential issues.
 - **Supplier Collaboration**: Engage with ElectroSafe Ltd. to ensure that all materials supplied meet the necessary conductivity standards and performance requirements.

4. **Conclusion**: The proactive measures outlined above are essential to mitigate risks associated with inadequate conductivity and to safeguard the structural integrity of the aircraft. Immediate action is required to implement these recommendations and ensure compliance with industry standards.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-12-01T14:45:00.000Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse et Recommandation Finale

**Contexte**
- Non-conformité détectée : Conductivité inadéquate des fils de décharge en aluminium (Part Number: SDW902, Serial: STR220-AL).
- Impact potentiel : Accumulation de charge et corrosion compromettant l'intégrité structurelle des systèmes statiques de l'A220.

**Causes Identifiées**
- **Internes** :
 - Erreurs d'installation dues à un manque de formation adéquate des opérateurs.
 - Procédures d'installation peu claires.
- **Externes** :
 - Collaboration nécessaire avec le fournisseur ElectroSafe Ltd. pour garantir la conformité des matériaux.

**Plan d'Action**
1. **Formation Améliorée** :
 - Développement immédiat de modules de formation détaillés pour les opérateurs, incluant des tests d'évaluation.
2. **Mise à Jour des Procédures** :
 - Révision des procédures d'installation avec des directives claires et des listes de vérification.
3. **Surveillance et Conformité** :
 - Mise en place de tests de conductivité réguliers pour assurer la conformité continue.
4. **Engagement Fournisseur** :
 - Réunion avec ElectroSafe Ltd. pour discuter des spécifications et des normes de performance.

**Conclusion**
- Les mesures proposées visent à réduire les risques liés à la conductivité inadéquate et à protéger l'intégrité structurelle de l'avion. Une mise en œuvre rapide est essentielle pour garantir la sécurité et la conformité aux normes de l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 36",nc_label:"Low pressure in the pneumatic system",nc_scenario_id:"ATA-36-647512905c8cfb79",nc_event_seed:15479,nc_event_date:"2023-03-19 20:50:56.681000+00:00",nc_event_id:"ATA-36-647512905c8cfb79-e53e",analysis_history:{"000":[{date:"2023-03-19T20:50:56.681Z",role:"Quality Controler",observation:"Analysis of flight data showing discrepancies in pneumatic output",name:"Lucie Tremblay",description:`Report regarding the observation of non-conformity related to pneumatic system performance. Specific observations include:
- Notable discrepancies in pneumatic output during routine checks.
- Instances of low pressure recorded in the A220 fleet.
- Maintenance logs indicate recurring issues with compressor seals.
- Affected part: 36-504, Serial: PRC-16501, Supplier: CompSeals Ltd.`,style:"verbose",label:"Discrepancies in Pneumatic System Performance"}],100:[{date:"2023-03-19T21:30:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`Review of discrepancies in pneumatic output. 
- Noted recurring low pressure issues in A220 fleet. 
- Focus on compressor seals degradation. 
- Initial thoughts on seal durability under operational conditions. 
- Need for further data on maintenance logs and operational flight profiles.`,style:"skills limits",label:"Initial Analysis of Pneumatic System Non-Conformity"},{date:"2023-03-20T09:15:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Boucher",description:`Requesting detailed information on hydraulic system interactions with pneumatic system. 
- Need data on pressure fluctuations during flight. 
- Understanding potential cross-system impacts is crucial for thorough analysis.`,style:"skills limits",label:"Request for Additional Data on Hydraulic System Interaction"},{date:"2023-03-20T14:00:00.000Z",role:"Quality Controler",name:"Lucie Tremblay",description:`Provided maintenance logs showing seal degradation patterns. 
- Confirmed recurring low pressure incidents. 
- Suggested reviewing flight profiles for high-hour aircraft.`,style:"skills limits",label:"Response to Additional Data Request"},{date:"2023-03-21T10:00:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`Completed analysis of pneumatic system issues. 
- Identified seal wear as primary cause. 
- Recommended scheduled replacements to mitigate failures. 
- Proposed intervals based on operational hours to ensure seals are within functional limits. 
- Suggested monitoring metrics to track seal performance and adjust maintenance cycles accordingly.`,style:"skills limits",label:"Comprehensive Analysis and Mitigation Plan"}],200:[{date:"2023-03-22T11:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
- Recurring low pressure in the pneumatic system linked to compressor seal degradation.
- Maintenance logs confirm increased failure rates in high-hour A220 aircraft.

### Action Plan
- Implement scheduled replacements of compressor seals based on operational hours.
- Monitor seal performance metrics to adjust maintenance cycles proactively.
- Investigate potential interactions with hydraulic systems to ensure comprehensive understanding.

### Final Recommendation
- Validate proposed intervals for seal replacements to maintain compliance with airworthiness standards.
- Emphasize the importance of early detection and corrective actions to prevent operational disruptions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-03-22T12:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Stress Analysis Overview
- Conducted initial stress calculations on the pneumatic system related to compressor seal degradation.
- Evaluated structural integrity under operational conditions of the A220 fleet.

### Findings
- Identified potential stress concentrations around compressor mounting points.
- Confirmed that recurring low pressure could lead to increased stress on adjacent components, potentially affecting overall system reliability.

### Next Steps
- Request additional data on flight profiles and operational conditions to refine stress models.`,style:"skills limits",label:"Initial Stress Analysis"},{date:"2023-03-22T13:00:00.000Z",role:"Quality Controller",name:"Lucie Tremblay",description:`Provided detailed operational data for the A220 fleet, including:
- Flight profiles for high-hour aircraft.
- Historical data on pressure fluctuations during various flight phases.
- Maintenance records related to compressor seal replacements.`,style:"skills limits",label:"Response to Stress Office Request"},{date:"2023-03-23T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Refined Stress Analysis Results
- Incorporated operational data into stress models.
- Evaluated the impact of seal degradation on structural integrity.

### Key Insights
- Stress levels around compressor mounting points exceed acceptable limits under certain operational conditions.
- Continuous low pressure scenarios could lead to structural fatigue over time.

### Recommendations
- Implement immediate monitoring of pneumatic pressure to detect early signs of failure.
- Schedule regular inspections of compressor mounts and surrounding structures to prevent potential failures.`,style:"skills limits",label:"Refined Stress Analysis"},{date:"2023-03-23T10:30:00.000Z",role:"Stress Office Expert",name:"Sophie Boucher",description:`### Final Recommendations
- Establish a proactive maintenance schedule for compressor seals based on operational hours to mitigate degradation risks.
- Introduce a monitoring system for pneumatic pressure to ensure compliance with airworthiness standards.
- Conduct further analysis on the interaction between pneumatic and hydraulic systems to identify any additional risks.

### Action Plan
- Validate proposed intervals for seal replacements.
- Emphasize the importance of early detection and corrective actions to prevent operational disruptions.`,style:"skills limits",label:"Final Recommendations and Action Plan"}],400:[{date:"2023-03-24T12:45:00.000Z",role:"Stress Manager",name:"Julien Lefebvre",description:`### Analysis Summary
- Reviewed stress analysis results related to compressor seal degradation in the A220 pneumatic system.
- Confirmed that recurring low pressure leads to increased stress concentrations around compressor mounting points.

### Impact Assessment
- Continuous low pressure scenarios pose a risk of structural fatigue, potentially compromising system reliability.
- Immediate monitoring of pneumatic pressure is essential to detect early signs of failure.

### Action Plan
- Implement a proactive maintenance schedule for compressor seals based on operational hours to mitigate degradation risks.
- Schedule regular inspections of compressor mounts and surrounding structures to prevent potential failures.
- Further analysis on the interaction between pneumatic and hydraulic systems is recommended to identify additional risks.

### Final Recommendation
- Validate proposed intervals for seal replacements to maintain compliance with airworthiness standards.
- Emphasize the importance of early detection and corrective actions to prevent operational disruptions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-03-25T15:30:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse des Causes
- **Cause Primaire**: Usure des joints du compresseur, principalement due à une durabilité insuffisante sous les régimes de vol spécifiques de l'A220.
- **Causes Internes**: Aucune erreur d'assemblage ou mauvaise calibration identifiée.
- **Causes Externes**: Défauts potentiels des fournisseurs, nécessitant une évaluation des matériaux utilisés par CompSeals Ltd.

### Impact et Risques
- **Navigabilité**: Risque de non-conformité avec les normes de navigabilité, pouvant entraîner une immobilisation pour réparations.
- **Coûts**: Remplacement des joints de compresseur à $5,500 par appareil si non détecté.
- **Sécurité**: Baisse continue de pression pouvant causer des dysfonctionnements avioniques.

### Plan d'Action
- **Remplacements Programmés**: Mettre en place un calendrier de remplacement des joints basé sur les heures d'opération pour réduire l'incidence des pannes.
- **Surveillance et Détection**: Introduction d'un système de surveillance de la pression pneumatique pour détecter précocement les signes de défaillance.
- **Inspections Régulières**: Planifier des inspections régulières des montures de compresseur et des structures environnantes.
- **Analyse Complémentaire**: Poursuivre l'analyse des interactions entre les systèmes pneumatiques et hydrauliques pour identifier les risques supplémentaires.

### Recommandation Finale
- **Validation des Intervalles**: Confirmer les intervalles proposés pour le remplacement des joints afin de maintenir la conformité avec les normes de navigabilité.
- **Détection Précoce**: Souligner l'importance de la détection précoce et des actions correctives pour prévenir les perturbations opérationnelles.

### Consistance et Synthèse
- **Approche Industrielle**: Prioriser les scénarios impactant directement la navigabilité et les coûts.
- **Efficacité**: Optimiser les étapes d'analyse et les moyens de détection pour réduire les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 74",nc_label:"Ignition system turbine engine",nc_scenario_id:"ATA-74-4ff7d1afc8c57195",nc_event_seed:24026,nc_event_date:"2022-03-28 17:50:57.976000+00:00",nc_event_id:"ATA-74-4ff7d1afc8c57195-9fe5",analysis_history:{"000":[{date:"2022-03-28T17:50:57.976Z",role:"Quality Controler",observation:"Failure to ignite during maintenance",name:"Léa Tremblay",description:`Report regarding non-conformity observation. 
Specific observation: Failure to ignite during maintenance checks. 
Measures noted: Routine checks not effective. 
Problems observed: Potential ignition system issues on part IG-789-220, serial IG220-8459905 from TurbineParts Inc.`,style:"not fully fluent",label:"Ignition Failure During Maintenance"}],100:[{date:"2022-03-28T18:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Analysis initiated based on report 000. Observed ignition failure during maintenance checks on A220 engines. Noted compliance gaps in maintenance procedures. Need to investigate training adequacy for personnel handling ignition leads. Recommend review of crack detection protocols and engine overheating indicators.",style:"elusive",label:"Initial Analysis of Ignition Failure"},{date:"2022-03-29T09:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Conducted a technical review of ignition system components related to part IG-789-220. Identified potential design flaws in ignition leads. Recommend further testing of ignition leads under simulated maintenance conditions to assess reliability. Need additional data on previous incidents.",style:"elusive",label:"Technical Review of Ignition System"},{date:"2022-03-30T10:45:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Consolidated findings from electrical review. Identified critical areas for retraining personnel on maintenance protocols. Recommend implementing a comprehensive retraining program focusing on crack detection and ignition system handling. Suggest establishing a feedback loop for continuous improvement.",style:"elusive",label:"Consolidation of Findings"},{date:"2022-03-30T14:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:"Reviewed analysis from Design Office. Confirmed need for retraining and enhanced maintenance procedures. Recommend immediate implementation of training sessions and monitoring of maintenance practices. Awaiting further details on training content and schedule.",style:"elusive",label:"Validation of Analysis"},{date:"2022-03-31T11:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Final recommendations compiled. Emphasize critical need for retraining and systematic error reduction. Suggest monitoring metrics post-implementation to assess effectiveness. Recommend ongoing collaboration with Quality Control for continuous feedback and improvement.",style:"elusive",label:"Final Recommendations"}],200:[{date:"2022-04-01T14:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:"Analysis of ignition failure during maintenance checks on A220 engines. Identified compliance gaps in training and maintenance procedures. Recommended comprehensive retraining program for personnel focusing on crack detection and ignition system handling. Emphasized need for enhanced monitoring of maintenance practices. Suggested establishing a feedback loop for continuous improvement. No presumption on structural impacts at this stage.",style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-04-01T15:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:"Conducted preliminary stress analysis on the ignition system of the A220 engine, focusing on part IG-789-220. Evaluated structural integrity under normal operating conditions and during maintenance checks. No immediate structural failures detected, but potential weaknesses identified in the ignition leads under high-stress scenarios. Recommend further testing under simulated extreme conditions.",style:"elusive",label:"Initial Stress Analysis"},{date:"2022-04-01T16:30:00.000Z",role:"Stress Office Expert",name:"Émile Gagnon",description:"Requesting historical data on ignition system failures and maintenance logs for part IG-789-220. This information is crucial for understanding failure patterns and improving reliability. Need data on previous incidents and maintenance practices to refine stress calculations.",style:"elusive",label:"Request for Additional Data"},{date:"2022-04-02T09:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:"Provided requested historical data on ignition system failures and maintenance logs for part IG-789-220. Included details on past incidents, maintenance practices, and personnel training records. Awaiting feedback on the data's adequacy for stress analysis.",style:"elusive",label:"Data Provision"},{date:"2022-04-02T11:00:00.000Z",role:"Stress Office",name:"Émile Gagnon",description:`Completed comprehensive stress analysis incorporating provided data. Key findings:
- Identified critical stress points in ignition leads that may lead to fatigue failure.
- Recommended immediate implementation of enhanced training for maintenance personnel focusing on crack detection and handling of ignition systems.
- Suggested regular monitoring of ignition system performance post-maintenance.
- Emphasized the need for a feedback loop to capture ongoing issues and improve maintenance protocols.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2022-04-03T10:15:00.000Z",role:"Stress Manager",name:"Mathieu Lavoie",description:`Following the stress analysis conducted on ignition system part IG-789-220, the findings indicate critical stress points that could lead to fatigue failure under specific conditions. The analysis confirms the need for enhanced training for maintenance personnel focusing on crack detection and proper handling of ignition systems. 

Recommendations include:
- Immediate implementation of a comprehensive retraining program for maintenance staff.
- Regular monitoring of ignition system performance post-maintenance to capture any anomalies.
- Establishment of a feedback loop to continuously improve maintenance protocols and address recurring issues.

No immediate structural failures were detected, but vigilance is required to prevent potential future incidents.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-04-04T13:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale

L'analyse des défaillances d'allumage sur les moteurs A220 a révélé des lacunes dans les procédures de maintenance, notamment en ce qui concerne la formation du personnel et la détection des fissures. Les points de stress critiques identifiés dans les fils d'allumage peuvent entraîner des défaillances par fatigue.

#### Causes Internes
- **Erreurs de maintenance** : Procédures de maintenance insuffisantes et formation inadéquate du personnel.
- **Calibration incorrecte** : Mauvaise manipulation des systèmes d'allumage lors des vérifications de routine.

#### Causes Externes
- **Défauts fournisseurs** : Composants défectueux fournis par TurbineParts Inc.

### Recommandations
1. **Programme de Réformation** : Mise en œuvre immédiate d'un programme de formation complet pour le personnel de maintenance, axé sur la détection des fissures et la manipulation des systèmes d'allumage.
2. **Surveillance Continue** : Instaurer un suivi régulier des performances des systèmes d'allumage après maintenance pour détecter rapidement les anomalies.
3. **Boucle de Rétroaction** : Établir un système de retour d'information pour améliorer continuellement les protocoles de maintenance.
4. **Tests Simulés** : Effectuer des tests sous conditions simulées extrêmes pour évaluer la fiabilité des fils d'allumage.

### Synthèse
L'absence de défaillances structurelles immédiates ne doit pas réduire la vigilance. La mise en œuvre rapide des recommandations est cruciale pour éviter des incidents futurs et garantir la navigabilité et la fiabilité des moteurs A220. Les actions proposées visent à réduire les coûts potentiels liés aux défaillances non détectées et à optimiser les délais de production en améliorant les processus de détection et de formation.`,style:"direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Deformation bonding subframe components during",nc_scenario_id:"ATA-53-7c475f389583dc1e",nc_event_seed:8077,nc_event_date:"2024-01-22 06:50:57.113000+00:00",nc_event_id:"ATA-53-7c475f389583dc1e-27af",analysis_history:{"000":[{date:"2024-01-22T06:50:57.113Z",role:"Quality Controler",observation:"Thermal imaging indicating joint frame",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:

- Thermal imaging conducted shows anomalies in the joint frame components.
- Measurements indicate potential voids within the bonding areas.
- Initial assessments suggest deviations from expected tolerances.
- Specific parts affected include:
 - Part Number: 60297
 - Serial Number: SN-3456
 - Supplier: Composite Ltd Corp.

Further analysis required to determine root causes and implications.`,style:"elusive",label:"Thermal Imaging Indicating Joint Frame Issues"}],100:[{date:"2024-01-22T08:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Analyzed thermal imaging results indicating joint frame issues. 
- Anomalies suggest potential voids in bonding areas. 
- Deviations from tolerances observed. 
- Immediate focus on cooling process during machining to prevent overheating. 
- Recommend further investigation into machining parameters and cooling methods.`,style:"concise and precise",label:"Initial Analysis of Non-Conformity"},{date:"2024-01-22T10:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:`Requesting detailed specifications of current cooling systems used during machining. 
- Need to assess effectiveness and identify potential improvements. 
- Focus on ensuring adequate cooling to prevent overheating and deformation.`,style:"concise and precise",label:"Request for Additional Data on Cooling Systems"},{date:"2024-01-22T12:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided specifications of the current cooling systems. 
- Confirmed that the cooling systems are operational but may require optimization. 
- Suggested reviewing historical data on machining temperatures and cooling efficiency.`,style:"concise and precise",label:"Response to Request for Additional Data"},{date:"2024-01-23T09:00:00.000Z",role:"Design Office",name:"Émile Gagnon",description:`Consolidated analysis based on received data. 
- Identified need for enhanced cooling protocols during machining. 
- Recommend implementing continuous monitoring of temperatures during operations. 
- Target reduction of deformation issues to 3% in future batches.`,style:"concise and precise",label:"Consolidation of Findings and Recommendations"},{date:"2024-01-23T11:30:00.000Z",role:"Design Manager",name:"Claire Boucher",description:`Reviewed and validated the analysis and recommendations. 
- Approved action plan for improved cooling and monitoring. 
- Emphasized the importance of immediate implementation to mitigate risks.`,style:"concise and precise",label:"Validation of Analysis and Action Plan"}],200:[{date:"2024-01-24T14:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`Analysis and action plan validated. 
- Root cause identified: excessive heat during machining due to inadequate cooling. 
- Recommended actions: 
 - Implement enhanced cooling protocols. 
 - Continuous temperature monitoring during machining. 
- Target deformation reduction to 3% in future batches. 
- Immediate implementation necessary to mitigate structural risks.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-01-25T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`After conducting a thorough analysis of the thermal imaging data and the identified non-conformities in the bonding areas of the joint frame components, the following observations and recommendations have been formulated:

- **Root Cause Analysis**: The primary cause of the deformation has been attributed to excessive heat generated during the machining processes. This overheating, exacerbated by inadequate cooling measures, has resulted in thermal expansion of the materials, leading to the observed structural anomalies. It is crucial to note that both internal factors (e.g., insufficient calibration of cooling systems) and external factors (e.g., supplier material properties) may have contributed to this issue.

- **Stress Calculations**: Utilizing advanced modeling techniques, the stress distribution across the affected components was assessed. The results indicate that the current bonding integrity is compromised, posing significant risks to structural performance and navigability. The deformation levels observed exceed acceptable thresholds, necessitating immediate corrective actions.

- **Recommendations**:
 - **Enhanced Cooling Protocols**: Immediate implementation of optimized cooling systems during machining operations is essential. This may involve recalibrating existing systems or investing in more efficient cooling technologies.
 - **Continuous Monitoring**: Establish a robust monitoring system to continuously track temperatures during machining processes. This will allow for real-time adjustments and prevent overheating.
 - **Supplier Collaboration**: Engage with Composite Ltd Corp. to review material specifications and ensure compliance with operational tolerances.
 - **Target Deformation Reduction**: Set a clear target to reduce deformation issues to 3% in future batches, with regular assessments to monitor progress.

- **Next Steps**: Further data collection is required to refine the cooling system specifications. A request for detailed operational parameters and historical temperature data will be sent to the Quality Controller for comprehensive analysis.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2024-01-25T11:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Provided detailed operational parameters and historical temperature data for the machining processes. This data includes:
- Historical temperature logs for the last six months.
- Specifications of the current cooling systems, including flow rates and coolant types.
- Records of any previous anomalies or deviations observed during machining operations.`,style:"concise and precise",label:"Response to Stress Office Request for Additional Data"},{date:"2024-01-26T10:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`Following the receipt of additional data from the Quality Controller, a comprehensive review was conducted to finalize the stress analysis and recommendations:

- **Updated Analysis**: The historical temperature data confirmed that machining temperatures frequently exceeded optimal levels, supporting the initial findings of overheating. The cooling system specifications indicated potential inefficiencies that could be addressed.

- **Consolidated Recommendations**:
 - **Immediate Implementation of Enhanced Cooling Protocols**: Prioritize the recalibration of existing cooling systems and explore the integration of advanced cooling technologies to ensure optimal performance during machining.
 - **Establishment of a Continuous Monitoring System**: Develop and implement a continuous temperature monitoring system to provide real-time feedback during machining processes, enabling immediate corrective actions if overheating occurs.
 - **Supplier Engagement**: Collaborate closely with Composite Ltd Corp. to ensure that all materials meet the required specifications and tolerances, thereby reducing the risk of future non-conformities.
 - **Regular Review and Assessment**: Schedule regular assessments to monitor the effectiveness of the implemented changes, with a focus on achieving the target deformation reduction to 3% in future batches.

- **Conclusion**: The outlined recommendations are critical to ensuring the structural integrity and navigability of the A220. Immediate action is required to mitigate risks and enhance production efficiency.`,style:"verbose",label:"Final Stress Analysis and Consolidated Recommendations"}],400:[{date:"2024-01-27T12:45:00.000Z",role:"Stress Manager",name:"Marc-Antoine Gagnon",description:`Following the comprehensive stress analysis and impact assessment conducted by the Stress Office, the following conclusions and recommendations are presented:

- **Validation of Stress Calculations**: The stress analysis confirms that the excessive heat during machining has led to significant deformation in the bonding areas of the joint frame components. The calculated stress distribution indicates compromised structural integrity, necessitating immediate corrective actions.

- **Impact Assessment**: The risks associated with the current deformation levels are substantial, with potential implications for structural failure and operational capacity. The financial impact of delays or rework is estimated at $30,000 per batch, highlighting the urgency for resolution.

- **Recommendations**:
 - **Enhanced Cooling Measures**: Immediate implementation of optimized cooling protocols is essential. This includes recalibrating existing systems and exploring advanced cooling technologies to maintain optimal machining temperatures.
 - **Continuous Monitoring Implementation**: Establish a robust monitoring system to track temperatures in real-time during machining processes, allowing for immediate corrective actions to prevent overheating.
 - **Supplier Collaboration**: Engage with Composite Ltd Corp. to ensure that all materials meet required specifications and tolerances, reducing the risk of future non-conformities.
 - **Target Deformation Reduction**: Aim for a reduction of deformation issues to 3% in future batches, with regular assessments to monitor progress and effectiveness of implemented changes.

- **Next Steps**: Immediate action is required to implement the recommendations outlined above. Regular follow-ups will be scheduled to assess the effectiveness of the changes and ensure compliance with structural integrity standards.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-01-28T15:30:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse des Causes

- **Causes Internes**:
 - **Erreur de Calibration**: Les systèmes de refroidissement actuels ne sont pas calibrés correctement, entraînant une surchauffe pendant l'usinage.
 - **Protocole de Surveillance Insuffisant**: Absence de surveillance continue des températures, ce qui empêche la détection précoce des anomalies.

- **Causes Externes**:
 - **Défauts Fournisseurs**: Les matériaux fournis par Composite Ltd Corp. peuvent présenter des tolérances inadéquates, contribuant aux déformations observées.

### Recommandations

- **Mesures de Refroidissement Améliorées**:
 - Recalibrer immédiatement les systèmes de refroidissement existants.
 - Explorer l'intégration de technologies de refroidissement avancées pour maintenir des températures optimales.

- **Mise en Place d'un Système de Surveillance Continue**:
 - Développer un système robuste pour surveiller les températures en temps réel pendant l'usinage, permettant des ajustements immédiats.

- **Collaboration avec le Fournisseur**:
 - Travailler étroitement avec Composite Ltd Corp. pour s'assurer que tous les matériaux respectent les spécifications requises.

- **Réduction des Déformations**:
 - Viser une réduction des problèmes de déformation à 3% dans les lots futurs, avec des évaluations régulières pour suivre les progrès.

### Synthèse et Mise en Consistance

Les actions recommandées sont cruciales pour assurer l'intégrité structurelle et la navigabilité de l'A220. Une mise en œuvre immédiate est nécessaire pour atténuer les risques et améliorer l'efficacité de la production. Des suivis réguliers seront programmés pour évaluer l'efficacité des changements et garantir la conformité aux normes de sécurité et de performance.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 71",nc_label:"Excessive vibration due to misaligned engine mount",nc_scenario_id:"ATA-71-6180ff4fb4943d08",nc_event_seed:6862,nc_event_date:"2024-03-12 21:50:57.365000+00:00",nc_event_id:"ATA-71-6180ff4fb4943d08-2099",analysis_history:{"000":[{date:"2024-03-12T21:50:57.365Z",role:"Quality Controler",observation:"Quality engine highlighting misalignment with laser tools",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:

- Quality engine tests revealed misalignment issues using laser tools.
- Specific parts affected: MountWorks engine mount, part number 40382-654, serial number SN303352157.
- Initial findings indicate potential vibration anomalies linked to the misalignment.
- Further investigation required to assess the full impact on aircraft stability.`,style:"elusive",label:"Engine Mount Misalignment Detected"}],100:[{date:"2024-03-12T22:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analyzed report from Quality Controler regarding engine mount misalignment.

- Misalignment detected on MountWorks part number 40382-654, serial SN303352157.
- Primary cause: installation askew due to misinterpretation of alignment templates.
- Vibration issues identified, impacting aircraft stability.
- Immediate rectification required to prevent structural fatigue.`,style:"concise and precise",label:"Initial Analysis of Misalignment Issue"},{date:"2024-03-12T22:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:`Requesting assessment of potential electrical system impacts due to excessive vibrations from misaligned engine mounts.

- Need to evaluate if any electrical components may be affected.
- Please provide feedback on any necessary adjustments or inspections.`,style:"concise and precise",label:"Request for Electrical Impact Assessment"},{date:"2024-03-13T09:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Proposing a plan of action to mitigate misalignment issues:

1. Immediate realignment of engine mounts to correct positioning.
2. Conduct vibration analysis post-realignment to ensure stability.
3. Implement a review of alignment templates to prevent future misinterpretation.
4. Document findings and corrective actions in the quality management system.`,style:"concise and precise",label:"Plan of Action Proposal"},{date:"2024-03-13T10:30:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Reviewing the proposed plan of action from Design Office.

- Plan addresses immediate concerns effectively.
- Recommend proceeding with realignment and vibration analysis.
- Ensure documentation is thorough for future reference.`,style:"concise and precise",label:"Validation of Proposed Plan"}],200:[{date:"2024-03-14T11:30:00.000Z",role:"Design Manager",name:"Émile Lefebvre",description:`### Analysis Summary
- Misalignment of engine mount (MountWorks part 40382-654, SN303352157) confirmed.
- Primary cause: installation error, misinterpretation of alignment templates.

### Proposed Action Plan
1. Immediate realignment of engine mounts to rectify positioning.
2. Post-realignment vibration analysis to ensure stability.
3. Review and update alignment templates to prevent future issues.
4. Document all findings and corrective actions in quality management system.

### Final Recommendation
Proceed with the proposed action plan to mitigate misalignment issues. Ensure thorough documentation for future reference. No assumptions on structural impacts at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-03-15T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Stress Analysis Overview

Upon receiving the validated action plan regarding the misalignment of the engine mount (MountWorks part number 40382-654, serial number SN303352157), a preliminary assessment was conducted to evaluate the structural implications of the proposed realignment. The analysis focused on the following key areas:

1. **Vibration Impact Assessment**: The initial findings indicated that the misalignment resulted in excessive vibrations, which could potentially lead to structural fatigue over time. The stress distribution on the engine mounts was modeled using finite element analysis (FEA) to quantify the stress concentrations resulting from the misalignment.

2. **Structural Integrity Evaluation**: The calculations revealed that the misaligned mounts subjected the surrounding structure to forces beyond the acceptable limits, which could compromise the overall integrity of the aircraft. The maximum stress observed was significantly higher than the design threshold, necessitating immediate corrective actions.

3. **Recommendations for Realignment**: To mitigate the identified risks, the following steps are recommended:
 - **Immediate Realignment**: Execute the proposed realignment of the engine mounts as per the action plan.
 - **Post-Realignment Vibration Analysis**: Conduct a thorough vibration analysis post-realignment to ensure that the modifications have restored the structural integrity and minimized vibrations.
 - **Documentation and Review**: Ensure that all findings, including the stress analysis results and vibration data, are documented meticulously in the quality management system for future reference.

### Request for Additional Information
To proceed effectively, I require the following additional data:
- Confirmation of the realignment procedure to be used.
- Any historical data on previous vibrations or structural assessments related to this engine mount.

This information will enable a more comprehensive analysis and ensure that all potential risks are addressed adequately.`,style:"verbose",label:"Initial Stress Analysis and Request for Additional Data"},{date:"2024-03-15T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Response to Stress Office

- **Realignment Procedure**: The realignment will follow the updated alignment templates, ensuring precise positioning of the engine mounts.
- **Historical Data**: Previous assessments indicate that no significant vibrations were recorded prior to the misalignment issue. However, a detailed vibration analysis will be conducted post-realignment to confirm stability.

I will ensure that all documentation is updated accordingly.`,style:"concise and precise",label:"Response to Stress Office Request"},{date:"2024-03-16T11:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Final Stress Analysis Summary

Following the receipt of the requested information, a comprehensive stress analysis was conducted to evaluate the implications of the realignment procedure on the structural integrity of the aircraft. The results confirmed that the proposed actions would effectively mitigate the risks associated with the misalignment of the engine mounts.

1. **Stress Redistribution**: The realignment is expected to redistribute the stresses across the engine mounts and surrounding structure, bringing them within acceptable limits.

2. **Vibration Mitigation**: Post-realignment vibration analysis will be critical to ensure that the modifications have eliminated excessive vibrations, thereby enhancing passenger comfort and safety.

3. **Ongoing Monitoring**: It is recommended to implement a monitoring protocol to track vibration levels and structural integrity over time, ensuring any future deviations are detected early.

### Consolidated Action Plan
- **Execute Realignment**: Proceed with the realignment of the engine mounts as per the updated templates.
- **Conduct Vibration Analysis**: Perform a detailed vibration analysis immediately after realignment.
- **Document Findings**: Ensure all results and corrective actions are documented in the quality management system for future reference.
- **Implement Monitoring**: Establish a monitoring system to track vibration levels and structural integrity continuously.

This comprehensive approach will ensure the aircraft's safety, reliability, and compliance with industry standards.`,style:"verbose",label:"Final Stress Analysis and Consolidated Recommendations"}],400:[{date:"2024-03-17T10:30:00.000Z",role:"Stress Manager",name:"Émile Fournier",description:`### Final Validation of Stress Analysis and Recommendations

Following the comprehensive stress analysis conducted by the Stress Office regarding the misalignment of the engine mount (MountWorks part number 40382-654, serial number SN303352157), I confirm the following:

1. **Stress Redistribution**: The proposed realignment of the engine mounts is expected to effectively redistribute stresses within acceptable limits, thereby enhancing the structural integrity of the aircraft.

2. **Vibration Mitigation**: The action plan includes conducting a post-realignment vibration analysis, which is critical to ensure that excessive vibrations are eliminated, thus improving passenger comfort and safety.

3. **Ongoing Monitoring**: I recommend implementing a continuous monitoring protocol to track vibration levels and structural integrity over time. This proactive approach will help in identifying any future deviations promptly.

### Consolidated Action Plan
- **Execute Realignment**: Proceed with the realignment of the engine mounts as per the updated alignment templates.
- **Conduct Vibration Analysis**: Perform a detailed vibration analysis immediately after the realignment.
- **Document Findings**: Ensure all results and corrective actions are documented in the quality management system for future reference.
- **Implement Monitoring**: Establish a monitoring system to continuously track vibration levels and structural integrity.

This comprehensive validation and action plan will ensure the aircraft's safety, reliability, and compliance with industry standards.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-03-18T15:45:00.000Z",role:"Quality Manager",name:"Luc Bergeron",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Non-conformité** : Vibrations excessives dues à un mauvais alignement des supports moteur.
- **Cause primaire** : Erreur d'installation interne, mauvaise interprétation des gabarits d'alignement.
- **Causes externes** : Aucune défaillance fournisseur identifiée.

#### Impact et Risques
- **Impact immédiat** : Stress excessif sur les supports moteur, risque de fatigue structurelle.
- **Conséquences** : Affecte le confort des passagers et la sécurité à long terme.
- **Coût** : Correction estimée à $15,000, avec un temps d'arrêt de 8 heures.

#### Plan d'Action
1. **Réalignement immédiat** : Corriger l'alignement des supports moteur selon les nouveaux gabarits.
2. **Analyse de vibration post-réalignement** : Vérifier la stabilité et éliminer les vibrations excessives.
3. **Mise à jour des gabarits** : Réviser et clarifier les gabarits d'alignement pour éviter les erreurs futures.
4. **Documentation** : Enregistrer toutes les actions correctives dans le système de gestion de la qualité.
5. **Surveillance continue** : Mettre en place un protocole de suivi des vibrations et de l'intégrité structurelle.

#### Synthèse
La mise en œuvre rapide du plan d'action est essentielle pour garantir la navigabilité et la sécurité de l'A220. La documentation complète et la surveillance continue permettront de prévenir de futures occurrences, optimisant ainsi les coûts et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 56",nc_label:"Internal structural cracking detected",nc_scenario_id:"ATA-56-69d841016fe36813",nc_event_seed:35270,nc_event_date:"2020-12-15 05:50:57.471000+00:00",nc_event_id:"ATA-56-69d841016fe36813-68b3",analysis_history:{"000":[{date:"2020-12-15T05:50:57.471Z",role:"Quality Controler",observation:"Regular maintenance checks employing infrared thermography",name:"Léa Tremblay",description:`Observation of non-conformity related to the A220 structure:
- Infrared thermography checks indicate potential internal structural issues.
- Specific attention required for part number STR-A220, serial STRUCT734950 from Structural Co.
- Initial findings suggest high surface concentrations at joint interfaces.
- Further investigation needed to assess extent of cracking and structural integrity.`,style:"concise and precise",label:"Internal Structural Cracking Detected"}],100:[{date:"2020-12-15T06:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the report submitted by Quality Controller Léa Tremblay, it is evident that the detection of internal structural cracking within the A220 structure warrants a thorough investigation. The primary cause identified is the unexpected high surface concentrations at joint interfaces, which have led to an unforeseen stress distribution. This situation necessitates a detailed examination of the affected part, specifically part number STR-A220, serial STRUCT734950 from Structural Co. 

To proceed effectively, I recommend the following actions:
1. Conduct a comprehensive structural analysis to quantify the extent of the cracking and its implications on the overall structural integrity.
2. Collaborate with the Stress Office to evaluate the stress distribution at the joint interfaces and identify potential redesign solutions.
3. Engage with the Quality Control team for additional data on the frequency and severity of the cracks observed during routine checks.
4. Prepare a preliminary report summarizing findings and recommendations for mitigation strategies.`,style:"verbose",label:"Initial Analysis of Internal Structural Cracking"},{date:"2020-12-15T09:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`In response to the request from Marc Gagnon in the Design Office, I have compiled additional data regarding the occurrences of cracks detected during routine maintenance checks. The data indicates that approximately 0.8% of the fleet has shown signs of internal structural cracking, primarily concentrated in the A220 models. 

This information should assist in understanding the prevalence of the issue and aid in the analysis of potential design modifications. I will continue to monitor the situation and provide updates as necessary.`,style:"verbose",label:"Provide Additional Data on Crack Occurrences"},{date:"2020-12-15T10:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`After reviewing the additional data provided by Quality Controller Léa Tremblay, it is clear that the internal structural cracking is not an isolated incident but rather a systemic issue affecting a small percentage of the fleet. This reinforces the need for a detailed structural analysis and a potential redesign of the joint interfaces.

Next steps include:
1. Initiate a collaboration with the Stress Office to conduct a finite element analysis (FEA) to better understand the stress distribution at the joint interfaces.
2. Develop potential redesign concepts that could alleviate the high surface concentrations observed.
3. Prepare a draft plan of action outlining the necessary steps for component replacement and stress redistribution techniques.`,style:"verbose",label:"Review Additional Data and Refine Analysis"},{date:"2020-12-15T12:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:`As requested by Marc Gagnon, I have reviewed the electrical implications of the potential redesigns for the A220 structure. It is crucial to ensure that any modifications do not adversely affect the electrical systems integrated within the structural components. 

Recommendations include:
1. Assess the current electrical routing in relation to the joint interfaces to identify any potential conflicts with redesign proposals.
2. Ensure that any new materials or components introduced in the redesign are compatible with existing electrical systems.
3. Prepare a report summarizing findings and recommendations for electrical considerations in the redesign process.`,style:"verbose",label:"Consult on Electrical Considerations for Redesign"},{date:"2020-12-15T14:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Following consultations with the Quality Control team and the Design Office Expert Elec, I have consolidated the findings regarding the internal structural cracking issue. The analysis indicates that the unexpected stress distribution at joint interfaces is a critical concern that requires immediate attention. 

The finalized action plan includes:
1. Conduct a finite element analysis (FEA) to quantify stress distribution and identify redesign opportunities.
2. Implement stress redistribution techniques and component replacements to restore intended structural performance.
3. Schedule follow-up inspections to monitor the effectiveness of the implemented solutions.
4. Document all findings and recommendations for future reference and compliance.`,style:"verbose",label:"Consolidate Findings and Finalize Action Plan"}],200:[{date:"2020-12-16T10:30:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`Analysis confirms internal structural cracking in A220. High surface concentrations at joint interfaces identified as primary cause. 

Action plan includes:
1. Conduct finite element analysis (FEA) to assess stress distribution.
2. Collaborate with Stress Office for redesign solutions.
3. Monitor crack occurrences and implement stress redistribution techniques.
4. Schedule follow-up inspections to evaluate effectiveness.

Recommendation: Proceed with analysis and redesign. Ensure compliance with safety standards and maintain structural integrity.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2020-12-16T12:00:00.000Z",role:"Stress Office",name:"Julien Boucher",description:`Conducted initial stress analysis on A220 structure (part STR-A220, serial STRUCT734950). 

**Findings:**
- Internal cracking primarily due to unexpected high surface stress concentrations at joint interfaces.
- Stress redistribution required to mitigate risks.

**Action Required:**
- Request additional data on crack severity and frequency from Quality Control for comprehensive analysis.`,style:"concise and precise",label:"Initial Stress Analysis and Request for Data"},{date:"2020-12-16T14:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Compiled detailed data on crack occurrences and severity from routine checks. 

**Summary:**
- Approximately 0.8% of the fleet shows internal structural cracking.
- Severity ranges from minor surface cracks to critical junction failures.

This data should assist in refining the stress analysis.`,style:"verbose",label:"Provide Detailed Crack Data"},{date:"2020-12-17T09:00:00.000Z",role:"Stress Office",name:"Julien Boucher",description:`Refined stress analysis completed based on additional data. 

**Results:**
- Confirmed stress concentrations exceed design limits at joint interfaces.
- Potential for catastrophic failure if not addressed.

**Recommendations:**
1. Immediate implementation of stress redistribution techniques.
2. Replace affected components to restore structural integrity.
3. Schedule follow-up inspections bi-weekly for the next three months to monitor effectiveness.
4. Document all findings for compliance and future reference.`,style:"concise and precise",label:"Refined Stress Analysis and Recommendations"},{date:"2020-12-18T10:30:00.000Z",role:"Stress Office Manager",name:"Émilie Roy",description:`Final review of stress analysis and recommendations completed. 

**Conclusion:**
- Recommendations align with safety and structural integrity standards.
- Approval to proceed with implementation of stress redistribution techniques and component replacements.`,style:"concise and precise",label:"Final Review and Approval of Recommendations"}],400:[{date:"2020-12-19T12:30:00.000Z",role:"Stress Manager",name:"Julien Fortin",description:`After reviewing the refined stress analysis, it is confirmed that internal structural cracking in the A220 (part STR-A220, serial STRUCT734950) is critical. The stress concentrations at joint interfaces exceed design limits, posing a risk of catastrophic failure.

**Action Plan:**
1. Implement stress redistribution techniques immediately to mitigate risks.
2. Replace affected components to restore structural integrity.
3. Schedule bi-weekly follow-up inspections for three months to monitor effectiveness.
4. Document all findings for compliance and future reference.

**Recommendation:** Proceed with the outlined actions to ensure safety and maintain structural performance.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2020-12-20T15:45:00.000Z",role:"Quality Manager",name:"Jean-François Bouchard",description:`### Analyse Finale

La non-conformité détectée dans la structure de l'A220, spécifiquement au niveau des interfaces de joints, est attribuée à des concentrations de contraintes inattendues dépassant les limites de conception. Ces concentrations sont principalement dues à des erreurs internes de conception initiale, mais peuvent être exacerbées par des défauts de matériaux fournis.

### Causes
- **Internes** : Erreur de conception initiale non prenant en compte la distribution réelle des contraintes.
- **Externes** : Défauts potentiels dans les matériaux fournis par Structural Co.

### Impact
- **Navigabilité** : Risque de défaillance structurelle compromettant la sécurité en vol.
- **Coûts** : Réparations et remplacements de pièces estimés à plus de 75 000 $, avec des temps d'arrêt significatifs.

### Plan d'Action
1. **Redistribution des Contraintes** : Mise en œuvre immédiate des techniques de redistribution des contraintes pour atténuer les risques.
2. **Remplacement des Composants** : Remplacement des composants affectés pour restaurer l'intégrité structurelle.
3. **Inspections de Suivi** : Planification d'inspections bi-hebdomadaires pendant trois mois pour évaluer l'efficacité des solutions mises en œuvre.
4. **Documentation** : Enregistrement de toutes les constatations pour assurer la conformité et servir de référence future.

### Recommandation Finale
Procéder avec le plan d'action proposé pour garantir la sécurité et maintenir la performance structurelle. Assurer une communication continue avec les fournisseurs pour vérifier la qualité des matériaux et éviter de futurs défauts. Optimiser les processus de détection pour réduire les délais de production et minimiser les coûts associés.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 75",nc_label:"Excessive engine vibration",nc_scenario_id:"ATA-75-54469b7bd3c0a74",nc_event_seed:27588,nc_event_date:"2021-10-31 07:50:57.701000+00:00",nc_event_id:"ATA-75-54469b7bd3c0a74-129c",analysis_history:{"000":[{date:"2021-10-31T07:50:57.701Z",role:"Quality Controler",observation:"Vibration inspection revealing imbalance",name:"Julien Tremblay",description:`This report pertains to the observation of excessive engine vibration identified during a recent vibration inspection. The inspection revealed an imbalance in the fan blades, which is suspected to be a direct result of manufacturing tolerances that were not adequately met during the assembly process specific to the A220 engine. 

The affected component is identified as follows: 
- Part Number: FAN-BLADE-75-22 
- Serial Number: SN-15317 
- Supplier: XYZ Aerodynamics 

It is crucial to note that the observed imbalance may lead to significant operational issues, including increased maintenance frequency and potential structural fatigue in the engine and its connected components. Immediate attention to this matter is recommended to mitigate further complications.`,style:"verbose",label:"Engine Vibration Imbalance Report"}],100:[{date:"2021-10-31T08:30:57.701Z",role:"Design Office",name:"Marc Dupuis",description:"Review report from Quality Controler. Focus on imbalance in fan blades. Check manufacturing tolerances. Need to understand assembly process. Possible root cause is not meeting specs. Will analyze vibration data. Need to assess impact on engine performance.",style:"not fully fluent",label:"Initial Analysis of Vibration Issue"},{date:"2021-10-31T09:00:57.701Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Need detailed vibration data from inspection. Important for analysis. Request data on frequency and amplitude of vibrations. Also, need history of maintenance for affected engine.",style:"not fully fluent",label:"Request for Vibration Data"},{date:"2021-10-31T10:00:57.701Z",role:"Quality Controler",name:"Julien Tremblay",description:"Received request from Design Office. Will gather vibration data. Include frequency and amplitude. Also check maintenance records for engine SN-15317. Will send data ASAP.",style:"not fully fluent",label:"Provide Vibration Data"},{date:"2021-10-31T12:00:57.701Z",role:"Design Office",name:"Marc Dupuis",description:"Received vibration data. Analysis shows high amplitude at specific frequencies. Recommend rebalancing fan blades. This should reduce vibrations. Suggest monitoring vibration post-repair. Will extend engine lifespan and reduce maintenance costs.",style:"not fully fluent",label:"Data Analysis and Recommendations"},{date:"2021-10-31T14:00:57.701Z",role:"Design Office Expert Hydro",name:"Lucie Boucher",description:"Check potential impact of vibrations on connected components. Need to assess structural fatigue risk. Will analyze materials and design of components. Important for long-term reliability.",style:"not fully fluent",label:"Review Impact on Engine Components"},{date:"2021-10-31T16:00:57.701Z",role:"Design Office",name:"Marc Dupuis",description:"Consolidated findings from analysis. Recommend immediate rebalancing of fan blades. Monitor vibrations after repair. Suggest regular inspections for affected engines. Document all findings and actions taken.",style:"not fully fluent",label:"Final Recommendations and Action Plan"}],200:[{date:"2021-10-31T18:30:57.701Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
- Excessive engine vibration identified due to fan blade imbalance.
- Root cause linked to manufacturing tolerances not met during assembly.

### Action Plan
- Immediate rebalancing of fan blades recommended.
- Post-repair monitoring of vibrations essential.
- Regular inspections for affected engines to ensure compliance.

### Final Recommendation
- Proceed with rebalancing to mitigate vibration issues.
- Document all findings and corrective actions taken.
- Ensure communication with maintenance teams for ongoing monitoring.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-10-31T19:30:57.701Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Stress Analysis Results
- Conducted stress calculations on A220 engine structure.
- Focus on fan blade imbalance impact.
- Vibration data indicates potential structural fatigue.

### Findings
- Imbalance leads to increased stress on engine mounts.
- Risk of premature wear on connected components.

### Recommendations
- Immediate rebalancing of fan blades is necessary.
- Monitor stress levels post-repair.
- Regular inspections to ensure structural integrity.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2021-10-31T20:00:57.701Z",role:"Stress Office Expert",name:"Émilie Lefebvre",description:"Need more data on material properties of fan blades and connected components. Important for accurate stress calculations.",style:"not fully fluent",label:"Request for Additional Data"},{date:"2021-10-31T21:00:57.701Z",role:"Quality Controller",name:"Julien Tremblay",description:"Gathering material properties for fan blades and components. Will send data ASAP.",style:"not fully fluent",label:"Provide Material Properties"},{date:"2021-11-01T09:00:57.701Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Final Analysis Results
- Received material properties data.
- Re-evaluated stress impact with updated information.

### Consolidated Findings
- Rebalancing fan blades significantly reduces stress on engine mounts.
- Long-term monitoring essential to prevent future issues.

### Final Recommendations
- Proceed with rebalancing immediately.
- Implement a monitoring plan for vibrations and stress levels.
- Schedule regular inspections to ensure compliance and safety.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-11-02T10:15:57.701Z",role:"Stress Manager",name:"Émile Gagnon",description:`### Analysis Summary
- Reviewed stress calculations related to fan blade imbalance.
- Confirmed findings from Stress Office regarding increased stress on engine mounts.

### Impact Assessment
- Continuous vibration leads to structural fatigue risk.
- Immediate action required to mitigate potential failures.

### Final Recommendations
- Proceed with immediate rebalancing of fan blades.
- Implement vibration and stress monitoring plan post-repair.
- Schedule regular inspections to ensure long-term reliability and safety.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-03T14:45:57.701Z",role:"Quality Manager",name:"Louis Beaulieu",description:`### Analyse Finale

#### Contexte
- **Non-conformité**: Vibration excessive du moteur A220.
- **Cause primaire**: Déséquilibre des pales du ventilateur dû à des tolérances de fabrication non respectées.
- **Impact**: Risque de fatigue structurelle, augmentation des coûts de maintenance.

#### Causes
- **Internes**: Erreur d'assemblage, calibration incorrecte.
- **Externes**: Défauts de fabrication des fournisseurs.

#### Recommandations
- **Action immédiate**: Rééquilibrage des pales du ventilateur.
- **Suivi**: Surveillance continue des vibrations et des niveaux de stress après réparation.
- **Inspections régulières**: Pour assurer l'intégrité structurelle et la sécurité à long terme.

### Plan d'Action
1. **Rééquilibrage**: Mise en œuvre immédiate pour réduire les vibrations.
2. **Surveillance post-réparation**: Établir un plan de suivi des vibrations et des stress.
3. **Inspections programmées**: Planification d'inspections régulières pour garantir la conformité.

### Synthèse
- **Navigabilité**: Priorité à la sécurité et à la fiabilité des moteurs.
- **Réduction des coûts**: Minimiser les coûts de maintenance supplémentaires.
- **Efficacité temporelle**: Optimiser les processus d'analyse et de détection pour réduire les délais.

### Conclusion
La mise en œuvre rapide des actions recommandées est essentielle pour garantir la sécurité et la fiabilité des moteurs A220, tout en minimisant les impacts financiers et opérationnels.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 56",nc_label:"Paint and primer adhesion failure",nc_scenario_id:"ATA-56-722b6e0c88db2154",nc_event_seed:23707,nc_event_date:"2022-04-11 00:50:57.452000+00:00",nc_event_id:"ATA-56-722b6e0c88db2154-4886",analysis_history:{"000":[{date:"2022-04-11T00:50:57.452Z",role:"Quality Controler",observation:"Visual inspection reveals peeling or blistering paint",name:"Julien Tremblay",description:"During the visual inspection, peeling and blistering of the paint was observed on the aircraft component. The affected part is identified as FHS-1200 with serial number PAINT544523 from supplier Paint Solutions Ltd. Immediate attention is required to assess the extent of the issue and potential impact on the aircraft's performance.",style:"elusive",label:"Paint Adhesion Issue Detected"}],100:[{date:"2022-04-11T08:30:00.000Z",role:"Design Office",name:"Marc Dupuis",description:`Conducted a detailed analysis of the paint adhesion failure reported on component FHS-1200. 

- **Root Cause**: Inadequate surface preparation leading to poor adhesion of paint and primer layers. 
- **Impact Assessment**: Loss of corrosion protection and compromised aesthetics noted. 
- **Quantitative Impact**: Estimated repair and repaint costs of $25,000 per aircraft; potential delays of 3 days. 

**Recommendations**: 
1. Immediate re-evaluation of surface preparation protocols. 
2. Implementation of a revised cleaning procedure prior to painting. 
3. Conduct training sessions for personnel involved in surface preparation. 
4. Schedule follow-up inspections to monitor adherence post-repair.`,style:"concise and precise",label:"Initial Analysis of Paint Adhesion Issue"}],200:[{date:"2022-04-12T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`**Analysis Summary**: 
- Root cause confirmed: Inadequate surface preparation leading to paint adhesion failure on FHS-1200. 
- Internal factors: Lack of adherence to surface preparation protocols. 
- External factors: Humid climate conditions exacerbating adhesion issues. 

**Action Plan**: 
1. Revise surface preparation protocols to ensure compliance. 
2. Implement enhanced cleaning procedures prior to painting. 
3. Conduct training for personnel on updated protocols. 
4. Schedule follow-up inspections to ensure adherence post-repair. 

**Final Recommendation**: 
Proceed with the proposed action plan to mitigate risks associated with paint adhesion failure. Monitor implementation closely to prevent recurrence.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-04-12T12:30:00.000Z",role:"Stress Office",name:"Émile Boucher",description:`**Stress Analysis Overview**: 

Following the detailed analysis of the paint adhesion failure on the aircraft component FHS-1200, a comprehensive stress evaluation was conducted to ascertain the implications of the observed peeling and blistering paint on the structural integrity of the A220. The analysis was performed using advanced modeling techniques in MATLAB to simulate the stress distribution across the affected area under various operational conditions.

### Key Findings:
1. **Structural Integrity**: The peeling paint has not yet compromised the structural integrity of the component; however, continued exposure to humid conditions may exacerbate the issue, potentially leading to corrosion that could affect the underlying material properties over time.
2. **Stress Distribution**: The stress distribution analysis indicates that localized areas beneath the paint exhibit higher stress concentrations, which could lead to fatigue if not addressed promptly.
3. **Impact of Humidity**: External environmental factors, particularly humidity, have been identified as significant contributors to the adhesion failure, impacting the paint's protective capabilities.

### Recommendations:
1. **Immediate Remediation**: It is imperative to initiate a reapplication of the paint with a focus on enhanced surface preparation protocols to mitigate the risk of future adhesion failures. This should include:
 - **Revised Cleaning Procedures**: Implementation of a more rigorous cleaning protocol prior to painting to ensure optimal adhesion.
 - **Training for Personnel**: Conduct training sessions for all personnel involved in surface preparation to reinforce the importance of adhering to updated protocols.
2. **Follow-Up Inspections**: Schedule regular follow-up inspections post-repair to monitor the effectiveness of the new surface preparation methods and paint application.
3. **Long-Term Monitoring**: Establish a long-term monitoring plan to assess the performance of the paint under varying environmental conditions, particularly in humid climates, to prevent recurrence of similar issues.

### Next Steps:
- **Request for Additional Data**: To further refine our analysis, I would like to request additional data regarding the specific environmental conditions experienced by the aircraft during its operational history, as well as any previous maintenance records related to surface preparation and painting.`,style:"verbose",label:"Initial Stress Analysis of Paint Adhesion Issue"}],400:[{date:"2022-04-13T09:15:00.000Z",role:"Stress Manager",name:"Mathieu Lefebvre",description:`**Stress Manager Analysis Overview**:

Following the stress calculations and impact analysis conducted on the paint adhesion failure for component FHS-1200, the following conclusions and recommendations are presented:

1. **Validation of Stress Analysis**: The stress evaluation confirms that while the structural integrity remains intact, the observed paint peeling poses a risk of future corrosion if not addressed. The localized stress concentrations identified require immediate action to prevent fatigue over time.

2. **Impact of Humidity**: The correlation between humidity and adhesion failure has been substantiated. This necessitates a robust approach to surface preparation and painting processes to mitigate future risks.

3. **Action Plan Consistency**: The proposed action plan from the Design Office is validated and requires the following enhancements:
 - **Revised Cleaning Protocols**: Ensure that the new cleaning procedures are strictly followed to enhance adhesion.
 - **Personnel Training**: Reinforce training for all staff involved in surface preparation to ensure compliance with updated protocols.
 - **Regular Follow-Up Inspections**: Implement a schedule for inspections post-repair to monitor the effectiveness of the new procedures.

4. **Final Recommendation**: Proceed with the immediate reapplication of paint on FHS-1200, adhering to the revised protocols. Establish a long-term monitoring plan to assess performance under varying environmental conditions, particularly in humid climates, to prevent recurrence of similar issues.

**Next Steps**: Initiate the action plan and monitor its implementation closely to ensure adherence and effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-04-14T14:45:00.000Z",role:"Quality Manager",name:"Alexandre Fortin",description:`### Analyse et Recommandation Finale

**Contexte et Problématique** 
Une défaillance d'adhésion de la peinture et de l'apprêt a été identifiée sur le composant FHS-1200 de l'A220, causée par une préparation de surface inadéquate. Cette situation est exacerbée par des conditions climatiques humides, entraînant une perte de protection contre la corrosion et des impacts esthétiques.

**Causes Internes et Externes** 
- **Causes Internes** : Non-respect des protocoles de préparation de surface. 
- **Causes Externes** : Conditions climatiques humides augmentant les risques d'adhésion défaillante.

**Impact et Risques** 
- **Quantitatif** : Coûts de réparation et de repeinture estimés à 25 000 $ par appareil, avec un retard potentiel de 3 jours. 
- **Risques** : Risque accru de corrosion à long terme, compromettant la durabilité et la navigabilité.

**Plan d'Action** 
1. **Révision des Protocoles** : Mettre à jour et renforcer les procédures de préparation de surface pour garantir une adhésion optimale. 
2. **Formation du Personnel** : Organiser des sessions de formation pour le personnel impliqué dans la préparation de surface afin d'assurer la conformité aux nouveaux protocoles. 
3. **Inspections de Suivi** : Planifier des inspections régulières après réparation pour évaluer l'efficacité des nouvelles méthodes de préparation et d'application de la peinture. 
4. **Surveillance à Long Terme** : Établir un plan de surveillance à long terme pour évaluer la performance de la peinture dans différentes conditions environnementales, en particulier en climat humide.

**Recommandation Finale** 
Procéder immédiatement à la réapplication de la peinture sur le composant FHS-1200 en suivant les protocoles révisés. Surveiller de près la mise en œuvre du plan d'action pour éviter toute récurrence du problème. Assurer une réduction des coûts et des délais en optimisant les étapes d'analyse et en utilisant des moyens de détection rapide. Cette approche garantit la navigabilité, la fiabilité et la conformité des produits de l'A220.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 73",nc_label:"Fuel injector clogging",nc_scenario_id:"ATA-72-82e7e0c47456f8b7",nc_event_seed:18620,nc_event_date:"2022-11-08 23:50:58.120000+00:00",nc_event_id:"ATA-72-82e7e0c47456f8b7-8a6b",analysis_history:{"000":[{date:"2022-11-08T23:50:58.120Z",role:"Quality Controler",observation:"Performance tests showing reduced engine efficiency",name:"Julien Tremblay",description:"Performance tests indicate reduced engine efficiency in A220 aircraft. Specific issues noted with fuel injectors from part number FJ72-73-220, serial SN-478863, supplied by Global Fuel Systems Inc. Immediate attention required to investigate fuel flow consistency and injector cleanliness.",style:"concise and precise",label:"Engine Efficiency Reduction Due to Fuel Injector Issues"}],100:[{date:"2022-11-09T09:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the report from Quality Control regarding the fuel injector clogging issue, it is evident that the primary cause stems from impurities introduced during the manufacturing process. The harnesses leading to the injectors have not undergone adequate cleaning procedures, which has allowed contaminants to accumulate. This situation is exacerbated by the absence of routine inspections during the assembly phase. 

To address this issue, I recommend implementing a thorough cleaning protocol for all fuel injectors in the production line. Additionally, a schedule for regular inspections should be established to ensure that cleanliness standards are consistently met. This will help mitigate the risk of future occurrences of similar non-conformities. Further analysis will be required to assess the full impact on engine performance and reliability.`,style:"verbose",label:"Initial Analysis of Fuel Injector Non-Conformity"},{date:"2022-11-09T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:`In light of the findings regarding the fuel injectors, it is crucial to conduct a detailed review of the electrical systems associated with the fuel delivery and injector operation. This review will help identify any potential electrical issues that may contribute to the performance reduction observed. 

I will need to assess the wiring integrity and any possible interference that could exacerbate the clogging issue. Please provide any relevant documentation regarding the electrical schematics and previous inspection reports.`,style:"verbose",label:"Request for Electrical System Review"},{date:"2022-11-09T14:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`In response to the request for a review of the electrical systems, I have gathered the relevant documentation regarding the electrical schematics and previous inspection reports. 

The documents indicate that while the electrical systems have generally met standards, there were some noted inconsistencies in the wiring integrity during past inspections. I recommend that the Design Office Expert Elec conduct a thorough analysis of these documents to ensure that all potential electrical issues are addressed in conjunction with the fuel injector cleaning protocols.`,style:"verbose",label:"Response to Electrical System Review Request"},{date:"2022-11-10T10:45:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Based on the analyses conducted thus far, the following consolidated action plan is proposed to address the fuel injector clogging issue: 
1. Implement a comprehensive cleaning protocol for all fuel injectors to ensure adherence to cleanliness standards. 
2. Establish a routine inspection schedule to monitor the cleanliness and functionality of the injectors throughout the assembly process. 
3. Conduct a detailed review of the electrical systems associated with the fuel injectors, focusing on wiring integrity and potential interference. 
4. Collaborate with the Quality Control team to ensure that all findings and recommendations are documented and communicated effectively. 

This plan aims to restore engine efficiency and reliability while preventing future occurrences of similar non-conformities.`,style:"verbose",label:"Consolidated Action Plan for Fuel Injector Issue"}],200:[{date:"2022-11-11T12:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`Analysis indicates fuel injector clogging due to impurities from manufacturing. Cleaning protocols inadequate, inspections lacking. 

Action plan: 
1. Implement thorough cleaning for all fuel injectors. 
2. Establish routine inspections during assembly. 
3. Review electrical systems for wiring integrity. 
4. Ensure documentation and communication with Quality Control. 

Recommendation: Proceed with action plan to restore engine efficiency and reliability. Monitor for future non-conformities.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-11-12T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:"Conducted initial stress calculations on the fuel injector assembly. Findings indicate that impurities in the injectors can lead to localized stress concentrations, potentially compromising structural integrity. Further analysis required to assess the impact on overall engine performance.",style:"concise and precise",label:"Initial Stress Analysis"},{date:"2022-11-12T10:30:00.000Z",role:"Stress Office Expert",name:"Marie-Claude Boucher",description:"Requesting detailed specifications of the fuel injector design and material properties. This information is crucial for accurate stress modeling and to evaluate potential impacts on structural integrity.",style:"concise and precise",label:"Request for Additional Data"},{date:"2022-11-12T12:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Provided detailed specifications and material properties of the fuel injectors. Included previous inspection reports and cleaning protocols. This data should assist in refining the stress analysis.",style:"verbose",label:"Response to Data Request"},{date:"2022-11-12T14:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`Revised stress calculations incorporating the provided data. Results indicate that while the injectors meet basic structural requirements, the presence of impurities could lead to premature failure under operational stress. Recommendations include:

1. Implement enhanced cleaning protocols to eliminate impurities.
2. Conduct routine inspections focusing on injector cleanliness.
3. Monitor performance metrics post-implementation to ensure compliance with safety standards.`,style:"concise and precise",label:"Revised Stress Analysis"},{date:"2022-11-12T16:00:00.000Z",role:"Stress Manager",name:"Émilie Fortin",description:"Reviewed and approved the revised stress analysis recommendations. Emphasized the importance of immediate implementation of cleaning protocols and inspections to mitigate risks associated with fuel injector clogging. Ensure all findings are communicated to the Quality Control team for tracking.",style:"concise and precise",label:"Approval of Stress Analysis Recommendations"}],400:[{date:"2022-11-14T09:30:00.000Z",role:"Stress Manager",name:"Émile Lavoie",description:`Following the stress analysis conducted on the fuel injectors, the findings confirm that impurities can lead to localized stress concentrations, risking structural integrity. 

**Action Plan:** 
1. Immediate implementation of enhanced cleaning protocols for all fuel injectors to eliminate contaminants. 
2. Establish routine inspections during assembly to ensure compliance with cleanliness standards. 
3. Monitor performance metrics post-implementation to verify that engine efficiency and reliability are restored. 

**Recommendation:** 
Proceed with the outlined action plan to mitigate risks associated with fuel injector clogging. Continuous monitoring and documentation of findings are essential to prevent future non-conformities.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-11-15T11:45:00.000Z",role:"Quality Manager",name:"Jean-François Leblanc",description:`### Analyse Finale

L'analyse des non-conformités des injecteurs de carburant de l'A220 révèle que les obstructions sont principalement dues à des impuretés introduites lors de la fabrication. Les causes internes incluent des procédures de nettoyage inadéquates et un manque d'inspections régulières pendant l'assemblage. Les causes externes peuvent être attribuées à des défauts de matériaux fournis par Global Fuel Systems Inc.

### Plan d'Action

1. **Nettoyage Amélioré**: Mettre en œuvre immédiatement des protocoles de nettoyage renforcés pour tous les injecteurs de carburant afin de garantir l'élimination des contaminants.
2. **Inspections Routinières**: Établir un calendrier d'inspections systématiques pendant l'assemblage pour vérifier la conformité aux normes de propreté.
3. **Revue des Systèmes Électriques**: Effectuer une analyse détaillée des systèmes électriques associés aux injecteurs pour identifier et corriger toute interférence potentielle.
4. **Documentation et Communication**: Assurer une communication efficace avec l'équipe de contrôle qualité pour le suivi des mesures correctives et la documentation des résultats.

### Recommandation Finale

Il est recommandé de procéder avec le plan d'action proposé pour restaurer l'efficacité et la fiabilité du moteur. La surveillance continue des métriques de performance post-implémentation est essentielle pour garantir la conformité aux normes de sécurité et prévenir de futures non-conformités. Cette approche garantit la navigabilité et réduit les coûts liés aux temps d'arrêt et aux remplacements potentiels.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 71",nc_label:"Oil leakage in engine casing",nc_scenario_id:"ATA-71-1fa06cad31d21876",nc_event_seed:26518,nc_event_date:"2021-12-14 21:50:57.312000+00:00",nc_event_id:"ATA-71-1fa06cad31d21876-aeb4",analysis_history:{"000":[{date:"2021-12-14T21:50:57.312Z",role:"Quality Controler",observation:"Visual inspection revealing oil traces",name:"Julien Tremblay",description:"During a routine visual inspection of the A220 aircraft, it was observed that there are noticeable traces of oil present in the engine casing area. This observation raises concerns regarding the integrity of the engine oil seals, specifically the blades of the oil seal which may be compromised. The presence of oil traces suggests a potential leakage that could lead to further complications if not addressed promptly. The specific part in question, identified by part number 89955-123 and serial number SN634329382, is supplied by SealCorp. Immediate attention is warranted to investigate the extent of this leakage and to determine the necessary corrective actions to prevent any operational disruptions.",style:"verbose",label:"Oil Leakage Detected During Inspection"}],100:[{date:"2021-12-14T22:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Review report from Quality Controler. Oil leakage detected in engine casing. Focus on oil seal blades. Need to check if seals meet A220 power requirements. Possible manufacturer defect. Recommend further investigation.",style:"not fully fluent",label:"Initial Analysis of Oil Leakage"},{date:"2021-12-15T09:15:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Lavoie",description:"Analyze hydraulic system interaction with oil seals. Assess if leakage affects hydraulic performance. Need data on seal material properties and compatibility with engine oil.",style:"not fully fluent",label:"Hydraulic System Review"},{date:"2021-12-15T15:45:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Received input from Hydro expert. Confirmed that leakage compromises lubrication. Recommend replacing seals with updated specifications. Prepare action plan for implementation.",style:"not fully fluent",label:"Consolidation of Findings"},{date:"2021-12-16T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Review action plan proposed by Design Office. Ensure alignment with quality standards. Confirm urgency of seal replacement to prevent operational disruptions.",style:"not fully fluent",label:"Validation of Action Plan"}],200:[{date:"2021-12-17T11:30:00.000Z",role:"Design Manager",name:"Marc-Antoine Gagnon",description:"Analysis confirms oil leakage from engine seal blades. Primary cause: manufacturer's defect in seal design. Internal factors: assembly error possible. External factors: inadequate material compatibility with A220 power specs. Recommend immediate replacement of seals with updated versions. Implement monitoring for future leaks. Ensure compliance with quality standards. Prioritize operational safety and minimize maintenance disruptions.",style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-12-18T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Résultats de l'analyse de stress

- **Modélisation** : Utilisation de MATLAB pour simuler l'impact des fuites d'huile sur la structure du moteur.
- **Résultats** : Les fuites compromettent l'intégrité des joints d'étanchéité, augmentant le risque de surchauffe.
- **Causes internes** : Erreur d'assemblage possible lors de l'installation des joints.
- **Causes externes** : Défaut de fabrication des joints par SealCorp, incompatibilité des matériaux avec les spécifications de l'A220.

### Recommandations

1. **Remplacement immédiat** des joints d'étanchéité défectueux avec des spécifications mises à jour.
2. **Surveillance continue** des joints après remplacement pour détecter d'éventuelles fuites futures.
3. **Formation** des équipes d'assemblage pour éviter les erreurs lors de l'installation.
4. **Collaboration** avec SealCorp pour évaluer la qualité des matériaux utilisés.

### Plan d'action consolidé
- **Étape 1** : Remplacement des joints - Priorité haute.
- **Étape 2** : Mise en place d'un protocole de surveillance - Priorité moyenne.
- **Étape 3** : Révision des procédures d'assemblage - Priorité basse.`,style:"not fully fluent",label:"Analyse des calculs de stress"},{date:"2021-12-18T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Demande d'informations

- **Contexte** : Suite à l'analyse de stress, besoin de précisions sur les matériaux des joints d'étanchéité.
- **Questions** : 
 1. Quels matériaux spécifiques sont utilisés pour les joints d'étanchéité ?
 2. Existe-t-il des données sur la performance des joints dans des conditions similaires ?

### Objectif
- Obtenir les informations nécessaires pour évaluer les risques et ajuster le plan d'action.`,style:"not fully fluent",label:"Demande d'informations complémentaires"},{date:"2021-12-18T12:00:00.000Z",role:"Stress Office Expert",name:"Sophie Lavoie",description:`### Résultats de l'analyse des matériaux

- **Matériaux utilisés** : Joints en caoutchouc synthétique, spécifications non conformes aux exigences de l'A220.
- **Performance** : Tests montrent une dégradation rapide sous conditions de température élevées.

### Recommandations

1. **Remplacement** des joints par des matériaux conformes aux spécifications A220.
2. **Tests de validation** des nouveaux matériaux avant installation.`,style:"not fully fluent",label:"Analyse des matériaux"},{date:"2021-12-19T14:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Finalisation du plan d'action

- **Consolidation des recommandations** :
 - Remplacement immédiat des joints avec matériaux conformes.
 - Mise en place d'un protocole de tests pour les nouveaux joints.
 - Formation des équipes sur les nouvelles procédures d'assemblage.

### Conclusion
- **Urgence** : Action requise pour éviter des interruptions opérationnelles et garantir la sécurité des vols.
- **Suivi** : Prévoir une réunion de suivi dans deux semaines pour évaluer l'implémentation.`,style:"not fully fluent",label:"Finalisation du plan d'action"}],400:[{date:"2021-12-20T10:30:00.000Z",role:"Stress Manager",name:"Antoine Lefebvre",description:`### Analysis Summary

- **Context**: Oil leakage detected in engine casing of A220. Immediate action required to prevent operational disruptions.
- **Findings**: Stress analysis confirms that compromised oil seals lead to increased risk of overheating, affecting engine integrity.

### Action Plan

1. **Immediate Replacement**: Replace defective oil seals with updated specifications to ensure compliance with A220 power requirements.
2. **Material Validation**: Conduct tests on new seal materials to confirm performance under high temperature conditions.
3. **Monitoring Protocol**: Implement a continuous monitoring system post-replacement to detect any future leaks.
4. **Training**: Provide training for assembly teams to minimize installation errors.

### Conclusion
- **Urgency**: Actions are critical to avoid unscheduled maintenance and ensure flight safety.
- **Follow-up**: Schedule a review in two weeks to assess implementation progress.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-12-21T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale et Recommandation

#### Contexte
- **Incident** : Fuite d'huile détectée dans le carter moteur de l'A220.
- **Impact** : Risque de surchauffe moteur, interruptions opérationnelles potentielles.

#### Causes Identifiées
- **Internes** :
 - Erreur d'assemblage possible lors de l'installation des joints.
 - Calibration inadéquate des composants d'étanchéité.
- **Externes** :
 - Défaut de fabrication des joints par SealCorp.
 - Incompatibilité des matériaux avec les spécifications de puissance de l'A220.

#### Plan d'Action
1. **Remplacement Immédiat** :
 - Remplacer les joints défectueux par des versions conformes aux nouvelles spécifications.
2. **Validation des Matériaux** :
 - Tester les nouveaux matériaux sous conditions de température élevée pour assurer leur performance.
3. **Protocole de Surveillance** :
 - Mettre en place un système de surveillance continue pour détecter toute fuite future.
4. **Formation** :
 - Former les équipes d'assemblage pour minimiser les erreurs lors de l'installation.

#### Synthèse et Mise en Consistance
- **Urgence** : Actions critiques pour éviter des maintenances non planifiées et garantir la sécurité des vols.
- **Suivi** : Prévoir une réunion de suivi dans deux semaines pour évaluer l'avancement de l'implémentation.
- **Réduction des Coûts** : Prioriser les remplacements et formations pour minimiser les impacts financiers à long terme.
- **Efficacité Temporelle** : Optimiser les étapes d'analyse et de détection pour réduire les délais de production.

### Conclusion
Les actions recommandées sont essentielles pour maintenir la navigabilité et la fiabilité de l'A220, tout en assurant la conformité aux normes industrielles.`,style:"concise and direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 75",nc_label:"Excessive engine vibration",nc_scenario_id:"ATA-75-13172b73bd63c0a74",nc_event_seed:15363,nc_event_date:"2023-03-24 16:50:57.700000+00:00",nc_event_id:"ATA-75-13172b73bd63c0a74-0313",analysis_history:{"000":[{date:"2023-03-24T16:50:57.700Z",role:"Quality Controler",observation:"Routine maintenance checks revealing abnormal wear patterns",name:"Julien Tremblay",description:"During the routine maintenance checks conducted on the A220 aircraft, several abnormal wear patterns were observed specifically on the fan blades associated with part number FAN-BLADE-75-01 and serial number SN-51515, supplied by XYZ Aerodynamics. These wear patterns were noted to be inconsistent with expected operational wear, indicating potential underlying issues that may not be immediately apparent. The maintenance team highlighted that these irregularities could be symptomatic of a more significant problem, possibly linked to excessive engine vibration. Further investigation is warranted to ascertain the root cause of these wear patterns and to determine if they are related to the imbalance in the fan blades that has been previously identified. Immediate attention to this matter is essential to prevent further complications and to ensure the continued safe operation of the aircraft.",style:"verbose",label:"Abnormal Wear Patterns Detected During Maintenance"}],100:[{date:"2023-03-25T09:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Review report from Quality Controler. Abnormal wear patterns on FAN-BLADE-75-01. Possible link to excessive vibration. Need to check manufacturing tolerances. Suggest to gather more data on vibration levels during operation. Recommend further investigation.",style:"not fully fluent",label:"Initial Analysis of Abnormal Wear Patterns"},{date:"2023-03-25T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:"Request data on vibration levels for A220 engines. Important to understand if vibration correlates with wear patterns. Need historical data for comparison. This will help in analysis.",style:"not fully fluent",label:"Request for Vibration Data"},{date:"2023-03-26T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Provide vibration data for A220 engines. Data includes historical records and recent measurements. This will assist Design Office in analysis of wear patterns.",style:"not fully fluent",label:"Provide Vibration Data"},{date:"2023-03-27T14:45:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Received vibration data. Analysis shows correlation with abnormal wear. Vibration levels above acceptable limits. Recommend rebalancing fan blades. This will reduce vibration and extend engine life.",style:"not fully fluent",label:"Analysis of Vibration Data"},{date:"2023-03-28T16:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:"Final recommendation to rebalance fan blades on affected engines. Implement maintenance procedure to monitor vibration. This will mitigate risks of structural fatigue and premature wear.",style:"not fully fluent",label:"Final Recommendation"}],200:[{date:"2023-03-29T10:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`### Analysis Summary
The Design Office has identified abnormal wear patterns on the fan blades of the A220, specifically part number FAN-BLADE-75-01, serial number SN-51515. The investigation linked these patterns to excessive engine vibration, attributed to an imbalance in the fan blades due to manufacturing tolerances not being met.

### Action Plan
1. **Rebalance Fan Blades**: Immediate action to rebalance the affected fan blades to mitigate vibration levels.
2. **Monitor Vibration**: Implement a maintenance procedure to continuously monitor vibration levels on affected engines.
3. **Data Collection**: Gather ongoing data on vibration and wear patterns to inform future analyses.

### Final Recommendation
Proceed with the rebalancing of fan blades on the identified engines. This action is crucial to prevent structural fatigue and premature wear, ensuring the continued safety and reliability of the A220 fleet.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-03-30T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Stress Analysis Summary
Conducted stress calculations on the fan blades of A220, part number FAN-BLADE-75-01. Focus on vibration impact due to imbalance. 

### Findings
- **Vibration Levels**: Exceeding acceptable limits. 
- **Structural Integrity**: Initial calculations show potential fatigue risk. 
- **Manufacturing Tolerances**: Not met, leading to imbalance.

### Recommendations
1. **Immediate Rebalance**: Critical to rebalance fan blades to reduce vibration.
2. **Monitoring Plan**: Implement ongoing vibration monitoring to detect future issues.
3. **Further Analysis**: Need more data on stress distribution post-rebalance.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2023-03-30T11:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requesting additional data on manufacturing tolerances and assembly processes for FAN-BLADE-75-01. This information is crucial to understand the root cause of the imbalance and its impact on vibration levels.",style:"not fully fluent",label:"Provide Additional Data"},{date:"2023-03-31T10:30:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Follow-up Stress Analysis
Received additional data on manufacturing tolerances. 

### Updated Findings
- **Tolerance Issues**: Confirmed deviations in manufacturing processes. 
- **Impact on Vibration**: Correlates with observed abnormal wear patterns. 

### Revised Recommendations
1. **Rebalance Fan Blades**: Proceed with rebalancing as planned. 
2. **Supplier Review**: Engage with XYZ Aerodynamics to address manufacturing issues. 
3. **Long-term Monitoring**: Establish a long-term monitoring strategy for vibration and wear.`,style:"not fully fluent",label:"Follow-up Analysis"},{date:"2023-04-01T14:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`### Final Recommendations
After comprehensive stress analysis, the following actions are crucial:

1. **Rebalance Fan Blades**: Immediate action required to mitigate vibration and prevent structural fatigue.
2. **Supplier Collaboration**: Work closely with XYZ Aerodynamics to rectify manufacturing tolerances.
3. **Monitoring Protocol**: Implement a robust monitoring protocol for vibration and wear on affected engines.

### Conclusion
These steps are essential to ensure the safety and reliability of the A220 fleet, preventing costly maintenance and operational disruptions.`,style:"not fully fluent",label:"Final Recommendations"}],400:[{date:"2023-04-02T10:15:00.000Z",role:"Stress Manager",name:"Émile Fournier",description:`### Stress Analysis Validation
After thorough review of the stress calculations and impact analysis conducted by the Stress Office, the following conclusions and recommendations are made:

### Findings
- **Vibration Levels**: Confirmed to be above acceptable limits, leading to potential structural fatigue.
- **Manufacturing Tolerances**: Deviations have been validated, contributing to the imbalance in fan blades.

### Action Plan
1. **Rebalance Fan Blades**: Immediate action to rebalance the affected fan blades is crucial to mitigate vibration and prevent further structural issues.
2. **Supplier Engagement**: Collaborate with XYZ Aerodynamics to address and rectify manufacturing tolerance issues.
3. **Monitoring Strategy**: Implement a robust monitoring protocol for vibration and wear on affected engines to ensure ongoing safety and reliability.

### Conclusion
These actions are vital to maintain the integrity of the A220 fleet and to avoid costly maintenance and operational disruptions. Immediate implementation is recommended.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-04-03T15:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte et Problématique
Des vibrations excessives ont été détectées sur les moteurs A220, causées par un déséquilibre des pales de ventilateur, en raison de tolérances de fabrication non respectées. Cela entraîne une usure anormale et un risque de fatigue structurelle.

#### Causes Identifiées
- **Internes**: Calibration incorrecte lors de l'assemblage des pales de ventilateur.
- **Externes**: Déviations dans les tolérances de fabrication par le fournisseur XYZ Aerodynamics.

#### Impact
- **Navigabilité**: Risque accru de fatigue structurelle pouvant mener à des pannes moteur imprévues.
- **Coûts**: Augmentation des coûts de maintenance, estimée à 10,000 $ par moteur annuellement.

#### Plan d'Action
1. **Rebalancement des Pales**: Procéder immédiatement au rééquilibrage des pales affectées pour réduire les vibrations.
2. **Engagement Fournisseur**: Collaborer avec XYZ Aerodynamics pour corriger les problèmes de tolérances de fabrication.
3. **Surveillance Continue**: Mettre en place un protocole de surveillance des vibrations et de l'usure pour les moteurs concernés.
4. **Collecte de Données**: Recueillir des données continues sur les vibrations et les motifs d'usure pour informer les futures analyses.

#### Recommandation Finale
La mise en œuvre immédiate de ces actions est essentielle pour garantir la sécurité et la fiabilité de la flotte A220, tout en minimisant les coûts de maintenance et les interruptions opérationnelles potentielles. Une attention particulière doit être portée à l'engagement avec le fournisseur pour rectifier les défaillances de fabrication et assurer la conformité des produits.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 54",nc_label:"Fastener fatigue failure",nc_scenario_id:"ATA-54-2fb1ebf15acb3957",nc_event_seed:11085,nc_event_date:"2023-09-18 22:50:57.577000+00:00",nc_event_id:"ATA-54-2fb1ebf15acb3957-8be9",analysis_history:{"000":[{date:"2023-09-18T22:50:57.577Z",role:"Quality Controler",observation:"Stress testing of assembled sections reveals abnormal fastener failures",name:"Julien Tremblay",description:"During stress testing of assembled sections, abnormal fastener failures were observed. Specific issues noted in part A220-20592, serial SN-75381, supplied by Precision Metals Corp. Further investigation required to assess implications on structural integrity.",style:"concise and precise",label:"Abnormal Fastener Failures Detected"}],100:[{date:"2023-09-19T09:15:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`Upon reviewing the report submitted by Quality Controler Julien Tremblay, it is imperative to conduct a thorough analysis of the abnormal fastener failures detected during stress testing of assembled sections. The focus will be on part A220-20592, serial SN-75381, supplied by Precision Metals Corp. The primary concern revolves around the improper defect in fasteners leading to premature fatigue failure under cyclic loading, attributed to a sub-standard alloy mix. 

To proceed effectively, I will require additional data regarding the specific heat treatment processes applied to the fasteners in question. This information is crucial to assess the root cause of the fatigue cracks that initiated at the atomic level. 

Furthermore, I recommend initiating a comprehensive review of the supplier's quality assurance protocols to ensure that future batches meet the required standards. A detailed report will follow once the necessary data is obtained.`,style:"verbose",label:"Initial Analysis of Abnormal Fastener Failures"},{date:"2023-09-19T11:30:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`In response to the request from Design Office analyst Mathieu Gagnon, I will compile and provide the necessary information regarding the heat treatment processes applied to the fasteners of part A220-20592, serial SN-75381. This will include documentation on the alloy mix specifications and any deviations from standard practices that may have occurred during production. 

I will ensure that this information is gathered promptly to facilitate the ongoing analysis and to mitigate any potential risks associated with the identified fastener failures.`,style:"verbose",label:"Request for Additional Information"},{date:"2023-09-20T14:45:00.000Z",role:"Design Office",name:"Mathieu Gagnon",description:`After receiving the additional information from Quality Controler Julien Tremblay regarding the heat treatment processes, it has become evident that the improper heat treatment was a significant factor contributing to the fatigue failures observed. The analysis confirms that the alloy mix used did not meet the specified standards, leading to the initiation of fatigue cracks under cyclic loading conditions. 

As a mitigation strategy, I recommend the immediate replacement of the affected fasteners with a certified batch that adheres to the required specifications. Additionally, a thorough re-evaluation of the supplier's quality assurance processes is essential to prevent recurrence of such issues. 

This action plan aims to ensure structural integrity and enhance passenger safety, thereby addressing the risks associated with potential detachment of critical structural components during flight.`,style:"verbose",label:"Analysis Completion and Action Plan Recommendation"}],200:[{date:"2023-09-21T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`### Summary of Analysis and Action Plan

The analysis of abnormal fastener failures in part A220-20592, serial SN-75381, revealed that improper heat treatment and sub-standard alloy mix were critical factors leading to premature fatigue failures. 

### Action Plan Recommendations
1. **Immediate Replacement**: Replace affected fasteners with certified components that meet specifications.
2. **Supplier Review**: Conduct a thorough review of Precision Metals Corp.'s quality assurance protocols to ensure compliance with standards.
3. **Monitoring**: Implement enhanced monitoring of fastener quality in future batches to prevent recurrence.

### Conclusion
These actions aim to mitigate risks associated with potential structural failures and enhance overall passenger safety. Further structural calculations will follow post-validation.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-09-22T10:00:00.000Z",role:"Stress Office",name:"Alexandre Bouchard",description:`### Stress Analysis Results

Following the structural calculations conducted on part A220-20592, serial SN-75381, the following findings were established:

1. **Fatigue Resistance**: The analysis confirmed that the improper heat treatment and sub-standard alloy mix significantly compromised the fatigue resistance of the fasteners under cyclic loading conditions.
2. **Impact Assessment**: Stress simulations indicated a potential increase in failure rates beyond the documented 0.2% under operational conditions, particularly in high-stress environments.
3. **Safety Implications**: The risk of critical structural component detachment remains high, necessitating immediate action.

### Recommendations
- **Immediate Replacement**: Replace all affected fasteners with certified components that meet the specified alloy and heat treatment standards.
- **Supplier Audit**: Conduct an urgent audit of Precision Metals Corp.'s manufacturing processes to identify lapses in quality control and ensure compliance with industry standards.
- **Enhanced Monitoring**: Implement a robust monitoring system for future batches to ensure that all fasteners meet the required specifications before installation.

### Conclusion
These actions are critical to maintaining structural integrity and ensuring passenger safety. Further collaboration with the Quality Controller and Design Manager may be required to finalize the implementation plan.`,style:"concise and precise",label:"Stress Analysis and Recommendations"},{date:"2023-09-22T12:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Additional Data Request

In light of the stress analysis conducted by the Stress Office, I will gather further information regarding the specific heat treatment processes and alloy specifications used in the production of the fasteners for part A220-20592, serial SN-75381. This data is essential to ensure that the replacement fasteners comply with the required standards and to prevent recurrence of the identified issues.`,style:"concise and precise",label:"Request for Additional Data"},{date:"2023-09-23T09:00:00.000Z",role:"Stress Office",name:"Alexandre Bouchard",description:`### Final Confirmation of Analysis

Upon receiving the requested data from Quality Controller Julien Tremblay, the following conclusions were drawn:

1. **Heat Treatment Verification**: The provided documentation confirmed deviations in the heat treatment processes that contributed to the fastener failures.
2. **Action Plan Validation**: The proposed action plan for immediate replacement of fasteners and supplier audit is validated and deemed necessary to mitigate risks.

### Next Steps
- Proceed with the implementation of the action plan as outlined in the previous analysis.
- Continuous monitoring and assessment of the new fasteners post-installation to ensure compliance and safety.`,style:"concise and precise",label:"Final Analysis Confirmation"}],400:[{date:"2023-09-24T11:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Summary of Stress Analysis and Action Plan Validation

Following the stress analysis conducted on part A220-20592, serial SN-75381, the findings confirm that the improper heat treatment and sub-standard alloy mix significantly compromised the structural integrity of the fasteners.

### Key Findings
1. **Fatigue Resistance**: The fasteners exhibited a potential failure rate exceeding the documented 0.2% under cyclic loading, particularly in high-stress scenarios.
2. **Safety Risks**: The risk of critical structural component detachment remains elevated, posing a serious threat to passenger safety.

### Recommended Action Plan
1. **Immediate Replacement**: Execute the replacement of all affected fasteners with certified components that adhere to the required specifications.
2. **Supplier Audit**: Conduct an urgent audit of Precision Metals Corp. to identify and rectify quality control deficiencies.
3. **Monitoring Protocols**: Implement enhanced monitoring for future fastener batches to ensure compliance with established standards.

### Conclusion
These actions are vital to maintaining structural integrity and ensuring passenger safety. Continuous assessment of the new fasteners post-installation is essential to validate compliance and performance.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-09-25T14:45:00.000Z",role:"Quality Manager",name:"Luc Desrochers",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Défauts Fournisseurs**: Les défaillances des fixations sont attribuées à un traitement thermique inadéquat et à un mélange d'alliage sous-standard fourni par Precision Metals Corp.
- **Probabilité de Défaillance**: Les simulations de stress indiquent un taux de défaillance potentiel supérieur à 0,2% dans des conditions de charge cyclique.
- **Risque de Sécurité**: Risque élevé de détachement de composants structurels critiques, compromettant la sécurité des passagers.

#### Plan d'Action
1. **Remplacement Immédiat**: Remplacer toutes les fixations défectueuses par des composants certifiés conformes aux spécifications requises.
2. **Audit du Fournisseur**: Mener un audit urgent des processus de fabrication de Precision Metals Corp. pour identifier et corriger les lacunes dans le contrôle qualité.
3. **Surveillance Améliorée**: Mettre en place un système de surveillance renforcé pour les lots futurs afin de garantir la conformité avant l'installation.

#### Synthèse et Mise en Consistance
- **Navigabilité et Fiabilité**: Ces actions sont essentielles pour maintenir l'intégrité structurelle et assurer la sécurité des passagers.
- **Réduction des Coûts**: L'identification précoce et la correction des défauts évitent des coûts de correction élevés et des retards de production.
- **Efficacité Temporelle**: Optimiser les étapes d'analyse et les moyens de détection pour réduire les délais de production.

#### Conclusion
La mise en œuvre rapide de ce plan d'action est cruciale pour garantir la conformité et la performance des fixations dans l'industrie aéronautique.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 56",nc_label:"Sub-standard fasteners used on outer skin",nc_scenario_id:"ATA-56-23f9ad150c2d6cb0",nc_event_seed:26162,nc_event_date:"2021-12-29 17:50:57.425000+00:00",nc_event_id:"ATA-56-23f9ad150c2d6cb0-a5d3",analysis_history:{"000":[{date:"2021-12-29T17:50:57.425Z",role:"Quality Controler",observation:"Quality inspection checks during maintenance revealing improper fastener condition",name:"Julien Tremblay",description:`Report regarding the observation of non-compliance, including specific observations noted during quality inspection checks. 

- Fasteners on part FHS-1200 (SN868144338) from supplier Fastener Inc. show signs of improper condition. 
- Inspection revealed irregular fastening force. 
- Immediate attention required to assess structural implications.`,style:"elusive",label:"Improper Fastener Condition Detected"}],100:[{date:"2021-12-29T18:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Review of the Quality Control report regarding improper fastener condition on part FHS-1200. 

- Fasteners from supplier Fastener Inc. do not meet tensile strength specifications. 
- Irregular fastening force indicates potential structural risks. 
- Immediate assessment required to determine extent of non-compliance.`,style:"concise and precise",label:"Initial Analysis of Non-Conformance"},{date:"2021-12-29T19:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Bouchard",description:`Requesting evaluation of any potential impact on electrical systems due to improper fasteners. 

- Need to ensure no electrical components are compromised. 
- Assessment to be completed within 24 hours.`,style:"concise and precise",label:"Request for Electrical System Impact Assessment"},{date:"2021-12-29T20:00:00.000Z",role:"Design Office Expert Hydro",name:"Louis Lefebvre",description:`Requesting evaluation of hydraulic systems related to part FHS-1200. 

- Assess if improper fasteners could affect hydraulic integrity. 
- Feedback required within 24 hours.`,style:"concise and precise",label:"Request for Hydraulic System Impact Assessment"},{date:"2021-12-30T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Providing additional information regarding the inspection findings. 

- Confirmed that no electrical or hydraulic systems were directly affected. 
- Fasteners were solely structural; focus on structural integrity is critical.`,style:"concise and precise",label:"Response to Design Office Requests"},{date:"2021-12-30T11:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated analysis based on findings. 

- Immediate replacement of non-compliant fasteners is necessary. 
- Recommend sourcing compliant fasteners from alternate suppliers. 
- Schedule inspection of all affected assemblies to ensure structural integrity. 
- Estimated cost for replacement and inspection: $50,000.`,style:"concise and precise",label:"Final Analysis and Mitigation Plan"}],200:[{date:"2021-12-31T15:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis of non-compliance regarding fasteners on part FHS-1200. 

- Non-compliant fasteners from Fastener Inc. detected. 
- Immediate replacement necessary to ensure safety. 
- Recommend sourcing compliant fasteners from alternate suppliers. 
- Schedule inspections for all affected assemblies. 
- Estimated costs for replacement and inspection: $50,000. 

No presumption on structural impacts at this stage. Focus on compliance and safety.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-01-01T09:00:00.000Z",role:"Stress Office",name:"Alexandre Dupuis",description:`Upon receiving the validated analysis from the Design Manager regarding the non-compliance of fasteners on part FHS-1200, a comprehensive stress analysis was conducted to evaluate the structural integrity of the affected assemblies. 

### Analysis Overview: 
- **Objective**: To assess the impact of the sub-standard fasteners on the structural performance of the A220 fuselage. 
- **Methodology**: Utilized advanced computational modeling techniques in MATLAB to simulate loading conditions and evaluate stress distributions across the fuselage. 
- **Findings**: The analysis revealed that the irregular fastening force due to the non-compliant fasteners could lead to localized stress concentrations, potentially resulting in progressive loosening of panels under operational loads. 

### Recommendations: 
1. **Immediate Replacement**: It is imperative to replace all non-compliant fasteners with compliant alternatives to restore structural integrity. 
2. **Inspection Protocol**: Implement a rigorous inspection protocol for all assemblies utilizing fasteners from the affected batch to ensure no further issues arise. 
3. **Supplier Review**: Conduct a thorough review of the supplier's quality assurance processes to prevent recurrence of similar issues in the future. 
4. **Cost Implications**: The estimated cost for replacement and inspection remains at approximately $50,000. 

### Next Steps: 
- Requesting additional data from the Quality Controller regarding the specific batch of fasteners and any previous inspection results to refine our analysis further.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2022-01-01T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Providing detailed information regarding the batch of fasteners used on part FHS-1200. 

- **Batch Number**: FST-202112 
- **Inspection History**: Initial inspections did not reveal any discrepancies; however, the oversight in tensile strength specifications was noted post-assembly. 
- **Supplier Communication**: Engaged with Fastener Inc. to address the quality issues and ensure compliance moving forward.`,style:"concise and precise",label:"Response to Stress Office Request"},{date:"2022-01-02T11:00:00.000Z",role:"Stress Office",name:"Alexandre Dupuis",description:`Following the receipt of additional data from the Quality Controller, a final review of the stress analysis was conducted. 

### Updated Analysis: 
- **Batch Review**: The fasteners from batch FST-202112 were confirmed to have failed tensile strength tests, necessitating immediate action. 
- **Structural Impact**: The risk of structural failure has been quantified, and it is evident that without prompt replacement, the aircraft's safety could be compromised. 

### Consolidated Recommendations: 
1. **Immediate Action**: Replace all fasteners from the identified batch across all affected assemblies. 
2. **Enhanced Inspection**: Establish a more stringent inspection regime for future fastener batches to ensure compliance before installation. 
3. **Supplier Accountability**: Fastener Inc. must be held accountable for the oversight, and a corrective action plan should be developed collaboratively. 
4. **Cost Management**: The financial implications of the corrective actions should be monitored closely to mitigate any unexpected expenses. 

### Conclusion: 
The integrity of the A220 structure is paramount, and adherence to these recommendations is essential to ensure safety and compliance. Further monitoring and evaluation will be necessary as the situation develops.`,style:"verbose",label:"Final Stress Analysis and Consolidated Recommendations"}],400:[{date:"2022-01-03T09:15:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Analysis Summary: 
Following the comprehensive stress analysis conducted on the non-compliant fasteners from batch FST-202112, the findings indicate significant risks to the structural integrity of part FHS-1200. 

### Key Findings: 
- The fasteners failed to meet tensile strength specifications, leading to irregular fastening force. 
- Localized stress concentrations were identified, which could result in progressive loosening of panels under operational loads. 

### Recommended Actions: 
1. **Immediate Replacement**: All fasteners from the identified batch must be replaced with compliant alternatives across all affected assemblies to restore structural integrity. 
2. **Inspection Protocol**: Implement a rigorous inspection protocol for all assemblies utilizing fasteners from the affected batch to ensure no further issues arise. 
3. **Supplier Accountability**: Fastener Inc. must be held accountable for the oversight, and a corrective action plan should be developed collaboratively to prevent recurrence. 
4. **Cost Management**: Monitor financial implications closely to mitigate unexpected expenses associated with the replacement and inspection process. 

### Conclusion: 
The safety and integrity of the A220 structure are paramount. Adhering to these recommendations is essential to ensure compliance and safety moving forward. Continuous monitoring and evaluation will be necessary as the situation develops.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-01-04T11:45:00.000Z",role:"Quality Manager",name:"Jean-Philippe Côté",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Contexte** : Non-conformité détectée sur les fixations de la partie FHS-1200 de l'A220.
- **Causes Externes** : Défauts fournisseurs, les fixations de Fastener Inc. n'ont pas satisfait aux spécifications de résistance à la traction.
- **Causes Internes** : Absence de détection initiale lors des inspections de qualité.

#### Impact et Risques
- **Impact Structurel** : Risque de concentration de stress localisé pouvant entraîner un desserrage progressif des panneaux.
- **Impact Financier** : Coût estimé de remplacement et d'inspection à $50,000.
- **Impact sur la Sécurité** : Risque potentiel pour la sécurité de l'aéronef si non traité.

#### Plan d'Action
1. **Remplacement Immediat** : Remplacer toutes les fixations non conformes par des alternatives conformes pour restaurer l'intégrité structurelle.
2. **Inspection Renforcée** : Mettre en place un protocole d'inspection rigoureux pour toutes les assemblées utilisant les fixations du lot affecté.
3. **Revue du Fournisseur** : Exiger une révision complète des processus d'assurance qualité de Fastener Inc. pour éviter la récurrence.
4. **Gestion des Coûts** : Surveiller de près les implications financières pour atténuer les dépenses imprévues.

#### Synthèse
La sécurité et l'intégrité structurelle de l'A220 sont primordiales. L'adhésion aux recommandations est essentielle pour garantir la conformité et la sécurité à l'avenir. Une surveillance continue et une évaluation seront nécessaires au fur et à mesure de l'évolution de la situation.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 75",nc_label:"Engine fuel pump",nc_scenario_id:"ATA-75-50632b73bd3c0a74",nc_event_seed:33912,nc_event_date:"2021-02-09 19:50:57.686000+00:00",nc_event_id:"ATA-75-50632b73bd3c0a74-d1a6",analysis_history:{"000":[{date:"2021-02-09T19:50:57.686Z",role:"Quality Controler",observation:"Routine Performance checks showing reduced engine patterns",name:"Louis Tremblay",description:"Observation of reduced engine performance patterns noted during routine checks. Specific issues observed with fuel delivery system. Initial indications suggest potential misalignment in assembly process. Components affected include FAN-BLADE-75-01, serial SN-60744 from supplier ABC Aerospace. Further investigation required to assess impact on overall engine efficiency.",style:"elusive",label:"Engine Performance Anomaly"}],100:[{date:"2021-02-09T20:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Review of the reduced engine performance patterns indicates a potential misalignment in the fuel pump assembly process. The primary cause identified is improper jig alignment, leading to structural fatigue and inefficiencies in the fuel delivery system. Further investigation required to quantify the impact on engine efficiency and maintenance costs.",style:"concise and precise",label:"Initial Analysis of Engine Performance Anomaly"},{date:"2021-02-09T21:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Request for detailed analysis of the electrical systems associated with the fuel pump. Need to assess if electrical anomalies contribute to the observed performance issues.",style:"concise and precise",label:"Request for Electrical System Analysis"},{date:"2021-02-09T21:30:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Request for an assessment of the hydraulic systems related to the fuel pump assembly. Investigation needed to determine if hydraulic misalignments are affecting fuel delivery efficiency.",style:"concise and precise",label:"Request for Hydraulic System Analysis"},{date:"2021-02-10T09:00:00.000Z",role:"Quality Controler",name:"Louis Tremblay",description:"Provided additional data on assembly processes and jig alignment protocols. Confirmed that routine checks have not identified previous issues with the electrical or hydraulic systems.",style:"concise and precise",label:"Response to Requests for Additional Information"},{date:"2021-02-10T10:30:00.000Z",role:"Design Office",name:"Émile Gagnon",description:"Propose rebalancing of the engine fan to ensure stable operation and optimal efficiency. Recommend implementing a review of jig alignment procedures to prevent future misalignments. Suggest routine monitoring of vibration incidents to track improvements.",style:"concise and precise",label:"Mitigation Plan Proposal"}],200:[{date:"2021-02-11T12:30:00.000Z",role:"Design Manager",name:"Gabriel Lefebvre",description:`Analysis confirms misalignment in fuel pump assembly. Internal cause: improper jig alignment during assembly. External factors: supplier component quality. Recommended actions: 
- Implement jig alignment review to prevent future issues.
- Monitor vibration incidents regularly to track improvements.
- Assess impact on engine efficiency and maintenance costs. 
Focus on reducing costs and improving navigability. Ensure compliance with industry standards.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-02-12T09:30:00.000Z",role:"Stress Office",name:"Julien Lavoie",description:`### Résumé de l'Analyse
Suite à l'analyse approfondie des données relatives à la non-conformité observée dans le système de livraison de carburant de l'A220, des calculs de stress ont été réalisés pour évaluer l'impact de l'alignement incorrect du jig lors de l'assemblage de la pompe à carburant. 

### Analyse des Causes
1. **Causes Internes :**
 - **Erreur d'Assemblage :** L'alignement incorrect du jig a conduit à une installation défectueuse, entraînant une fatigue structurelle prématurée des composants.
 - **Mauvaise Calibration :** Les outils utilisés pour l'assemblage n'ont pas été calibrés correctement, ce qui a exacerbé les problèmes d'alignement.

2. **Causes Externes :**
 - **Défauts Fournisseurs :** Les composants fournis par ABC Aerospace n'ont pas respecté les spécifications de qualité, contribuant à des problèmes de performance.
 - **Conditions Environnementales :** Des variations de température et d'humidité pendant l'assemblage ont pu affecter la performance des matériaux.

### Recommandations
- **Revue des Procédures d'Assemblage :** Mettre en place une révision complète des procédures d'assemblage pour garantir un alignement correct du jig. Cela inclut la formation du personnel sur les meilleures pratiques et l'utilisation d'outils de mesure de haute précision.
- **Surveillance des Composants :** Établir un protocole de contrôle qualité plus rigoureux pour les composants fournis, en incluant des tests de performance avant l'assemblage.
- **Monitoring Continu :** Implémenter un système de surveillance des vibrations sur les moteurs pour détecter rapidement toute anomalie liée à l'assemblage.
- **Plan d'Action Consolidé :** En fonction des résultats des calculs de stress, il est recommandé de procéder à un rééquilibrage du ventilateur du moteur et d'effectuer des vérifications régulières de l'efficacité du système de livraison de carburant.

### Conclusion
Les résultats des calculs de stress indiquent que des ajustements structurels sont nécessaires pour assurer la navigabilité et la fiabilité de l'A220. Il est impératif d'agir rapidement pour éviter des coûts supplémentaires liés à une usure prématurée et à des interruptions potentielles des opérations.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2021-02-12T11:00:00.000Z",role:"Quality Controller",name:"Louis Tremblay",description:"Pour compléter l'analyse de stress, pourriez-vous fournir des données supplémentaires sur les spécifications des matériaux utilisés dans la pompe à carburant et les résultats des tests de qualité effectués par le fournisseur ABC Aerospace ? Cela nous aidera à évaluer l'impact des composants sur la performance globale.",style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2021-02-12T14:00:00.000Z",role:"Stress Office",name:"Julien Lavoie",description:`### Informations Complémentaires
Suite à votre demande, voici les spécifications des matériaux utilisés dans la pompe à carburant ainsi que les résultats des tests de qualité :
- **Matériaux Utilisés :**
 - Aluminium 7075 pour le corps de la pompe.
 - Acier inoxydable pour les composants internes.
- **Tests de Qualité :**
 - Résistance à la corrosion : 98% de conformité.
 - Tests de fatigue : 95% de conformité.

### Conclusion
Les matériaux utilisés répondent aux normes de l'industrie, mais il est essentiel de continuer à surveiller la qualité des composants fournis pour prévenir d'éventuels problèmes d'assemblage à l'avenir.`,style:"verbose",label:"Réponse à la Demande d'Informations"},{date:"2021-02-12T16:30:00.000Z",role:"Stress Office",name:"Julien Lavoie",description:`### Résumé Final
Après avoir pris en compte les informations complémentaires fournies, l'analyse de stress a été finalisée. Les matériaux utilisés dans la pompe à carburant sont conformes aux normes, mais des ajustements structurels sont nécessaires pour garantir la performance optimale de l'A220.

### Plan d'Action Consolidé
1. **Rééquilibrage du Ventilateur :** Procéder au rééquilibrage du ventilateur pour réduire les vibrations et améliorer l'efficacité du moteur.
2. **Révision des Procédures d'Assemblage :** Mettre en œuvre des procédures d'assemblage strictes et des formations pour le personnel.
3. **Contrôle de Qualité Renforcé :** Établir un protocole de contrôle qualité plus rigoureux pour les composants fournis.
4. **Surveillance Continue :** Installer un système de surveillance des vibrations pour détecter rapidement les anomalies.

### Conclusion
Ces mesures permettront de garantir la navigabilité et la fiabilité de l'A220, tout en réduisant les coûts de maintenance à long terme. Il est crucial de suivre ces recommandations pour éviter des problèmes futurs.`,style:"verbose",label:"Finalisation de l'Analyse de Stress"}],400:[{date:"2021-02-14T10:15:00.000Z",role:"Stress Manager",name:"Marc-Antoine Gagnon",description:`### Summary of Analysis
Following the stress calculations and the review of the impact of the proposed action plan, it is confirmed that the misalignment during the assembly of the fuel pump has significant implications for the overall performance and reliability of the A220. The recommendations from the Stress Office have been thoroughly evaluated and are deemed necessary to ensure optimal engine efficiency.

### Action Plan Recommendations
1. **Fan Rebalancing:** Immediate rebalancing of the engine fan is essential to mitigate vibrations and enhance engine performance.
2. **Assembly Procedure Review:** Implement a comprehensive review of assembly procedures to ensure jig alignment is maintained. This includes training for assembly personnel on best practices.
3. **Enhanced Quality Control:** Establish a more rigorous quality control protocol for supplied components, ensuring compliance with specifications.
4. **Continuous Monitoring:** A vibration monitoring system should be installed to detect anomalies in real-time, allowing for proactive maintenance actions.

### Conclusion
These measures are critical to maintaining the navigability and reliability of the A220. By implementing these recommendations, we can significantly reduce maintenance costs and prevent premature wear. It is imperative to act swiftly to avoid further complications.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-02-15T14:45:00.000Z",role:"Quality Manager",name:"Jean-François Bouchard",description:`### Analyse des Causes
**Causes Internes :**
- **Erreur d'Assemblage :** Mauvais alignement du jig lors de l'assemblage de la pompe à carburant, causant une fatigue structurelle prématurée.
- **Mauvaise Calibration :** Outils d'assemblage mal calibrés, exacerbant les problèmes d'alignement.

**Causes Externes :**
- **Défauts Fournisseurs :** Composants de ABC Aerospace ne respectant pas les spécifications de qualité.
- **Conditions Environnementales :** Variations de température et d'humidité affectant la performance des matériaux.

### Plan d'Action
1. **Rééquilibrage du Ventilateur :** Rééquilibrer immédiatement le ventilateur pour réduire les vibrations et améliorer l'efficacité du moteur.
2. **Révision des Procédures d'Assemblage :** Mettre en place une révision complète des procédures pour garantir un alignement correct du jig, incluant la formation du personnel.
3. **Contrôle de Qualité Renforcé :** Établir un protocole de contrôle qualité rigoureux pour les composants fournis.
4. **Surveillance Continue :** Installer un système de surveillance des vibrations pour détecter rapidement les anomalies.

### Recommandation Finale
Les mesures proposées sont essentielles pour maintenir la navigabilité et la fiabilité de l'A220. En implémentant ces recommandations, nous pouvons réduire significativement les coûts de maintenance et prévenir l'usure prématurée. Il est crucial d'agir rapidement pour éviter des complications futures. L'approche doit rester pragmatique et orientée vers la réduction des coûts tout en assurant la conformité aux normes de l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 74",nc_label:"Fuel nozzle clogging",nc_scenario_id:"ATA-74-25356d57762386c3",nc_event_seed:27068,nc_event_date:"2021-11-21 23:50:57.871000+00:00",nc_event_id:"ATA-74-25356d57762386c3-b287",analysis_history:{"000":[{date:"2021-11-21T23:50:57.871Z",role:"Quality Controler",observation:"Inspection revealing abnormal deposit buildup",name:"Julien Tremblay",description:"During a routine inspection, it was observed that there is an abnormal buildup of deposits within the fuel nozzle assembly. This buildup appears to be significantly greater than expected levels, which raises concerns regarding the potential impact on fuel flow efficiency and overall engine performance. The affected component is identified as part number FN-756-220, with the serial number FN220-2808064, supplied by FuelTech Solutions. Immediate attention is required to assess the extent of the clogging and to determine the necessary steps for remediation. The presence of these deposits could indicate a failure in the filtration system during the refueling process, leading to contaminants entering the fuel system. This situation necessitates a thorough investigation to prevent further operational issues and ensure compliance with safety standards.",style:"verbose",label:"Abnormal Deposit Buildup in Fuel Nozzle"}],100:[{date:"2021-11-22T09:15:00.000Z",role:"Design Office",name:"Marie Lefebvre",description:"Review report from Quality Controler. Abnormal deposits found in fuel nozzle. Need to check filtration system. Analyze chemical composition of deposits. Confirm contaminants type. Recommend cleaning process and filtration upgrade.",style:"not fully fluent",label:"Initial Analysis of Fuel Nozzle Clogging"},{date:"2021-11-22T11:30:00.000Z",role:"Design Office Expert Hydro",name:"Lucie Gagnon",description:"Assess current filtration system. Identify weaknesses in design. Suggest improvements to prevent contaminants. Need data on refueling process. Check compatibility with A220 specifications.",style:"not fully fluent",label:"Filtration System Review"},{date:"2021-11-23T10:00:00.000Z",role:"Design Office",name:"Marie Lefebvre",description:"Combine results from filtration review. Confirm cleaning process for nozzle. Recommend upgrade to filtration system. Prepare action plan for implementation. Include cost estimate for repairs.",style:"not fully fluent",label:"Consolidation of Findings"},{date:"2021-11-23T14:45:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Review action plan from Design Office. Confirm findings on deposits and filtration issues. Approve cleaning and upgrade recommendations. Ensure compliance with safety standards.",style:"not fully fluent",label:"Validation of Analysis"}],200:[{date:"2021-11-25T10:30:00.000Z",role:"Design Manager",name:"Émilie Boucher",description:"Review findings from Design Office. Confirm abnormal deposits in fuel nozzle due to inadequate filtration. Recommend immediate cleaning of affected nozzles and upgrade of filtration system to prevent future contamination. Emphasize need for thorough investigation of refueling process to identify external contaminants. Ensure compliance with A220 specifications. Action plan includes cost estimate of $15,000 for repairs. Monitor fuel flow efficiency post-implementation.",style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-25T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:"Conduct stress analysis on fuel nozzle assembly. Evaluate impact of clogging on structural integrity. Use MATLAB for modeling. Ensure compliance with A220 specifications. Initial findings show minor stress increase, but within limits. Recommend further investigation on long-term effects.",style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2021-11-25T14:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:"Need more data on refueling process. Request details on filtration system performance. Assess external contaminants impact. This information critical for accurate stress modeling.",style:"not fully fluent",label:"Request for Additional Data"},{date:"2021-11-25T16:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Send detailed report on refueling process and filtration system. Include historical data on contaminants. Ensure all relevant information is included for stress analysis.",style:"not fully fluent",label:"Provide Requested Data"},{date:"2021-11-26T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:"Complete stress analysis with provided data. Confirm no significant structural issues. Recommend cleaning of nozzles and upgrading filtration system. Emphasize monitoring fuel flow efficiency post-implementation. Action plan includes cost estimate and timeline for upgrades.",style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-11-27T11:15:00.000Z",role:"Stress Manager",name:"Émile Fortin",description:"Review stress analysis results. Confirm no significant structural issues with fuel nozzle assembly. Clogging impacts fuel flow efficiency but within acceptable limits. Recommend immediate cleaning of nozzles. Upgrade filtration system essential to prevent future contamination. Monitor fuel flow efficiency post-implementation. Action plan includes cost estimate of $15,000. Ensure compliance with A220 specifications. Follow-up on refueling process investigation to identify external contaminants.",style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-28T15:45:00.000Z",role:"Quality Manager",name:"Marc-André Bouchard",description:`### Analyse Finale et Recommandation

**Contexte :**
- **Non-conformité :** Obstruction des injecteurs de carburant.
- **Cause primaire :** Contaminants introduits durant le ravitaillement, incompatibles avec les spécifications des injecteurs A220.
- **Impact :** Performance moteur réduite, risque de panne en vol.

**Causes Identifiées :**
- **Internes :**
 - Calibration insuffisante du système de filtration.
 - Erreurs potentielles dans l'assemblage des injecteurs.
- **Externes :**
 - Contaminants provenant des fournisseurs de carburant.
 - Conditions environnementales lors du ravitaillement.

**Plan d'Action :**
1. **Nettoyage immédiat** des injecteurs affectés pour restaurer le flux de carburant.
2. **Mise à niveau** du système de filtration pour éviter les futures contaminations.
3. **Investigation approfondie** du processus de ravitaillement pour identifier les sources externes de contaminants.
4. **Surveillance continue** de l'efficacité du flux de carburant après mise en œuvre.

**Coût et Efficacité :**
- **Coût estimé :** 15 000 $ par appareil pour réparation et nettoyage.
- **Temps d'immobilisation :** 3 jours par appareil.
- **Amélioration attendue :** Augmentation de 10 % de l'efficacité du flux de carburant.

**Conclusion :**
L'implémentation rapide des mesures correctives est cruciale pour assurer la navigabilité et la conformité des appareils A220. La mise à niveau du système de filtration est essentielle pour réduire les risques de contamination future et les coûts associés à des réparations non planifiées. Un suivi rigoureux des performances post-implémentation garantira la fiabilité continue des moteurs.`,style:"concise and direct",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 73",nc_label:"Fuel injector clogging",nc_scenario_id:"ATA-73-82e7e0c26061f8b7",nc_event_seed:16176,nc_event_date:"2023-02-18 19:50:58.131000+00:00",nc_event_id:"ATA-73-82e7e0c26061f8b7-f5a6",analysis_history:{"000":[{date:"2023-02-18T19:50:58.131Z",role:"Quality Controler",observation:"Performance tests showing reduced engine efficiency",name:"Julien Tremblay",description:`Observation of reduced engine efficiency during performance tests.

Specific issues noted:
- Fuel injectors may be clogged.
- Possible impurities in manufacturing process.

Affected part:
- Part Number: FJ72-73-01
- Serial Number: SN-125699
- Supplier: Global Fuel Systems Inc.`,style:"not fully fluent",label:"Engine Efficiency Reduction Due to Fuel Injector Issues"}],100:[{date:"2023-02-18T20:30:58.131Z",role:"Design Office",name:"Alexandre Gagnon",description:"Analysis initiated based on report 000. Fuel injectors identified as potential failure point due to impurities. Need to confirm cleaning procedures and inspection frequency during assembly. Recommend reviewing manufacturing process for cleanliness standards.",style:"elusive",label:"Initial Analysis of Fuel Injector Clogging"},{date:"2023-02-19T09:15:58.131Z",role:"Design Office Expert Elec",name:"Marie-Claude Boucher",description:"Request for assessment of potential impacts on electrical systems due to reduced engine performance. Need data on electrical load changes during performance tests.",style:"elusive",label:"Request for Electrical System Impact Assessment"},{date:"2023-02-19T10:45:58.131Z",role:"Quality Controler",name:"Julien Tremblay",description:"Provided data on inspection frequency and cleaning procedures. Confirmed that current standards were not met during recent batches. Suggests immediate review of cleaning protocols.",style:"elusive",label:"Response to Request for Additional Information"},{date:"2023-02-19T14:00:58.131Z",role:"Design Office",name:"Alexandre Gagnon",description:"Propose mitigation actions: 1. Immediate review and enhancement of cleaning procedures. 2. Implement routine inspections during assembly. 3. Conduct performance tests on affected units post-correction. 4. Monitor defect occurrence rate closely.",style:"elusive",label:"Mitigation Plan Proposal"},{date:"2023-02-20T11:30:58.131Z",role:"Design Manager",name:"Sophie Lemieux",description:"Validated proposed mitigation plan. Emphasized importance of adherence to cleanliness standards. Recommend scheduling follow-up assessments after implementation.",style:"elusive",label:"Validation of Mitigation Plan"}],200:[{date:"2023-02-21T13:45:58.131Z",role:"Design Manager",name:"Émilie Gagné",description:`Analysis confirmed. Fuel injector clogging due to impurities in manufacturing process. Cleaning procedures inadequate, inspection frequency low. Recommended actions:
1. Enhance cleaning protocols immediately.
2. Implement routine inspections during assembly.
3. Conduct performance tests on affected units post-correction.
4. Monitor defect occurrence closely.

Emphasize adherence to cleanliness standards. Schedule follow-up assessments after implementation.`,style:"elusive",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-02-22T09:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:"Conducted stress analysis on fuel injector assembly. Identified potential risks associated with clogged injectors affecting structural integrity. Need further data on operational loads and assembly tolerances.",style:"elusive",label:"Initial Stress Analysis"},{date:"2023-02-22T10:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requested operational load data and assembly tolerance specifications from Design Office to facilitate stress calculations.",style:"elusive",label:"Request for Additional Data"},{date:"2023-02-22T11:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:"Provided operational load data and assembly tolerances. Confirmed that current assembly practices do not meet required specifications, which may exacerbate clogging issues.",style:"elusive",label:"Response to Data Request"},{date:"2023-02-23T08:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Completed stress calculations. Key findings:
- Clogged injectors significantly impact engine performance and structural integrity.
- Recommend immediate implementation of enhanced cleaning protocols and routine inspections.
- Monitor defect occurrence closely post-correction to ensure compliance with cleanliness standards.

**Action Plan:**
1. Enhance cleaning protocols immediately.
2. Implement routine inspections during assembly.
3. Conduct performance tests on affected units post-correction.
4. Schedule follow-up assessments after implementation.`,style:"elusive",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2023-02-24T15:30:00.000Z",role:"Stress Manager",name:"Étienne Lefebvre",description:`Stress analysis completed. Clogged fuel injectors pose risks to engine performance and structural integrity. Key findings:
- Impurities in manufacturing directly affect fuel flow.
- Enhanced cleaning protocols are critical to mitigate risks.
- Routine inspections during assembly necessary to ensure compliance.

**Action Plan:**
1. Immediate enhancement of cleaning protocols.
2. Implementation of routine inspections during assembly.
3. Conduct performance tests on affected units post-correction.
4. Monitor defect occurrence closely to ensure standards are met.

Follow-up assessments to be scheduled post-implementation.`,style:"elusive",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-02-25T17:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale

**Contexte et Causes**
- **Cause primaire** : Impuretés dans le processus de fabrication des injecteurs de carburant, ne respectant pas les normes de propreté.
- **Causes internes** : Procédures de nettoyage inadéquates, fréquence d'inspection insuffisante.
- **Causes externes** : Défauts potentiels des fournisseurs, notamment de Global Fuel Systems Inc.

**Impact**
- **Performance** : Réduction de l'efficacité du moteur, risque d'arrêt en vol.
- **Financier** : Coûts potentiels de 500 000 $ liés aux temps d'arrêt et aux pièces de rechange.
- **Sécurité** : Risque accru de défaillance moteur si non traité.

### Plan d'Action
1. **Amélioration immédiate des protocoles de nettoyage** : Révision des procédures pour éliminer les impuretés.
2. **Mise en œuvre d'inspections de routine** : Inspections régulières pendant l'assemblage pour garantir la conformité.
3. **Tests de performance post-correction** : Vérification de l'efficacité des injecteurs après correction.
4. **Suivi de l'occurrence des défauts** : Surveillance étroite pour assurer le respect des normes de propreté.
5. **Évaluations de suivi** : Planification d'évaluations régulières après la mise en œuvre des corrections.

### Recommandation Finale
- **Adhésion stricte aux normes de propreté** : Critique pour la navigabilité et la fiabilité.
- **Optimisation des délais de production** : Intégration de moyens de détection rapide pour minimiser les interruptions.
- **Réduction des coûts** : Priorisation des actions ayant un impact financier significatif.

### Conclusion
L'implémentation rapide et rigoureuse de ces actions est essentielle pour garantir la sécurité, la fiabilité et la conformité des moteurs de l'A220. La collaboration continue avec les fournisseurs pour assurer la qualité des composants est également cruciale.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 54",nc_label:"Rivet misalignment causing aerodynamic failure",nc_scenario_id:"ATA-56-5dc42aadf5a91872",nc_event_seed:15457,nc_event_date:"2023-03-20 18:50:57.517000+00:00",nc_event_id:"ATA-56-5dc42aadf5a91872-4e7a",analysis_history:{"000":[{date:"2023-03-20T18:50:57.517Z",role:"Quality Controler",observation:"sensors testing revealing higher drag coefficients than usual",name:"Émile Tremblay",description:"Observation of sensor testing indicates higher drag coefficients than typical. Measurements suggest potential misalignment issues in rivet application. Specific issues noted on A220 wing panel assembly, particularly part number A220-88270, serial SN-75711 from supplier Global Corp Inc. Further investigation required to confirm alignment integrity and assess impact on aerodynamic performance.",style:"elusive",label:"Rivet Misalignment Detected via Sensor Testing"}],100:[{date:"2023-03-20T19:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Review of sensor data indicates misalignment in rivet application on A220 wing panel (part number A220-88270, serial SN-75711). Misalignment leads to increased drag and potential aerodynamic inefficiencies. Recommend further investigation into jig setup and worker fatigue factors.",style:"concise and precise",label:"Initial Analysis of Rivet Misalignment"},{date:"2023-03-20T20:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:"Assess potential impacts of rivet misalignment on electrical systems integrated within the wing panel. Ensure no electrical components are affected by structural deviations.",style:"concise and precise",label:"Request for Electrical System Impact Assessment"},{date:"2023-03-21T09:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:"No immediate electrical impacts identified. Recommend monitoring electrical systems during further structural assessments.",style:"concise and precise",label:"Response to Electrical Impact Assessment Request"},{date:"2023-03-21T10:00:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Evaluate potential hydraulic system impacts due to rivet misalignment. Ensure hydraulic lines and components are not compromised.",style:"concise and precise",label:"Request for Hydraulic System Evaluation"},{date:"2023-03-21T11:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:"Hydraulic systems appear unaffected. Continue monitoring during structural evaluations.",style:"concise and precise",label:"Response to Hydraulic Impact Evaluation Request"},{date:"2023-03-21T12:00:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Based on assessments, recommend corrective actions: 1. Realign rivets according to precise specifications. 2. Implement enhanced jig setup protocols to prevent future misalignment. 3. Introduce fatigue management training for workers. Monitor drag coefficients post-correction to validate improvements.",style:"concise and precise",label:"Final Analysis and Mitigation Plan"}],200:[{date:"2023-03-22T15:30:00.000Z",role:"Design Manager",name:"Mathieu Gagnon",description:`### Analysis and Action Plan Validation

The analysis conducted by the Design Office highlights a significant issue with rivet misalignment on the A220 wing panel (part number A220-88270, serial SN-75711). The identified causes include:
- **Internal Causes:** 
 - Manual riveting errors due to worker fatigue.
 - Inadequate jig setup leading to misalignment.
- **External Causes:** 
 - Potential supplier-related issues affecting component precision.

### Recommended Actions:
1. **Rivet Realignment:** Immediate realignment of rivets to meet precise specifications.
2. **Enhanced Jig Setup Protocols:** Implement standardized procedures for jig setup to minimize future misalignment risks.
3. **Fatigue Management Training:** Introduce training programs focused on fatigue management for assembly workers.

### Monitoring and Validation:
Post-correction, continuous monitoring of drag coefficients is essential to validate the effectiveness of the implemented measures. This approach aims to ensure aerodynamic efficiency and maintain operational cost-effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-03-23T09:00:00.000Z",role:"Stress Office",name:"Antoine Boucher",description:`### Initial Stress Analysis

Following the validation of the analysis and action plan concerning the rivet misalignment on the A220 wing panel (part number A220-88270, serial SN-75711), the Stress Office has initiated a comprehensive stress analysis to evaluate the structural integrity of the wing panel post-correction. The primary focus of this analysis is to ascertain whether the proposed corrective actions, specifically the realignment of rivets and enhancements to jig setup protocols, will maintain the necessary structural performance and navigability standards.

### Objectives of the Analysis:
1. **Evaluate Structural Integrity:** Assess the impact of rivet realignment on the overall structural integrity of the wing panel, ensuring compliance with safety and performance standards.
2. **Identify Potential Risks:** Determine any potential risks associated with the realignment process, including stress concentrations or alterations in load distribution.
3. **Cost Implications:** Analyze the cost implications of the realignment and jig setup enhancements, ensuring that the corrective actions do not lead to significant increases in production costs.

### Methodology:
- **Finite Element Analysis (FEA):** Utilize advanced FEA software to model the wing panel and simulate the effects of the proposed changes.
- **Material Properties Assessment:** Review and confirm the material properties of the rivets and wing panel to ensure accurate modeling.
- **Load Conditions Simulation:** Simulate various load conditions to evaluate the performance of the wing panel under operational stresses.

### Next Steps:
- Request additional data from the Design Office regarding the specific parameters of the rivet realignment and any changes to the jig setup that may affect the analysis.`,style:"verbose",label:"Initial Stress Analysis and Calculation Request"},{date:"2023-03-23T10:30:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:`### Data Provision

In response to the Stress Office's request for additional data, I am providing the following information:
- **Rivet Specifications:** Detailed specifications of the rivets used in the A220 wing panel assembly, including material properties and dimensions.
- **Jig Setup Parameters:** Current jig setup parameters and any modifications proposed for the realignment process.
- **Historical Performance Data:** Historical data on drag coefficients and structural performance metrics for the A220 wing panel to facilitate comparative analysis.

This information should assist in the accurate modeling and assessment of the structural integrity post-correction.`,style:"concise and precise",label:"Data Provision for Stress Analysis"},{date:"2023-03-24T14:00:00.000Z",role:"Stress Office",name:"Antoine Boucher",description:`### Stress Analysis Completion

The comprehensive stress analysis has been successfully completed, and the following findings and recommendations have emerged:

### Findings:
1. **Structural Integrity Maintained:** The realignment of rivets, when executed according to the precise specifications provided, does not compromise the structural integrity of the wing panel. The stress distribution remains within acceptable limits, ensuring navigability and safety.
2. **Risk of Stress Concentrations:** Minor stress concentrations were identified at the junctions of the newly aligned rivets. However, these concentrations are within tolerable limits and can be mitigated through slight adjustments in the rivet application process.
3. **Cost Implications:** The proposed corrective actions are projected to incur minimal additional costs, primarily associated with labor for the realignment and enhanced jig setup protocols.

### Recommendations:
- **Implementation of Corrective Actions:** Proceed with the immediate realignment of rivets and the implementation of enhanced jig setup protocols as outlined in the Design Office's action plan.
- **Monitoring Post-Correction:** Establish a monitoring plan to track drag coefficients and structural performance metrics post-correction to validate the effectiveness of the implemented measures.
- **Continued Training:** Reinforce fatigue management training for assembly workers to minimize the risk of future misalignment issues.

### Conclusion:
The analysis supports the proposed corrective actions and emphasizes the importance of continuous monitoring and training to ensure ongoing compliance with safety and performance standards.`,style:"verbose",label:"Stress Analysis Completion and Recommendations"}],400:[{date:"2023-03-25T16:00:00.000Z",role:"Stress Manager",name:"Léa Gagnon",description:`### Analysis and Final Recommendations

Following the completion of the stress analysis regarding the rivet misalignment on the A220 wing panel (part number A220-88270, serial SN-75711), the following conclusions and recommendations are presented:

### Key Findings:
1. **Structural Integrity Maintained:** The proposed corrective actions, specifically the realignment of rivets, have been validated. The structural integrity of the wing panel remains intact, with stress distributions within acceptable limits.
2. **Minor Stress Concentrations:** Some minor stress concentrations were observed at the junctions of the newly aligned rivets. These concentrations are manageable and can be addressed through careful adjustments in the riveting process.
3. **Cost Implications:** The financial impact of implementing the corrective actions is minimal, primarily related to labor costs for realignment and enhanced jig setup.

### Recommendations:
- **Immediate Implementation:** Proceed with the realignment of rivets as per the specifications provided. Ensure that the enhanced jig setup protocols are followed to prevent future misalignment.
- **Monitoring Plan:** Establish a robust monitoring plan to track drag coefficients and structural performance metrics post-correction. This will help validate the effectiveness of the implemented measures.
- **Ongoing Training:** Continue to reinforce fatigue management training for assembly workers to mitigate the risk of future misalignment issues.

### Conclusion:
The analysis supports the proposed corrective actions and emphasizes the importance of continuous monitoring and training to ensure compliance with safety and performance standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-03-26T10:45:00.000Z",role:"Quality Manager",name:"Luc Desrochers",description:`### Analyse et Recommandation Finale

**Contexte de la Non-Conformité :**
- **Label :** Rivet misalignment causing aerodynamic failure
- **Cause Primaire :** Alignement incorrect lors du rivetage manuel dû à la fatigue des travailleurs et à une configuration inadéquate du gabarit pour l'assemblage du panneau d'aile A220.

**Analyse des Causes :**
- **Causes Internes :**
 - Erreurs humaines pendant le rivetage manuel.
 - Mauvaise configuration du gabarit, entraînant un profil aérodynamique dévié.
- **Causes Externes :**
 - Précision des composants potentiellement affectée par le fournisseur.

**Impact :**
- Augmentation de la traînée aérodynamique, réduisant l'efficacité énergétique et augmentant les coûts opérationnels.
- Risque de défaillance structurelle sous contrainte de maintenance si non traité.

**Plan d'Action :**
1. **Réalignement des Rivets :**
 - Procéder au réalignement immédiat des rivets selon des spécifications précises.
 - Ajustements mineurs dans le processus de rivetage pour gérer les concentrations de stress.
2. **Protocoles de Configuration de Gabarit Améliorés :**
 - Mettre en œuvre des procédures standardisées pour minimiser les risques de désalignement futurs.
3. **Formation à la Gestion de la Fatigue :**
 - Introduire des programmes de formation pour les travailleurs sur la gestion de la fatigue.

**Suivi et Validation :**
- Établir un plan de suivi pour surveiller les coefficients de traînée et les métriques de performance structurelle après correction.
- Valider l'efficacité des mesures mises en œuvre pour garantir l'efficacité aérodynamique et maintenir la rentabilité opérationnelle.

**Conclusion :**
Les actions correctives proposées sont validées. L'importance de la surveillance continue et de la formation est soulignée pour assurer la conformité aux normes de sécurité et de performance.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 75",nc_label:"Compressor stall during high altitude operations",nc_scenario_id:"ATA-75-792b7b2d02b24d",nc_event_seed:26682,nc_event_date:"2021-12-08 01:50:57.731000+00:00",nc_event_id:"ATA-75-792b7b2d02b24d-8327",analysis_history:{"000":[{date:"2021-12-08T01:50:57.731Z",role:"Quality Controler",observation:"Pilot reports of engine surges",name:"Julien Tremblay",description:`Pilot feedback indicates engine surges during flight operations. 
Specific issues noted with compressor blade performance. 
Potential link to maintenance practices observed. 
Part number: COMP-BLADE-75-34, Serial: SN-95027, Supplier: DEF Power Systems. 
Further investigation required to assess impact on operational safety.`,style:"elusive",label:"Engine Surge Reports"}],100:[{date:"2021-12-08T02:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Review of pilot reports indicating engine surges. 
Identified potential link to compressor blade performance. 
Focus on maintenance procedures affecting blade clearance. 
Need for further investigation into maintenance practices.`,style:"concise and precise",label:"Initial Analysis of Engine Surge Reports"},{date:"2021-12-08T10:30:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Lefebvre",description:`Request for detailed review of maintenance procedures related to compressor blade clearance settings. 
Assess compliance with established guidelines. 
Identify deviations that may lead to improper blade clearance.`,style:"concise and precise",label:"Request for Maintenance Procedure Review"},{date:"2021-12-09T09:15:00.000Z",role:"Design Office Expert Elec",name:"Louis Fortin",description:`Evaluate potential electrical system impacts due to compressor stall events. 
Determine if any electrical anomalies correlate with reported engine surges. 
Provide insights on necessary adjustments.`,style:"concise and precise",label:"Request for Electrical System Impact Assessment"},{date:"2021-12-09T15:45:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provide feedback on maintenance practices related to compressor blade clearance. 
Highlight any discrepancies noted during inspections. 
Ensure alignment with safety protocols.`,style:"concise and precise",label:"Follow-up on Maintenance Practices"},{date:"2021-12-10T11:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analysis of received feedback and assessments. 
Recommendation to implement revised maintenance procedures to ensure proper blade clearance. 
Propose recalibration of affected engines to restore stability. 
Monitor engine performance post-implementation.`,style:"concise and precise",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2021-12-11T12:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`Analysis of compressor stall issue linked to improper maintenance procedures. 
Identified primary cause: incorrect blade clearance settings. 
Recommendation: implement revised maintenance protocols to ensure compliance with specifications. 
Propose recalibration of affected engines to restore operational stability. 
Monitor performance closely post-implementation to mitigate risks of in-flight engine instability. 
No presumption on structural impacts at this stage.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-12-12T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`After conducting a thorough analysis of the compressor stall issue linked to improper maintenance procedures, particularly focusing on the incorrect clearance settings between compressor blades, we utilized advanced modeling techniques to evaluate the structural integrity of the A220 engine. The analysis revealed that the improper blade clearance could lead to significant airflow disruptions, which in turn may compromise the engine's performance under high-load conditions. 

### Key Findings:
1. **Structural Integrity**: The current design tolerances for the compressor blades are within acceptable limits; however, deviations in maintenance practices could lead to potential structural fatigue over time.
2. **Navigability Risks**: The risk of in-flight engine instability is heightened under high altitude operations, necessitating immediate corrective actions to ensure compliance with safety standards.
3. **Cost Implications**: Each incident of compressor stall could incur costs upwards of $20,000, emphasizing the need for prompt rectification to avoid financial repercussions.

### Recommendations:
- **Recalibration**: Immediate recalibration of the compressor blade settings is recommended to restore optimal performance.
- **Maintenance Protocol Revision**: Implement revised maintenance procedures to ensure strict adherence to clearance specifications.
- **Monitoring Plan**: Establish a monitoring plan to track engine performance post-implementation, focusing on detecting any anomalies early.

### Additional Information Needed:
To further refine our analysis, we request detailed maintenance logs for the affected engines, particularly focusing on any deviations from the prescribed maintenance protocols.`,style:"verbose",label:"Initial Stress Analysis and Structural Impact Assessment"},{date:"2021-12-12T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Providing detailed maintenance logs for compressor blade settings and any discrepancies noted during inspections. This will assist the Stress Office in refining their analysis and recommendations.",style:"concise and precise",label:"Provision of Maintenance Logs"},{date:"2021-12-13T11:00:00.000Z",role:"Stress Office",name:"Alexandre Gagné",description:`Upon receiving the detailed maintenance logs, we conducted a comprehensive review and updated our stress analysis accordingly. The logs indicated several instances of non-compliance with the established maintenance protocols, which correlates with the reported engine surges. 

### Updated Findings:
1. **Increased Risk of Structural Fatigue**: The frequency of deviations from maintenance protocols has increased the risk of structural fatigue, particularly in high-stress operational environments.
2. **Operational Safety**: The potential for in-flight engine shutdowns remains a critical concern, warranting immediate corrective measures.

### Consolidated Recommendations:
- **Immediate Recalibration**: Proceed with recalibrating all affected engines to ensure proper blade clearance.
- **Enhanced Training**: Implement enhanced training sessions for maintenance personnel to reinforce the importance of adhering to maintenance protocols.
- **Regular Audits**: Establish a schedule for regular audits of maintenance practices to ensure compliance and identify any potential issues proactively.

### Conclusion:
The integrity of the A220's engine structure is paramount for operational safety. Implementing these recommendations will significantly mitigate risks associated with compressor stalls and enhance overall engine performance.`,style:"verbose",label:"Final Stress Analysis and Recommendations Update"}],400:[{date:"2021-12-14T09:45:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`After thorough review of the stress analysis and impact assessment conducted by the Stress Office, we confirm the findings regarding the compressor stall issue linked to improper maintenance practices. 

### Key Points:
1. **Structural Integrity**: The analysis indicates that deviations in blade clearance settings have increased the risk of structural fatigue, especially under high-load conditions.
2. **Operational Risks**: The potential for in-flight engine shutdowns remains a critical concern. Immediate corrective actions are necessary to mitigate this risk.
3. **Cost Implications**: Each incident of compressor stall could result in significant financial losses, emphasizing the urgency of implementing the recommended actions.

### Recommendations:
- **Immediate Recalibration**: All affected engines must undergo recalibration to ensure compliance with blade clearance specifications.
- **Training Initiatives**: Enhanced training programs for maintenance personnel should be established to reinforce adherence to maintenance protocols.
- **Regular Audits**: A schedule for regular audits of maintenance practices should be implemented to ensure ongoing compliance and early detection of potential issues.

### Conclusion:
Implementing these recommendations will significantly enhance the operational safety and performance of the A220 engines. Continuous monitoring and adherence to revised maintenance protocols are essential to prevent future occurrences of compressor stalls.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-12-15T14:20:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Recommandation Finale

**Contexte et Problématique**
- **Non-conformité**: Décrochage du compresseur lors d'opérations en haute altitude.
- **Cause Primaire**: Procédures de maintenance incorrectes entraînant des réglages inadéquats des jeux entre les pales du compresseur.

**Analyse des Causes**
- **Causes Internes**: Erreurs de calibration et non-respect des protocoles de maintenance.
- **Causes Externes**: Aucun défaut fournisseur identifié, mais une surveillance continue est recommandée.

**Impact et Risques**
- **Navigabilité**: Instabilité moteur en vol, nécessitant des ajustements opérationnels immédiats.
- **Coûts**: Chaque incident coûte potentiellement 20,000 USD en carburant et maintenance.

**Plan d'Action**
- **Recalibration Immédiate**: Recalibrer tous les moteurs affectés pour garantir des jeux de pales conformes.
- **Révision des Protocoles de Maintenance**: Mettre en place des procédures révisées pour assurer la conformité.
- **Formation Renforcée**: Sessions de formation pour le personnel de maintenance sur l'importance des protocoles.
- **Audits Réguliers**: Établir un calendrier d'audits réguliers pour détecter les écarts potentiels.

**Synthèse et Mise en Consistance**
- **Efficacité Temporelle**: Optimiser les étapes d'analyse pour réduire les délais de production.
- **Réduction des Coûts**: Prioriser les actions ayant un impact financier significatif.
- **Pertinence Industrielle**: Assurer la navigabilité et la fiabilité des moteurs A220.

La mise en œuvre de ces recommandations est cruciale pour améliorer la sécurité opérationnelle et la performance des moteurs A220. Une surveillance continue et une adhérence stricte aux protocoles révisés sont essentielles pour prévenir de futurs incidents de décrochage du compresseur.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Improper fastener installation",nc_scenario_id:"ATA-57-9a6317ae5cd5823a",nc_event_seed:8388,nc_event_date:"2024-01-09 07:50:57.251000+00:00",nc_event_id:"ATA-57-9a6317ae5cd5823a-cc8b",analysis_history:{"000":[{date:"2024-01-09T07:50:57.251Z",role:"Quality Controler",observation:"Digital torque tools tools irregularities",name:"Julien Tremblay",description:"This report pertains to the observation of non-conformity regarding the irregularities noted in the digital torque tools utilized during the installation of fasteners on the A220 engine pylons. Specific observations indicate that there were discrepancies in the torque readings provided by the tools, which may lead to improper torque application. The affected part number is 57-301-FS, with the serial number SN72231, supplied by FastenSecure Aviation. It is crucial to note that these irregularities were discovered during routine checks, highlighting a potential risk to the integrity of the fastener installations. Immediate attention is required to assess the impact of these irregularities on the overall assembly process and to ensure compliance with the established torque specifications.",style:"verbose",label:"Irregularities in Digital Torque Tools"}],100:[{date:"2024-01-09T08:30:57.251Z",role:"Design Office",name:"Émile Gagnon",description:"Review report 000. Identify issues with digital torque tools. Irregularities noted. Need to check specifications. Verify if torque tools meet current standards. Assess impact on fastener integrity. Recommend further checks on affected parts.",style:"not fully fluent",label:"Initial Analysis of Torque Tool Irregularities"},{date:"2024-01-09T10:15:57.251Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:"Analyze digital torque tools used. Check calibration records. Ensure tools function properly. If issues found, recommend recalibration or replacement. Report findings back to Design Office.",style:"not fully fluent",label:"Technical Review of Torque Tools"},{date:"2024-01-09T12:00:57.251Z",role:"Design Office",name:"Émile Gagnon",description:"Gather data from Expert Elec. Confirm torque tools irregularities. Recommend immediate re-evaluation of fastener installations. Suggest training update for operators on torque application. Prepare report for Design Manager.",style:"not fully fluent",label:"Compile Findings and Recommendations"},{date:"2024-01-09T14:00:57.251Z",role:"Quality Controler",name:"Julien Tremblay",description:"Examine findings from Design Office. Confirm irregularities impact on assembly. Ensure compliance with torque specifications. Provide feedback on recommendations. Suggest additional inspections if necessary.",style:"not fully fluent",label:"Review of Torque Tool Analysis"}],200:[{date:"2024-01-10T09:30:00.000Z",role:"Design Manager",name:"Marc Dupuis",description:`### Analysis and Action Plan Validation

- Reviewed findings from Design Office regarding torque tool irregularities.
- Confirmed discrepancies in torque readings could affect fastener integrity on A220 engine pylons.
- Recommended immediate re-evaluation of all affected installations to ensure compliance with torque specifications.

### Recommendations

1. **Recalibration of Torque Tools**: Immediate recalibration or replacement of digital torque tools to ensure accurate torque application.
2. **Operator Training**: Update training programs for operators to reflect current torque specifications and best practices.
3. **Additional Inspections**: Implement additional inspections for all installations using affected tools to mitigate risks.

### Conclusion

- Focus on ensuring navigability and compliance with safety standards. No structural impacts presumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-01-10T10:30:00.000Z",role:"Stress Office",name:"Léo Gagné",description:`### Stress Analysis Results

- Conducted stress calculations on A220 engine pylons with focus on fastener integrity.
- Found that improper torque application could lead to stress concentrations.
- Recommended immediate re-evaluation of torque specifications and installation processes.

### Next Steps
- Request recalibration records of torque tools from Quality Controller to ensure accuracy.
- Assess structural impact of potential fastener failures on overall aircraft integrity.`,style:"not fully fluent",label:"Initial Stress Analysis"},{date:"2024-01-10T11:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Calibration Records Submission

- Submitted calibration records for digital torque tools used in fastener installation.
- Confirmed that tools were last calibrated on 2023-12-15.
- Noted discrepancies in torque readings during routine checks.

### Recommendations
- Immediate recalibration of tools is necessary to prevent future discrepancies.`,style:"not fully fluent",label:"Provide Torque Tool Calibration Records"},{date:"2024-01-10T12:30:00.000Z",role:"Stress Office",name:"Léo Gagné",description:`### Updated Stress Analysis

- Re-evaluated stress calculations with provided calibration data.
- Confirmed that discrepancies in torque readings could lead to significant structural risks.
- Fasteners may not meet required safety margins, risking engine nacelle stability.

### Recommendations
1. **Immediate Recalibration**: Ensure all torque tools are recalibrated before further installations.
2. **Training Update**: Implement training for operators on correct torque application.
3. **Enhanced Inspections**: Increase frequency of inspections on affected installations to ensure compliance.`,style:"not fully fluent",label:"Re-evaluate Stress Analysis with Calibration Data"},{date:"2024-01-10T14:00:00.000Z",role:"Stress Office Manager",name:"Émilie Fortin",description:`### Final Review of Stress Analysis

- Reviewed updated stress analysis and recommendations from Stress Office.
- Confirmed that recalibration of torque tools and operator training are critical to maintaining structural integrity.

### Final Recommendations
- **Implement Immediate Actions**: Ensure recalibration and training are prioritized.
- **Monitor Fastener Installations**: Conduct additional inspections and monitoring of fastener installations to mitigate risks.
- **Document Findings**: Ensure all findings and actions are documented for future reference.`,style:"not fully fluent",label:"Final Review and Recommendations"}],400:[{date:"2024-01-11T10:00:00.000Z",role:"Stress Manager",name:"Alexandre Gagnon",description:`### Stress Analysis Review

- Reviewed stress calculations and findings from Stress Office.
- Confirmed that improper torque application poses significant risks to fastener integrity.
- Noted that recalibration of torque tools is critical to ensure accurate torque application.

### Action Plan Validation

1. **Recalibration of Torque Tools**: Ensure all digital torque tools are recalibrated before further installations.
2. **Operator Training**: Update training programs for operators on torque application best practices.
3. **Enhanced Inspections**: Increase frequency of inspections on affected installations to ensure compliance with torque specifications.

### Conclusion

- Immediate actions are necessary to mitigate risks to engine nacelle stability. Compliance with safety standards must be prioritized.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-01-12T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse et Recommandation Finale

#### Contexte et Causes
- **Causes Internes** :
 - Mauvaise calibration des outils de couple numérique, entraînant des lectures incorrectes.
 - Formation des opérateurs obsolète, ne reflétant pas les spécifications actuelles.
- **Causes Externes** :
 - Aucun défaut fournisseur direct identifié, mais nécessité de vérifier la conformité des pièces fournies.

#### Impact et Risques
- **Navigabilité** : Risque potentiel pour la stabilité de la nacelle moteur.
- **Coûts** : Coût potentiel de $10,000 par inspection de rétorquage, impactant plus de 100 nacelles.
- **Production** : Retards possibles si non traité, avec risque de détachement du pylône.

#### Plan d'Action
1. **Recalibration Immédiate** :
 - Recalibrer tous les outils de couple numérique avant toute installation future.
2. **Mise à Jour de la Formation** :
 - Mettre à jour les programmes de formation des opérateurs pour inclure les spécifications actuelles.
3. **Inspections Renforcées** :
 - Augmenter la fréquence des inspections sur les installations affectées.
4. **Surveillance Continue** :
 - Mettre en place un suivi régulier des installations de fixations pour assurer la conformité.

#### Conclusion
- **Priorité** : Assurer la conformité avec les normes de sécurité pour maintenir l'intégrité structurelle.
- **Efficacité** : Optimiser les étapes d'analyse pour réduire les délais de production.
- **Réduction des Coûts** : Prioriser les actions avec un impact financier significatif pour éviter des corrections coûteuses ultérieures.

En conclusion, des actions immédiates sont nécessaires pour atténuer les risques liés à la stabilité de la nacelle moteur et garantir la conformité avec les normes de sécurité aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 80",nc_label:"Thermal leakage from engine casing",nc_scenario_id:"ATA-80-191c99511d76900",nc_event_seed:30915,nc_event_date:"2021-06-14 16:50:58.307000+00:00",nc_event_id:"ATA-80-191c99511d76900-c57f",analysis_history:{"000":[{date:"2021-06-14T16:50:58.307Z",role:"Quality Controler",observation:"Increase in oil consumption during operational checks",name:"Léa Tremblay",description:`Observation of increased oil consumption noted during operational checks. 
Specific oil stains visible on engine casing. 
Potential issues observed with gasket material in part GSK-2334, serial A220-GSK-46999 from SealTech Industries.`,style:"concise and precise",label:"Oil Consumption Increase in A220 Engine"}],100:[{date:"2021-06-14T17:30:00.000Z",role:"Design Office",name:"Marc Dupuis",description:`Upon reviewing the non-conformity report submitted by Quality Controller Léa Tremblay, it is evident that the primary cause of the thermal leakage from the engine casing is attributed to the improper sealing of the engine bearing compartments. This is specifically due to the incorrect choice of gasket material that is not suitable for the operational temperatures experienced by the A220 engines. 

The gasket material must be capable of withstanding high temperatures and pressures, which are characteristic of the A220 engine's operational environment. The observed oil leakages, as indicated in the report, suggest a material incompatibility that could lead to significant operational issues if not addressed promptly. 

**Recommendations for Mitigation:** 
1. Immediate replacement of the gasket in part GSK-2334, serial A220-GSK-46999 with a material that meets the required specifications for temperature and pressure. 
2. Conduct a thorough inspection of all A220 engines to identify any other potential gasket material issues. 
3. Implement a review process for gasket material specifications to ensure they meet operational requirements before installation. 

**Next Steps:** 
- Engage with Design Office Expert Hydro for further analysis on the fluid dynamics involved in the leakage. 
- Prepare a detailed report for the Design Manager for validation.`,style:"verbose",label:"Initial Analysis of Thermal Leakage Issue"}],200:[{date:"2021-06-15T10:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`**Analysis Summary:**
The thermal leakage issue from the engine casing is confirmed to be due to improper sealing of the engine bearing compartments. The gasket material currently in use (part GSK-2334, serial A220-GSK-46999) is not suitable for the operational temperatures of A220 engines, leading to oil leakages.

**Action Plan:**
1. Replace the gasket with a material that meets the required specifications for temperature and pressure.
2. Inspect all A220 engines for similar gasket material issues to prevent further occurrences.
3. Review and update gasket material specifications to ensure compliance with operational requirements.

**Recommendation:**
Proceed with the immediate replacement of the gasket and implement the inspection plan. This will mitigate risks of operational downtime and potential severe engine failures.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-06-16T09:00:00.000Z",role:"Stress Office",name:"Julien Boucher",description:`The stress analysis conducted on the proposed gasket replacement for part GSK-2334 indicates that the new material meets the required specifications for temperature and pressure. 

**Key Findings:**
- The new gasket material exhibits adequate thermal resistance and pressure tolerance, aligning with A220 operational parameters.
- Structural simulations confirm that the replacement will not compromise the integrity of the engine casing or the overall aircraft structure.

**Recommendations:**
1. Proceed with the immediate replacement of the gasket with the approved material.
2. Monitor the performance of the new gasket during operational checks to ensure no further leakage occurs.
3. Implement a review process for all gasket materials used in A220 engines to prevent future issues.

**Next Steps:**
- Engage with the Quality Controller for ongoing monitoring and reporting of any anomalies post-replacement.`,style:"concise and precise",label:"Stress Analysis of Gasket Replacement"},{date:"2021-06-16T10:30:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Following the stress analysis and subsequent recommendations from the Stress Office, a monitoring plan will be established to ensure the effectiveness of the gasket replacement. 

**Monitoring Actions:**
1. Conduct regular operational checks on the A220 engines post-replacement to track oil consumption and detect any signs of leakage.
2. Document findings and report any anomalies immediately to the Stress Office and Design Office for further analysis.
3. Schedule a follow-up review meeting in two weeks to assess the performance of the new gasket material and discuss any necessary adjustments.

**Objective:**
Ensure the integrity and operational reliability of the A220 engines following the gasket replacement.`,style:"verbose",label:"Monitoring Plan Post Gasket Replacement"}],400:[{date:"2021-06-17T11:15:00.000Z",role:"Stress Manager",name:"Alexandre Gagné",description:`**Analysis Summary:**
The stress analysis confirms that the proposed gasket replacement for part GSK-2334 meets the operational requirements for temperature and pressure. The new material's thermal resistance and pressure tolerance are adequate, ensuring no compromise to the engine casing integrity.

**Impact Assessment:**
The immediate replacement of the gasket is crucial to mitigate risks of operational downtime and potential engine failures. The estimated cost of $300,000 and one operational day lost underscore the importance of timely action.

**Final Recommendations:**
1. Proceed with the gasket replacement as outlined in the previous reports.
2. Implement a monitoring plan to track oil consumption and leakage signs post-replacement.
3. Schedule a follow-up review meeting in two weeks to assess the performance of the new gasket material.

**Conclusion:**
The analysis and recommendations align with the operational safety standards for A220 engines. Immediate action is necessary to ensure continued reliability and performance.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-06-18T14:45:00.000Z",role:"Quality Manager",name:"Jean-Philippe Boucher",description:`**Analyse des Causes:**
- **Cause Primaire:** Mauvaise sélection du matériau du joint, inadapté aux températures opérationnelles des moteurs A220.
- **Causes Internes:** Erreur de spécification lors de l'assemblage.
- **Causes Externes:** Défaut de matériau fourni par SealTech Industries.

**Impact et Risques:**
- **Opérationnel:** Arrêt immédiat pour maintenance, coût estimé à 300,000 $ et une journée perdue.
- **Sécurité:** Risque accru de défaillance moteur en vol si non traité.

**Plan d'Action:**
1. **Remplacement Immédiat:** Substituer le joint par un matériau conforme aux spécifications de température et de pression.
2. **Inspection Générale:** Vérifier tous les moteurs A220 pour identifier d'autres problèmes potentiels de matériau.
3. **Révision des Spécifications:** Mettre à jour les spécifications des matériaux pour garantir la conformité.
4. **Suivi et Surveillance:**
 - Effectuer des vérifications régulières de la consommation d'huile après remplacement.
 - Documenter et rapporter immédiatement toute anomalie.
5. **Réunion de Suivi:** Planifier une réunion dans deux semaines pour évaluer la performance du nouveau joint.

**Synthèse et Recommandation Finale:**
- **Efficacité Temporelle:** Optimiser les étapes d'analyse pour réduire les délais de production.
- **Réduction des Coûts:** Prioriser les actions qui minimisent les impacts financiers significatifs.
- **Pertinence Industrielle:** Assurer la navigabilité et la fiabilité des moteurs A220 par une approche réaliste et contextualisée.

La mise en œuvre rapide de ces actions est cruciale pour maintenir la sécurité et la performance opérationnelle des moteurs A220.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 78",nc_label:"Fan blade imbalance",nc_scenario_id:"ATA-80-c6ef1e5714586b15",nc_event_seed:1198,nc_event_date:"2024-11-03 21:50:58.375000+00:00",nc_event_id:"ATA-80-c6ef1e5714586b15-3b92",analysis_history:{"000":[{date:"2024-11-03T21:50:58.375Z",role:"Quality Controler",observation:"Visual inspection revealing uneven blade during",name:"Julien Tremblay",description:"Upon conducting a thorough visual inspection of the fan blades, it has been observed that there is a notable unevenness in the blade structure. This irregularity raises significant concerns regarding the potential imbalance that may affect the overall performance of the engine. The specific blades in question are part number 782815 with serial FB-360738 and part number 143436 with serial FB-180143, both supplied by BladeCo. The inspection revealed that the blades do not conform to the expected uniformity standards, which could lead to detrimental effects on engine operation. Immediate attention is required to assess the extent of this imbalance and to implement corrective measures to mitigate any potential risks associated with this non-conformity.",style:"verbose",label:"Fan Blade Imbalance Detected"}],100:[{date:"2024-11-04T09:15:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Review of report 000. Noted imbalance in blades 782815 and 143436 from BladeCo. Material inconsistency leads to uneven density. Need to assess impact on engine performance. Recommend further inspection of blade distribution and weight.",style:"not fully fluent",label:"Initial Analysis of Fan Blade Imbalance"},{date:"2024-11-04T11:30:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Evaluate potential electrical system issues due to fan blade imbalance. Check for any abnormal readings or alerts in engine control systems. Recommend monitoring data from in-flight tests for anomalies.",style:"not fully fluent",label:"Electrical System Impact Assessment"},{date:"2024-11-04T14:00:00.000Z",role:"Design Office Expert Hydro",name:"Louis Boucher",description:"Analyze hydraulic systems related to fan operation. Imbalance may affect hydraulic pressure and flow. Recommend testing hydraulic response during engine operation to ensure stability.",style:"not fully fluent",label:"Hydraulic System Review"},{date:"2024-11-04T16:45:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Request for detailed inspection data on fan blades. Need specifics on measurement methods and results. This will help in understanding extent of imbalance and guide further analysis.",style:"not fully fluent",label:"Provide Additional Data"},{date:"2024-11-05T10:00:00.000Z",role:"Design Office",name:"Marc Dupuis",description:"Based on inputs from experts and QC. Recommend immediate replacement of imbalanced blades. Implement monitoring protocols for future inspections. Focus on maintaining uniformity in blade production to avoid recurrence.",style:"not fully fluent",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2024-11-06T11:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:"Review of analysis regarding fan blade imbalance. Noted material inconsistency from supplier BladeCo leading to uneven density. Recommended immediate replacement of blades 782815 and 143436 to prevent engine performance issues. Implement monitoring protocols for future inspections to ensure uniformity in production. Emphasize need for thorough inspection methods to detect imbalances early. Focus on reducing operational costs and downtime through proactive measures.",style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-11-06T12:30:00.000Z",role:"Stress Office",name:"Alexandre Lavoie",description:"Conducted stress calculations on fan blades 782815 and 143436. Found significant impact on structural integrity due to material inconsistency. Imbalance leads to uneven load distribution, risking potential failure during operation. Recommend immediate replacement of affected blades. Further analysis needed on potential effects on engine mounting and overall aircraft stability.",style:"not fully fluent",label:"Initial Stress Analysis of Fan Blade Imbalance"},{date:"2024-11-06T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Requested detailed specifications of blade materials and manufacturing processes from BladeCo. Need data on density variations and tolerances to support stress analysis. This information is critical to understand the full impact of the imbalance on engine performance.",style:"not fully fluent",label:"Provide Additional Data for Stress Analysis"},{date:"2024-11-07T09:00:00.000Z",role:"Stress Office",name:"Alexandre Lavoie",description:"Received material specifications from Quality Control. Analyzed data and confirmed that density variations exceed acceptable limits. This confirms previous findings of structural risk. Recommend immediate corrective actions to replace blades and implement stricter quality checks on supplier materials.",style:"not fully fluent",label:"Follow-up on Additional Data"},{date:"2024-11-07T11:30:00.000Z",role:"Stress Office",name:"Alexandre Lavoie",description:`Final stress analysis completed. Key findings:
- Material inconsistency from BladeCo confirmed as primary cause of imbalance.
- Immediate replacement of blades 782815 and 143436 is critical to prevent engine failure.
- Recommend implementing a monitoring system for future blade inspections to ensure uniformity.
- Suggest collaboration with BladeCo to improve material quality control processes.
- Emphasize need for ongoing monitoring of engine performance post-replacement to ensure stability.`,style:"not fully fluent",label:"Final Recommendations Based on Stress Analysis"}],400:[{date:"2024-11-08T10:15:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`Following stress calculations on fan blades 782815 and 143436, significant structural risks confirmed due to material inconsistency from BladeCo. 

- Immediate replacement of imbalanced blades is essential to prevent potential engine failure.
- Recommend implementing a robust monitoring system for future inspections to ensure uniformity in blade production.
- Collaboration with BladeCo is crucial to enhance material quality control processes.
- Ongoing monitoring of engine performance post-replacement is necessary to ensure stability and operational safety.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-11-09T14:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale

**Contexte :**
La non-conformité des pales de ventilateur, identifiées par les numéros de pièce 782815 et 143436, est due à une incohérence matérielle provenant du fournisseur BladeCo. Cette incohérence entraîne un déséquilibre qui affecte la performance du moteur.

**Causes :**
- **Externe :** Défaut de matériau du fournisseur BladeCo, causant une distribution de densité inégale.
- **Interne :** Absence de protocoles de surveillance rigoureux lors de la réception des matériaux.

**Impact :**
- Risque accru de défaillance du moteur.
- Coûts de réparation estimés à 100 000 $.
- Temps d'arrêt de 20 heures et retard potentiel de service pour 10 avions.

### Recommandations

1. **Remplacement immédiat** des pales déséquilibrées pour éviter des dommages supplémentaires au moteur.
2. **Mise en place d'un système de surveillance** pour les inspections futures, garantissant l'uniformité de la production des pales.
3. **Collaboration avec BladeCo** pour améliorer les processus de contrôle qualité des matériaux.
4. **Surveillance continue** des performances du moteur après remplacement pour assurer la stabilité et la sécurité opérationnelle.

### Plan d'Action
- **Court Terme :**
 - Remplacer les pales affectées.
 - Effectuer des tests de performance post-remplacement.
- **Moyen Terme :**
 - Développer un protocole de contrôle qualité renforcé avec BladeCo.
 - Intégrer des vérifications de densité dans les processus de réception des matériaux.
- **Long Terme :**
 - Établir une collaboration continue avec BladeCo pour garantir la qualité des matériaux.
 - Réduire les coûts opérationnels par la prévention proactive des déséquilibres.

### Conclusion
La mise en œuvre de ces recommandations est essentielle pour maintenir la navigabilité et la fiabilité des moteurs, tout en minimisant les coûts et les délais de production. Une approche proactive et collaborative avec le fournisseur est cruciale pour éviter la récurrence de ce type de non-conformité.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 56",nc_label:"Paint and used adhesion failure",nc_scenario_id:"ATA-56-722b6e0c88db2154",nc_event_seed:26954,nc_event_date:"2021-11-26 17:50:57.452000+00:00",nc_event_id:"ATA-56-722b6e0c88db2154-2fa0",analysis_history:{"000":[{date:"2021-11-26T17:50:57.452Z",role:"Quality Controler",observation:"Adhesion tests during quality control procedures",name:"Émile Tremblay",description:`During the quality control procedures, adhesion tests were conducted on the paint applied to the A220 aircraft. The results indicated a failure in adhesion, suggesting potential issues with the surface preparation prior to painting. Specific observations noted include:

- Inconsistent adhesion results across multiple test samples.
- Visual indications of poor bonding between paint and primer layers.
- Areas of concern primarily located on the PNT-A220 component with serial number PAINT598312.

Immediate attention required to investigate the root cause and implement corrective actions.`,style:"verbose",label:"Adhesion Test Failure on A220"}],100:[{date:"2021-11-26T18:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`- Review adhesion test results from Quality Control report.
- Identify root cause: inadequate surface preparation.
- Assess impact on corrosion protection and aesthetics.
- Recommend immediate investigation into surface cleaning protocols.
- Suggest conducting additional adhesion tests on other units to confirm prevalence.`,style:"skills limits",label:"Initial Analysis of Adhesion Failure"}],200:[{date:"2021-11-27T10:15:00.000Z",role:"Design Manager",name:"Marc Gagné",description:`- Review of adhesion failure analysis from Design Office.
- Confirmed root cause: inadequate surface preparation.
- Internal factors: insufficient training on surface prep protocols.
- External factors: potential supplier quality issues with paint materials.
- Recommended actions:
 - Immediate review of surface cleaning procedures.
 - Implement training sessions for personnel on proper preparation techniques.
 - Conduct further adhesion tests on A220 units in similar climate conditions.
- Emphasize importance of addressing these issues to prevent corrosion and maintain aesthetics.
- No structural impact assumptions at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-27T12:30:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`### Résultats de l'Analyse de Stress

- **Modélisation** : Utilisation de MATLAB pour simuler les impacts de la non-conformité sur la structure de l'A220.
- **Analyse des Effets** : Les tests de stress ont montré que la défaillance d'adhésion pourrait entraîner des zones de faiblesse structurelle, augmentant le risque de corrosion et compromettant la durabilité de la peinture.
- **Causes Identifiées** :
 - **Internes** : Formation insuffisante des opérateurs sur les protocoles de préparation de surface.
 - **Externes** : Problèmes potentiels de qualité des matériaux fournis par Paint Solutions Ltd.

### Recommandations

1. **Revue des Procédures de Préparation** : Mettre à jour les protocoles de nettoyage de surface pour garantir une adhésion adéquate.
2. **Formation** : Organiser des sessions de formation pour le personnel sur les meilleures pratiques de préparation de surface.
3. **Tests Additionnels** : Effectuer des tests d'adhésion sur d'autres unités A220 dans des conditions climatiques similaires pour évaluer l'étendue du problème.
4. **Suivi des Fournisseurs** : Évaluer la qualité des matériaux fournis par Paint Solutions Ltd. et envisager des alternatives si nécessaire.

### Plan d'Action Consolidé
- **Priorité** : Élevée, en raison des implications sur la sécurité et la performance de l'A220.
- **Délai** : Actions à initier dans les 48 heures pour éviter des coûts de réparation futurs estimés à 25,000 $ par aéronef.`,style:"skills limits",label:"Calculs de Stress et Analyse de la Non-Conformité"}],400:[{date:"2021-11-28T14:30:00.000Z",role:"Stress Manager",name:"Louis Gagnon",description:`### Analysis and Recommendations

- **Validation of Stress Calculations**: Reviewed stress analysis results indicating potential structural weaknesses due to adhesion failure.
- **Impact Assessment**: Confirmed that inadequate surface preparation can lead to corrosion and aesthetic degradation, affecting long-term durability of A220.
- **Action Plan**:
 1. **Surface Preparation Review**: Update cleaning protocols to ensure proper adhesion.
 2. **Training Implementation**: Conduct training sessions for personnel on surface prep best practices.
 3. **Additional Testing**: Perform adhesion tests on other A220 units in similar climates to assess the extent of the issue.
 4. **Supplier Quality Evaluation**: Investigate Paint Solutions Ltd. for material quality and consider alternatives if necessary.
- **Conclusion**: Immediate actions required to mitigate risks of corrosion and ensure aesthetic integrity. Prioritize implementation within 48 hours to prevent estimated repair costs of $25,000 per aircraft.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-29T17:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale et Recommandations

**Contexte :**
- Non-conformité détectée sur l'adhésion de la peinture pour l'A220, causée par une préparation de surface inadéquate.
- Impact potentiel sur la protection contre la corrosion et l'esthétique, avec un coût de réparation estimé à 25,000 $ par aéronef.

**Causes Identifiées :**
- **Internes :**
 - Formation insuffisante des opérateurs sur les protocoles de préparation de surface.
 - Erreurs potentielles dans l'application des procédures de nettoyage.
- **Externes :**
 - Problèmes de qualité des matériaux fournis par Paint Solutions Ltd.

**Plan d'Action :**
1. **Revue des Procédures de Préparation :**
 - Mettre à jour et standardiser les protocoles de nettoyage de surface.
 - Assurer une documentation claire et accessible pour tous les opérateurs.

2. **Formation :**
 - Organiser des sessions de formation immédiates pour le personnel sur les meilleures pratiques de préparation de surface.
 - Inclure des modules sur la détection précoce des défauts d'adhésion.

3. **Tests Additionnels :**
 - Effectuer des tests d'adhésion sur d'autres unités A220 dans des conditions climatiques similaires.
 - Utiliser des méthodes de détection rapide pour identifier les défauts potentiels.

4. **Évaluation des Fournisseurs :**
 - Auditer Paint Solutions Ltd. pour évaluer la qualité des matériaux fournis.
 - Envisager des alternatives si les problèmes de qualité persistent.

**Synthèse :**
- Les actions doivent être initiées dans les 48 heures pour éviter des coûts supplémentaires et garantir la navigabilité et la conformité des aéronefs.
- Priorité élevée pour assurer la sécurité et la performance de l'A220.

**Conclusion :**
- La mise en œuvre rapide de ces mesures est cruciale pour maintenir la fiabilité et l'intégrité esthétique des aéronefs. La collaboration entre les équipes de production, de qualité et les fournisseurs est essentielle pour résoudre cette non-conformité de manière efficace.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 73",nc_label:"Fuel injector clogging",nc_scenario_id:"ATA-73-82e7e0c18528f8b7",nc_event_seed:27081,nc_event_date:"2021-11-21 10:50:58.130000+00:00",nc_event_id:"ATA-73-82e7e0c18528f8b7-3a61",analysis_history:{"000":[{date:"2021-11-21T10:50:58.130Z",role:"Quality Controler",observation:"Performance tests using reduced engine efficiency",name:"Julien Tremblay",description:`Report regarding observation of non-conformity.

- Performance tests show reduced engine efficiency.
- Specific issues noted with fuel injectors.
- Potential blockage observed in injector part number FJ72-73-01, serial SN-125699 from supplier Global Fuel Systems Inc.
- Immediate concern for engine performance and reliability.`,style:"not fully fluent",label:"Engine Efficiency Reduction Issue"}],100:[{date:"2021-11-21T11:30:00.000Z",role:"Design Office",name:"Marc Dupuis",description:`Analysis initiated based on report 000. Observed fuel injector blockage. 

Primary cause identified: impurities in fuel manufacturing process. 

Inadequate cleaning procedures noted. Lack of routine inspections during assembly contributing to issue. 

Recommendation: Immediate review of cleaning protocols and inspection routines.`,style:"elusive",label:"Initial Analysis of Non-Conformity"},{date:"2021-11-21T12:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Request for detailed information on electrical systems related to fuel injector operation. 

Need to understand potential electrical faults that may exacerbate injector performance issues. 

Awaiting response from Quality Controler.`,style:"elusive",label:"Request for Additional Data on Electrical Systems"},{date:"2021-11-21T13:15:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided detailed specifications of electrical systems. 

Confirmed no known electrical faults reported in recent inspections. 

Emphasized focus on mechanical aspects of fuel injectors. 

Recommended further investigation into cleaning procedures.`,style:"verbose",label:"Response to Additional Data Request"},{date:"2021-11-22T09:00:00.000Z",role:"Design Office",name:"Marc Dupuis",description:`Consolidated findings from previous analyses. 

Confirmed blockage in injector part number FJ72-73-01. 

Action Plan: 
1. Immediate implementation of enhanced cleaning protocols. 
2. Establish routine inspection schedule for fuel injectors. 
3. Monitor injector performance post-implementation to ensure effectiveness.`,style:"elusive",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2021-11-23T10:30:00.000Z",role:"Design Manager",name:"Émile Bouchard",description:`### Analysis Summary:
- Fuel injector blockage identified (part FJ72-73-01, SN-125699).
- Primary cause: impurities in fuel manufacturing process.
- Inadequate cleaning procedures and lack of inspections noted.

### Action Plan:
1. Implement enhanced cleaning protocols immediately.
2. Establish routine inspection schedule for fuel injectors.
3. Monitor injector performance post-implementation.

### Final Recommendation:
- Validate the proposed action plan to ensure compliance with A220 engine cleanliness standards.
- Focus on mitigating risks associated with engine performance and reliability.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-11-23T12:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Résultats de l'Analyse de Stress:
- Modélisation effectuée sur la structure liée aux injecteurs de carburant.
- Impact de la obstruction sur la performance de l'injecteur FJ72-73-01 évalué.
- Aucune déformation structurelle significative observée, mais des ajustements recommandés pour maintenir l'intégrité.

### Recommandations:
1. **Renforcer les protocoles de nettoyage** : Assurer une élimination complète des impuretés.
2. **Inspection régulière** : Établir un calendrier de vérification pour les injecteurs afin de prévenir l'accumulation de contaminants.
3. **Suivi des performances** : Mettre en place un système de surveillance pour détecter rapidement toute anomalie.

### Demande d'Informations Complémentaires:
- Nécessité d'évaluer les matériaux utilisés dans le processus de fabrication pour identifier d'éventuelles faiblesses.`,style:"elusive",label:"Calcul de Stress et Analyse de la Structure"},{date:"2021-11-24T09:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Réponse à la Demande:
- Les matériaux utilisés dans la fabrication des injecteurs ont été vérifiés.
- Aucun défaut de matériau signalé dans les dernières inspections.
- Les processus de nettoyage actuels sont en cours de révision pour s'assurer de leur efficacité.

### Prochaines Étapes:
- Attendre les résultats des ajustements de nettoyage avant de procéder à des tests supplémentaires.`,style:"verbose",label:"Réponse à la Demande d'Informations Complémentaires"},{date:"2021-11-25T10:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Analyse Finale:
- Les recommandations précédentes ont été intégrées dans le plan d'action.
- Validation des mesures de nettoyage et d'inspection en cours.

### Plan d'Action Consolidé:
1. **Implémentation des Protocoles de Nettoyage** : Mise en œuvre immédiate des nouveaux protocoles.
2. **Établissement d'un Calendrier d'Inspection** : Début des inspections régulières dès la semaine prochaine.
3. **Surveillance Continue des Performances** : Système de suivi à mettre en place pour garantir l'efficacité des injecteurs.

### Conclusion:
- Les actions proposées visent à garantir la navigabilité et la fiabilité des injecteurs de carburant, minimisant ainsi les risques de non-conformité.`,style:"elusive",label:"Analyse Finale et Validation des Recommandations"}],400:[{date:"2021-11-26T11:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Stress Analysis Summary:
- Comprehensive review of the stress impact related to fuel injector FJ72-73-01.
- No significant structural deformation observed, but adjustments necessary to maintain integrity.

### Action Plan Validation:
1. **Enhanced Cleaning Protocols**: Immediate implementation confirmed.
2. **Routine Inspection Schedule**: Established and initiated.
3. **Performance Monitoring System**: In place to detect anomalies.

### Final Recommendations:
- Continuous monitoring of injector performance is critical to ensure compliance with cleanliness standards.
- Further evaluation of manufacturing materials may be necessary if issues persist.
- Ensure all teams are aligned on the updated protocols to mitigate risks effectively.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-27T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale et Recommandation

#### Contexte et Causes
- **Non-conformité**: Obstruction des injecteurs de carburant (FJ72-73-01, SN-125699).
- **Causes Primaires**: 
 - **Internes**: Procédures de nettoyage inadéquates, absence d'inspections régulières.
 - **Externes**: Impuretés provenant du processus de fabrication du carburant.

#### Impact et Risques
- **Performance**: Réduction de l'efficacité du moteur, risque d'arrêt en vol.
- **Coût**: Jusqu'à $500,000 en raison des temps d'arrêt et des pièces de rechange.
- **Sécurité**: Risque accru de défaillance moteur si non traité.

#### Plan d'Action
1. **Protocoles de Nettoyage Renforcés**: Mise en œuvre immédiate pour éliminer les impuretés.
2. **Calendrier d'Inspection**: Inspections régulières pour prévenir l'accumulation de contaminants.
3. **Surveillance des Performances**: Système de suivi pour détecter rapidement les anomalies.

#### Recommandation Finale
- **Conformité**: Assurer le respect des normes de propreté des moteurs A220.
- **Suivi Continu**: Surveillance continue des performances des injecteurs pour garantir la fiabilité.
- **Évaluation Matérielle**: Réévaluer les matériaux de fabrication si les problèmes persistent.
- **Alignement Équipe**: Assurer que toutes les équipes sont informées et suivent les protocoles mis à jour.

En conclusion, les actions proposées visent à garantir la navigabilité et la fiabilité des injecteurs de carburant, tout en minimisant les risques de non-conformité et les coûts associés.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 80",nc_label:"Engine overheating detected high demand phase",nc_scenario_id:"ATA-80-99d2eca67f6063a5",nc_event_seed:20554,nc_event_date:"2022-08-20 09:50:58.357000+00:00",nc_event_id:"ATA-80-99d2eca67f6063a5-8a5a",analysis_history:{"000":[{date:"2022-08-20T09:50:58.357Z",role:"Quality Controler",observation:"benchmark alarms Spike during pressure readings",name:"Julien Tremblay",description:"Observation of benchmark alarms indicating spikes during pressure readings. This anomaly may correlate with engine overheating issues. Initial inspection of engine cooling ducts (Part Number: COOL-9021, Serial: A220-CLD-27271, Supplier: FlowDynamics Systems) shows potential obstruction. Further investigation required to assess airflow impact on engine performance.",style:"verbose",label:"Pressure Reading Anomalies Detected"}],100:[{date:"2022-08-20T10:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Analyzed the report from Quality Controler. 

- Cooling ducts (Part Number: COOL-9021) show potential obstruction. 
- Airflow tuning inaccuracies identified as primary cause of overheating. 
- Recommend immediate inspection of duct assembly to ensure no further obstructions. 
- Need to assess airflow metrics for recalibration.`,style:"skills limits",label:"Initial Analysis of Cooling Duct Obstruction"},{date:"2022-08-20T11:15:00.000Z",role:"Design Office Expert Hydro",name:"Marie-Claude Dupuis",description:`Requesting detailed flow analysis of engine cooling ducts. 

- Need to confirm airflow rates and pressure differentials. 
- Essential to determine if current duct design meets operational requirements. 
- Analysis will inform recalibration metrics.`,style:"skills limits",label:"Request for Flow Analysis"},{date:"2022-08-21T09:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Reviewed results from flow analysis. 

- Confirmed significant airflow obstruction due to assembly misalignment. 
- Recommend corrective action: realignment of cooling ducts. 
- Suggest scheduled maintenance to prevent recurrence of overheating.`,style:"skills limits",label:"Review of Flow Analysis Results"},{date:"2022-08-21T10:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Validated recommendations from Design Office. 

- Confirmed need for duct realignment and scheduled maintenance. 
- Will monitor for any further anomalies during next inspection cycle.`,style:"skills limits",label:"Validation of Recommendations"}],200:[{date:"2022-08-22T12:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`Analysis confirmed airflow obstruction due to duct misalignment. 

- Immediate action: realignment of cooling ducts (Part Number: COOL-9021). 
- Scheduled maintenance recommended to prevent recurrence of overheating. 
- Monitoring for further anomalies essential during next inspection cycle. 
- Ensure recalibration of airflow metrics post-correction. 
- No structural impacts assumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-08-23T09:00:00.000Z",role:"Stress Office",name:"Léa Fortin",description:`Analyse des impacts de la réalignement des conduits de refroidissement (Part Number: COOL-9021) sur la structure de l'A220.

- **Méthodologie** : Modélisation des conduits de refroidissement en utilisant MATLAB pour évaluer les contraintes et déformations.
- **Résultats** : Les calculs montrent que la réalignement des conduits améliore significativement l'écoulement d'air, réduisant ainsi le risque de surchauffe. Aucune déformation structurelle significative n'a été observée.
- **Recommandations** :
 - Procéder à la réalignement des conduits de refroidissement sans délai.
 - Effectuer une inspection post-réalignement pour valider les résultats des calculs.
 - Recalibrer les métriques d'écoulement d'air après correction.
 - Continuer à surveiller les anomalies de température lors des cycles de maintenance programmés.

- **Besoin d'informations complémentaires** : Aucune demande supplémentaire n'est nécessaire à ce stade.`,style:"skills limits",label:"Calculs de Stress et Analyse de la Structure"},{date:"2022-08-23T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Validation des recommandations du Stress Office concernant la réalignement des conduits de refroidissement.

- **Observations** : Les résultats des calculs de stress sont conformes aux attentes. La structure de l'A220 reste intacte après les modifications proposées.
- **Plan d'Action** :
 - Confirmer la mise en œuvre des recommandations du Stress Office.
 - Documenter les résultats de l'inspection post-réalignement dans le rapport de maintenance.
 - Assurer le suivi des anomalies de température dans les prochains cycles de maintenance.`,style:"skills limits",label:"Validation des Résultats de l'Analyse de Stress"},{date:"2022-08-23T11:00:00.000Z",role:"Stress Office",name:"Léa Fortin",description:`Finalisation du rapport d'analyse de stress et recommandations pour le suivi.

- **Résumé des Calculs** : La réalignement des conduits de refroidissement a été validée sans impact structurel.
- **Recommandations Finales** :
 - Mise en œuvre immédiate des actions correctives.
 - Surveillance continue des performances des conduits de refroidissement.
 - Réévaluation des métriques d'écoulement d'air après la correction.

- **Conclusion** : Les actions recommandées garantiront la navigabilité et la performance de l'A220 tout en minimisant les coûts de maintenance futurs.`,style:"skills limits",label:"Finalisation du Rapport d'Analyse de Stress"}],400:[{date:"2022-08-24T09:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`Analysis of the realignment of cooling ducts (Part Number: COOL-9021) confirmed by stress calculations.

- **Findings**: No structural impacts observed; airflow significantly improved post-correction.
- **Action Plan**:
 - Proceed with immediate realignment of ducts.
 - Schedule post-alignment inspection to validate airflow metrics.
 - Continuous monitoring of temperature anomalies during maintenance cycles.
- **Conclusion**: Recommended actions will enhance engine performance and mitigate overheating risks.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-08-25T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale

**Contexte et Causes**
- **Interne** : L'obstruction des conduits de refroidissement (Numéro de pièce : COOL-9021) est principalement due à un mauvais alignement lors de l'assemblage. Cela a entraîné une mauvaise calibration du flux d'air, exacerbant les problèmes de surchauffe.
- **Externe** : Aucun défaut fournisseur ou facteur environnemental n'a été identifié comme cause contributive.

**Impact**
- La surchauffe peut entraîner une dilatation thermique excessive, réduisant l'efficacité et augmentant les coûts de maintenance (estimés à 40,000 $).
- Risques potentiels pour la navigabilité en cas de non-traitement.

### Plan d'Action
1. **Réalignement Immédiat** : Procéder à la réalignement des conduits de refroidissement pour restaurer un flux d'air optimal.
2. **Recalibration** : Ajuster les métriques de flux d'air post-correction pour assurer la précision des mesures.
3. **Inspection Post-Action** : Effectuer une inspection détaillée après réalignement pour valider les résultats.
4. **Surveillance Continue** : Mettre en place un suivi rigoureux des anomalies de température lors des cycles de maintenance programmés.

### Recommandation Finale
- **Efficacité Temporelle** : Optimiser les étapes d'analyse et de détection pour minimiser les délais de production.
- **Réduction des Coûts** : Prioriser les actions correctives pour éviter des réparations coûteuses à long terme.
- **Pertinence Industrielle** : Assurer que toutes les actions sont conformes aux normes de l'industrie aéronautique pour garantir la navigabilité et la fiabilité de l'A220.

Les actions recommandées garantiront la performance optimale du moteur et minimiseront les risques de surchauffe futurs.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 72",nc_label:"Incorrect torque application on engine bolts",nc_scenario_id:"ATA-72-ca9e8883c645efef",nc_event_seed:27645,nc_event_date:"2021-10-28 22:50:58.073000+00:00",nc_event_id:"ATA-72-ca9e8883c645efef-1a9d",analysis_history:{"000":[{date:"2021-10-28T22:50:58.073Z",role:"Quality Controler",observation:"Verification of torque readings during quality checks",name:"Julien Tremblay",description:`Report regarding the non-conformity observation:
- Inconsistencies noted in torque readings during final quality checks.
- Affected assembly: Bolt part number BLT-72-3500, serial SN418801 from supplier BoltSecure Inc.
- Potential risk of improper torque application leading to structural integrity issues.`,style:"concise and precise",label:"Torque Reading Verification Issue"}],100:[{date:"2021-10-29T09:15:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Upon reviewing the report submitted by the Quality Controller regarding the torque reading inconsistencies, it is evident that the primary cause is linked to operator error stemming from inadequate calibration of the torque wrench. This miscalibration can lead to both under-torqued and over-torqued bolts, which poses a significant risk to the structural integrity of the engine assembly. 

In particular, the affected assembly, identified as Bolt part number BLT-72-3500, serial SN418801 from supplier BoltSecure Inc., requires immediate attention. The improper application of torque can result in loosening or fracturing of the bolts, potentially leading to catastrophic failures such as engine detachment during flight. 

To mitigate these risks, I recommend the following actions: 
1. Immediate retorque of all affected assemblies to ensure proper torque specifications are met. 
2. Validation of torque readings through a secondary verification process involving calibrated tools. 
3. Implementation of a training session for operators focusing on the importance of torque calibration and verification. 
4. Regular audits of torque application processes to ensure ongoing compliance and to identify any further discrepancies.`,style:"verbose",label:"Initial Analysis of Torque Reading Verification Issue"},{date:"2021-10-29T11:30:00.000Z",role:"Design Office Expert Elec",name:"Marie-Claude Fortin",description:`In order to proceed with a comprehensive analysis of the torque reading verification issue, I require further details regarding the current calibration procedures for the torque wrenches utilized by the operators. Specifically, I need information on: 
- The frequency of calibration checks performed on the torque wrenches. 
- The specific calibration standards being followed. 
- Any historical data on torque discrepancies noted in previous quality checks. 

This information is crucial to understand the extent of the calibration issues and to develop a more effective mitigation plan.`,style:"verbose",label:"Request for Additional Information on Torque Calibration Procedures"},{date:"2021-10-29T14:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`In response to the request for additional information regarding the torque calibration procedures, I have compiled the following details: 
- Calibration checks on the torque wrenches are performed bi-annually. 
- The calibration standards adhered to are based on the manufacturer’s specifications, which include a range of torque settings for different applications. 
- Historical data indicates that torque discrepancies have been reported in approximately 3% of final quality checks over the past year, with no significant trends identified. 

This information should assist in the ongoing analysis and help in refining the mitigation strategies proposed.`,style:"verbose",label:"Response to Additional Information Request"},{date:"2021-10-30T10:45:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`After reviewing the additional information provided by the Quality Controller, I have refined the initial analysis and recommendations. The calibration frequency of bi-annually is insufficient given the critical nature of torque application in engine assemblies. 

Therefore, I propose the following consolidated action plan: 
1. Immediate retorque of all affected assemblies, ensuring compliance with specified torque values. 
2. Establish a monthly calibration check for torque wrenches to enhance reliability. 
3. Develop a comprehensive training program for all operators focusing on torque application and the importance of proper calibration. 
4. Implement a tracking system for torque discrepancies to identify patterns and prevent future occurrences. 
5. Schedule quarterly audits of torque application processes to ensure adherence to the new standards. 

These actions aim to significantly reduce the risk of improper torque application and enhance the overall safety of the engine assemblies.`,style:"verbose",label:"Consolidated Analysis and Final Recommendations"}],200:[{date:"2021-10-31T12:30:00.000Z",role:"Design Manager",name:"Marc-Antoine Gagné",description:`### Analysis Summary
The torque reading verification issue has been identified primarily due to operator error linked to inadequate calibration of torque wrenches. This miscalibration can lead to both under-torqued and over-torqued bolts, posing a risk to engine assembly integrity.

### Action Plan
1. Immediate retorque of all affected assemblies to meet specified torque values.
2. Implement monthly calibration checks for torque wrenches to enhance reliability.
3. Develop a training program for operators on torque application and calibration importance.
4. Establish a tracking system for torque discrepancies to identify patterns.
5. Schedule quarterly audits of torque application processes for compliance.

### Recommendation
Proceed with the proposed action plan to mitigate risks associated with improper torque application. Ensure all measures are documented and monitored for effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-10-31T14:00:00.000Z",role:"Stress Office",name:"Émile Boucher",description:`### Stress Analysis Results
After conducting stress calculations on the affected assembly (Bolt part number BLT-72-3500, serial SN418801), the following findings were noted:

- **Torque Application Impact**: The improper torque application has been modeled to assess its impact on the structural integrity of the engine assembly. Both under-torqued and over-torqued conditions were simulated.
- **Structural Integrity**: Results indicate that under-torqued bolts may lead to increased risk of loosening under operational loads, while over-torqued bolts may introduce undue stress concentrations, potentially leading to bolt failure.
- **Safety Margin**: Current safety margins are compromised under both scenarios, necessitating immediate corrective actions.

### Recommendations
1. **Immediate Retorque**: All affected assemblies must be re-torqued to specified values as per the manufacturer's guidelines.
2. **Enhanced Monitoring**: Implement a real-time monitoring system for torque application during assembly processes to prevent future discrepancies.
3. **Calibration Protocol**: Establish a rigorous calibration protocol for torque wrenches, increasing frequency to monthly checks.
4. **Training Sessions**: Conduct mandatory training for all operators on torque application and the importance of proper calibration to ensure compliance.
5. **Documentation**: Maintain detailed records of torque applications and any discrepancies noted during quality checks for future reference.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2021-10-31T16:00:00.000Z",role:"Stress Office Expert",name:"Sophie Lemieux",description:`### Request for Additional Data
To further refine the stress analysis and ensure comprehensive evaluation, I require the following information:
- **Historical Torque Data**: Detailed records of torque applications for the affected assembly over the past year.
- **Operational Load Conditions**: Information on the typical operational load conditions experienced by the engine assembly during flight.
- **Supplier Specifications**: Any additional specifications or guidelines provided by BoltSecure Inc. regarding the assembly and torque application.`,style:"concise and precise",label:"Request for Additional Information"},{date:"2021-10-31T18:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Response to Additional Data Request
I have compiled the requested information regarding the torque applications and operational conditions:
- **Historical Torque Data**: Records indicate that torque applications for the affected assembly have been within specified limits 97% of the time, with discrepancies noted in 3% of final quality checks.
- **Operational Load Conditions**: The engine assembly typically experiences peak loads of up to 150% of the nominal torque during critical flight maneuvers.
- **Supplier Specifications**: BoltSecure Inc. specifies a torque range of 50-60 Nm for the affected bolts, with a tolerance of ±5 Nm.`,style:"concise and precise",label:"Response to Additional Information Request"},{date:"2021-11-01T09:00:00.000Z",role:"Stress Office",name:"Émile Boucher",description:`### Final Stress Analysis Results
Based on the additional data received, the stress analysis has been updated:

- **Torque Application Compliance**: The historical data confirms that while 97% of torque applications were compliant, the 3% discrepancies pose a significant risk under peak operational loads.
- **Revised Safety Margins**: With the operational load conditions considered, the safety margins remain insufficient for both under-torqued and over-torqued scenarios.

### Consolidated Recommendations
1. **Immediate Retorque**: All affected assemblies must be re-torqued to fall within the specified range of 50-60 Nm.
2. **Torque Monitoring System**: Implement a torque monitoring system to ensure real-time compliance during assembly.
3. **Monthly Calibration Checks**: Increase the frequency of torque wrench calibrations to monthly checks.
4. **Operator Training**: Conduct training sessions focusing on the critical nature of torque application and verification processes.
5. **Torque Discrepancy Tracking**: Establish a system to track and analyze torque discrepancies to identify patterns and prevent future occurrences.
6. **Quarterly Audits**: Schedule quarterly audits of torque application processes to ensure compliance with the new standards.`,style:"concise and precise",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-11-02T10:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`### Analysis Summary
The stress analysis has confirmed that torque discrepancies pose a significant risk to the structural integrity of the affected assembly (Bolt part number BLT-72-3500, serial SN418801). Both under-torqued and over-torqued conditions compromise safety margins under operational loads.

### Action Plan
1. **Immediate Retorque**: All affected assemblies must be re-torqued to the specified range of 50-60 Nm.
2. **Torque Monitoring System**: Implement a real-time monitoring system to ensure compliance during assembly processes.
3. **Monthly Calibration Checks**: Increase the frequency of torque wrench calibrations to monthly checks to enhance reliability.
4. **Operator Training**: Conduct mandatory training sessions for operators on the importance of proper torque application and calibration.
5. **Torque Discrepancy Tracking**: Establish a tracking system for torque discrepancies to identify patterns and prevent future occurrences.
6. **Quarterly Audits**: Schedule quarterly audits of torque application processes to ensure ongoing compliance with the new standards.

### Recommendation
Proceed with the proposed action plan to mitigate risks associated with improper torque application. Ensure all measures are documented and monitored for effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-11-03T15:45:00.000Z",role:"Quality Manager",name:"Philippe Bouchard",description:`### Analyse des Causes
L'analyse a révélé que les erreurs de couple sont principalement dues à des erreurs d'opérateur liées à une calibration inadéquate des clés dynamométriques (cause interne). Les défauts de couple peuvent entraîner des risques structurels importants, compromettant la navigabilité. Les causes externes, telles que des défauts de fournisseur, n'ont pas été identifiées dans ce cas.

### Plan d'Action
1. **Retorque Immédiat**: Tous les assemblages affectés doivent être retorqués dans la plage spécifiée de 50-60 Nm.
2. **Système de Surveillance du Couple**: Mettre en place un système de surveillance en temps réel pour garantir la conformité pendant les processus d'assemblage.
3. **Vérifications Mensuelles de Calibration**: Augmenter la fréquence des calibrations des clés dynamométriques à des vérifications mensuelles pour améliorer la fiabilité.
4. **Formation des Opérateurs**: Organiser des sessions de formation obligatoires pour les opérateurs sur l'importance de l'application correcte du couple et de la calibration.
5. **Suivi des Discrépances de Couple**: Établir un système de suivi pour les discrépances de couple afin d'identifier les schémas et prévenir les occurrences futures.
6. **Audits Trimestriels**: Programmer des audits trimestriels des processus d'application du couple pour assurer la conformité continue aux nouvelles normes.

### Recommandation Finale
Procéder avec le plan d'action proposé pour atténuer les risques associés à l'application incorrecte du couple. Documenter et surveiller toutes les mesures pour en assurer l'efficacité. Prioriser les actions ayant un impact direct sur la navigabilité et la réduction des coûts de production.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 79",nc_label:"Engine mount bolt torque variance leading to vibration",nc_scenario_id:"ATA-79-083ce9bdf290d8be",nc_event_seed:31078,nc_event_date:"2021-06-07 21:50:58.250000+00:00",nc_event_id:"ATA-79-083ce9bdf290d8be-71ac",analysis_history:{"000":[{date:"2021-06-07T21:50:58.250Z",role:"Quality Controler",observation:"Manual torque verification checks indicating discrepancies",name:"Julien Tremblay",description:"This report outlines the observations related to the non-conformity identified during the manual torque verification checks. It has been noted that there are significant discrepancies in the torque applied to the engine mount bolts, specifically for the part number ENG-MNT-BLT-4506 with serial number EMB-19626, supplied by TorquePro Fasteners. The manual checks, which are supposed to ensure the correct torque application, have revealed inconsistencies that could potentially lead to operational issues. The observations indicate that the torque values recorded during these checks do not align with the expected specifications, raising concerns about the integrity of the engine mount assembly. Immediate attention is required to address these discrepancies to prevent further complications in the assembly process.",style:"verbose",label:"Torque Discrepancies Observed During Manual Checks"}],100:[{date:"2021-06-08T09:15:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Analyze torque discrepancies found in report 000. 
- Check calibration records for torque wrenches. 
- Identify frequency of lapses in calibration. 
- Review manual verification process. 
- Recommend stricter adherence to torque checks. 
- Suggest training for operators on torque application. 
- Need input from Quality Controler on calibration history.`,style:"not fully fluent",label:"Initial Analysis of Torque Discrepancies"},{date:"2021-06-08T11:30:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provide detailed calibration records for torque wrenches used. 
- Include dates of calibration and any lapses. 
- Confirm if any tools were out of service. 
- Highlight any operator feedback on torque application.`,style:"not fully fluent",label:"Calibration Records Review"},{date:"2021-06-09T14:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Received calibration records from Quality Controler. 
- Found multiple lapses in calibration. 
- Need to implement regular checks and balances. 
- Recommend scheduled training sessions for operators. 
- Propose a new checklist for torque application.`,style:"not fully fluent",label:"Review of Calibration Records"},{date:"2021-06-09T16:45:00.000Z",role:"Design Office Expert Elec",name:"Sophie Roy",description:`Evaluate torque tools used for engine mount bolts. 
- Assess if tools meet specifications. 
- Recommend any upgrades or replacements. 
- Suggest monitoring system for torque application.`,style:"not fully fluent",label:"Technical Input on Torque Tools"},{date:"2021-06-10T10:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Compile findings and recommendations. 
- Implement regular calibration checks for torque tools. 
- Schedule training for all operators on torque application. 
- Introduce a monitoring system for torque discrepancies. 
- Establish a feedback loop for continuous improvement.`,style:"not fully fluent",label:"Consolidated Plan of Action"}],200:[{date:"2021-06-11T12:30:00.000Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis of torque discrepancies noted. 
- Confirmed calibration lapses in torque wrenches. 
- Manual checks insufficient; need stricter adherence. 
- Recommend regular calibration schedule. 
- Training for operators on torque application essential. 
- Implement monitoring system for torque discrepancies. 
- Establish feedback loop for continuous improvement. 
- No structural impact presumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-06-12T09:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Conducted initial stress calculations based on torque discrepancies noted in engine mount bolts. 
- Analyzed structural integrity under varying torque applications. 
- Found that torque variance may lead to localized stress concentrations. 
- Recommended further investigation into torque application methods.`,style:"not fully fluent",label:"Initial Stress Analysis on Torque Discrepancies"},{date:"2021-06-12T11:30:00.000Z",role:"Stress Office Expert",name:"Sophie Roy",description:`Need more data on torque application during assembly. 
- Request detailed assembly logs from Quality Controller. 
- Include any noted deviations during assembly process.`,style:"not fully fluent",label:"Request for Additional Data"},{date:"2021-06-12T14:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Provided detailed assembly logs for engine mount bolts. 
- Highlighted instances of torque application deviations. 
- Included operator notes on assembly process.`,style:"not fully fluent",label:"Provide Assembly Logs"},{date:"2021-06-13T10:00:00.000Z",role:"Stress Office",name:"Alexandre Boucher",description:`Completed final stress analysis with provided assembly logs. 
- Confirmed that torque discrepancies lead to potential structural issues. 
- Recommended immediate corrective actions: 
 - Implement strict torque application protocols. 
 - Schedule regular training for assembly operators. 
 - Introduce automated torque monitoring systems. 
- Continuous monitoring essential to ensure structural integrity.`,style:"not fully fluent",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2021-06-14T09:30:00.000Z",role:"Stress Manager",name:"Émile Lefebvre",description:`Validation of stress analysis conducted. 
- Confirmed torque discrepancies lead to structural concerns. 
- Recommended actions: 
 - Enforce strict torque application protocols. 
 - Schedule regular training sessions for operators. 
 - Implement automated torque monitoring systems. 
- Continuous monitoring is crucial for maintaining structural integrity. 
- No immediate structural failures expected but proactive measures essential.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-06-15T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale

**Contexte de la Non-Conformité :**
- **Label :** Variance de couple sur les boulons de fixation du moteur entraînant des vibrations.
- **Cause Primaire :** Application de couple incohérente due à une calibration imprécise des clés dynamométriques.
- **Impact :** Vibrations non atténuées pouvant entraîner une usure rapide des composants du moteur et potentiellement une défaillance en opération.

**Causes Internes :**
- Erreurs d'assemblage dues à des pressions temporelles.
- Lapsus fréquents dans la calibration des outils de couple.

**Causes Externes :**
- Aucun défaut fournisseur identifié dans le cadre de cette analyse.

### Recommandations

1. **Calibration Régulière :**
 - Mettre en place un calendrier strict de calibration pour les clés dynamométriques.
 - Assurer la traçabilité des enregistrements de calibration pour éviter les lapsus.

2. **Formation des Opérateurs :**
 - Organiser des sessions de formation régulières pour les opérateurs sur l'application correcte du couple.
 - Inclure des modules sur l'importance de suivre les procédures de vérification manuelle.

3. **Système de Surveillance Automatisé :**
 - Introduire un système de surveillance automatisé pour détecter les écarts de couple en temps réel.
 - Intégrer des alertes pour les opérateurs en cas de détection de non-conformité.

4. **Boucle de Rétroaction :**
 - Établir un mécanisme de retour d'information continu pour identifier et corriger rapidement les écarts.

### Synthèse et Mise en Consistance

- **Navigabilité et Fiabilité :** Les mesures recommandées visent à garantir la navigabilité et la fiabilité de l'A220 en réduisant les risques de vibrations excessives.
- **Réduction des Coûts :** En évitant les retards coûteux dans les phases de test de vol, les recommandations contribuent à réduire les coûts opérationnels.
- **Efficacité Temporelle :** L'implémentation de systèmes automatisés et de formations régulières vise à réduire les délais de production et à améliorer la détection rapide des non-conformités.

Ces actions sont essentielles pour maintenir l'intégrité structurelle et la conformité des produits dans l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Improper fastener installation",nc_scenario_id:"ATA-57-15a57432b979b75e",nc_event_seed:8732,nc_event_date:"2023-12-25 23:50:57.258000+00:00",nc_event_id:"ATA-57-15a57432b979b75e-c65c",analysis_history:{"000":[{date:"2023-12-25T23:50:57.258Z",role:"Quality Controler",observation:"Digital torque tools highlighting irregularities",name:"Julien Tremblay",description:"Observation of torque application irregularities noted during maintenance checks. Digital tools indicate discrepancies in fastener tightness. Specific fasteners involved: Part number 57-502-FAS, Serial SN38855, Supplier FastenSecure Aviation. Immediate attention required to assess potential impacts on engine nacelle stability.",style:"elusive",label:"Torque Specification Irregularities"}],100:[{date:"2023-12-26T09:00:00.000Z",role:"Design Office",name:"Alexandre Boucher",description:`Review of torque application discrepancies noted in report 000. Outdated torque specifications identified as primary cause. 

Recommendations: 
1. Update torque specifications in maintenance manuals. 
2. Implement immediate training sessions for maintenance personnel to align with updated specifications. 
3. Monitor torque application using digital tools for future checks.`,style:"concise and precise",label:"Initial Analysis of Torque Specification Irregularities"},{date:"2023-12-26T10:30:00.000Z",role:"Design Office Expert Elec",name:"Marie-Claude Gagnon",description:"Need clarification on the calibration status of digital torque tools used during maintenance. Ensure tools are compliant with current specifications.",style:"concise and precise",label:"Request for Additional Information on Torque Tools"},{date:"2023-12-26T11:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:"Digital torque tools were last calibrated six months ago. Calibration records available for review. Recommend re-calibration before next maintenance cycle.",style:"concise and precise",label:"Response to Torque Tools Inquiry"},{date:"2023-12-26T12:00:00.000Z",role:"Design Office",name:"Alexandre Boucher",description:`Incorporated feedback from Quality Controler regarding torque tool calibration. 

Final Recommendations: 
1. Update torque specifications in manuals. 
2. Conduct training sessions for personnel. 
3. Re-calibrate digital torque tools before next use. 
4. Implement a monitoring system for torque application during maintenance checks.`,style:"concise and precise",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2023-12-27T14:30:00.000Z",role:"Design Manager",name:"Émile Fortin",description:`**Analysis Summary:** 
Torque specification irregularities identified as root cause of fastener installation issues on A220 engine pylons. 

**Action Plan:** 
1. Update maintenance manuals with revised torque specifications. 
2. Conduct immediate training sessions for maintenance personnel to ensure compliance with updated specifications. 
3. Re-calibrate digital torque tools prior to next maintenance cycle. 
4. Establish a monitoring system for torque application during maintenance checks to prevent future discrepancies. 

**Recommendation:** 
Proceed with the proposed action plan to mitigate risks associated with fastener integrity and engine nacelle stability. No structural impact assumptions made at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-12-28T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Après une analyse approfondie des irrégularités de couple observées lors des vérifications de maintenance, il a été déterminé que les spécifications de couple obsolètes ont eu un impact significatif sur l'intégrité des fixations des pylônes du moteur A220. Les calculs de stress ont été réalisés en utilisant des logiciels avancés tels que MATLAB et Simulink pour modéliser les effets de l'application incorrecte du couple sur la stabilité de la nacelle du moteur. 

### Résultats de l'Analyse : 
- **Impact Structurel** : Les résultats indiquent que l'application d'un couple incorrect peut entraîner une défaillance potentielle des fixations, ce qui pourrait compromettre la stabilité de la nacelle du moteur. 
- **Risques Associés** : En cas de non-conformité persistante, le risque de détachement du pylône du moteur dans des conditions extrêmes est élevé, ce qui pourrait entraîner des conséquences catastrophiques pour la navigabilité de l'appareil. 

### Recommandations : 
1. **Mise à Jour des Spécifications** : Les manuels de maintenance doivent être mis à jour avec les nouvelles spécifications de couple, en veillant à ce qu'elles soient clairement communiquées à tous les techniciens de maintenance. 
2. **Formation des Personnel** : Des sessions de formation immédiates doivent être organisées pour s'assurer que tout le personnel de maintenance comprend et applique correctement les nouvelles spécifications. 
3. **Calibration des Outils** : Tous les outils de couple numériques doivent être recalibrés avant leur prochaine utilisation pour garantir leur conformité avec les spécifications mises à jour. 
4. **Système de Surveillance** : Un système de surveillance doit être mis en place pour vérifier l'application du couple lors des vérifications de maintenance futures, afin d'éviter toute irrégularité. 

### Conclusion : 
Il est impératif d'agir rapidement pour mettre en œuvre ces recommandations afin de garantir l'intégrité structurelle des pylônes du moteur A220 et d'assurer la sécurité des opérations aéronautiques. Je sollicite également des informations supplémentaires concernant les procédures de maintenance actuelles et les outils utilisés pour garantir la conformité avec les nouvelles spécifications.`,style:"verbose",label:"Analyse des Calculs de Stress sur la Structure"},{date:"2023-12-28T10:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Pour compléter l'analyse de stress, pourriez-vous fournir des détails supplémentaires sur les procédures de maintenance actuelles et les outils utilisés pour l'application du couple ? Cela nous permettra de mieux comprendre les impacts potentiels sur la structure.",style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2023-12-29T11:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Suite à la réception des informations complémentaires concernant les procédures de maintenance et les outils utilisés, il a été constaté que les outils de couple numériques sont conformes aux spécifications, mais qu'il existe des variations dans l'application du couple par les techniciens. 

### Analyse des Données : 
- **Procédures de Maintenance** : Les procédures actuelles ne tiennent pas compte des mises à jour récentes des spécifications de couple, ce qui entraîne des incohérences dans l'application. 
- **Outils Utilisés** : Bien que les outils soient calibrés, la formation insuffisante des techniciens sur les nouvelles spécifications a conduit à des erreurs dans l'application du couple. 

### Recommandations Finales : 
1. **Révision des Procédures** : Les procédures de maintenance doivent être révisées pour inclure les nouvelles spécifications de couple et les étapes de vérification. 
2. **Formation Renforcée** : Un programme de formation renforcé doit être mis en place pour tous les techniciens afin d'assurer une compréhension approfondie des nouvelles spécifications. 
3. **Audits de Conformité** : Des audits réguliers doivent être effectués pour garantir que les procédures mises à jour sont suivies et que les outils sont utilisés correctement. 

### Conclusion : 
La mise en œuvre de ces recommandations est essentielle pour garantir la sécurité et la navigabilité de l'A220. Je recommande de valider ces actions avec le Design Manager avant de procéder à la mise en œuvre.`,style:"verbose",label:"Analyse Complète des Informations Reçues"},{date:"2023-12-30T14:00:00.000Z",role:"Design Manager",name:"Émile Fortin",description:`Les recommandations fournies par le Stress Office sont acceptées. Nous allons procéder à la mise en œuvre des actions proposées pour garantir l'intégrité structurelle et la sécurité de l'A220. 

**Plan d'Action :** 
- Mise à jour des procédures de maintenance. 
- Organisation de sessions de formation pour le personnel. 
- Mise en place d'audits réguliers pour assurer la conformité.`,style:"not fully fluent",label:"Validation des Recommandations du Stress Office"}],400:[{date:"2023-12-31T10:15:00.000Z",role:"Stress Manager",name:"Gabriel Lefebvre",description:`**Analysis Summary:** 
Following the stress calculations conducted on the torque application irregularities, it has been confirmed that outdated torque specifications pose a significant risk to the structural integrity of the A220 engine pylons. The calculations indicate that improper torque application can lead to potential fastener failure, jeopardizing engine nacelle stability. 

**Action Plan Validation:** 
1. **Update Maintenance Procedures:** Ensure that all maintenance manuals reflect the revised torque specifications clearly. 
2. **Immediate Training Sessions:** Conduct comprehensive training for all maintenance personnel to ensure understanding and compliance with the updated torque specifications. 
3. **Re-calibration of Torque Tools:** All digital torque tools must be recalibrated before the next maintenance cycle to ensure accuracy. 
4. **Monitoring System Implementation:** Establish a robust monitoring system to track torque application during maintenance checks to prevent future discrepancies. 

**Final Recommendation:** 
It is imperative to implement these actions promptly to maintain the structural integrity of the A220 engine pylons and ensure operational safety. Regular audits should be scheduled to verify adherence to updated procedures and specifications.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-01-02T15:47:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`**Analyse des Causes et Contexte**

Les irrégularités d'application du couple sur les fixations des pylônes du moteur A220 sont principalement dues à l'utilisation de spécifications de couple obsolètes. Les causes internes incluent des erreurs d'assemblage et une calibration insuffisante des outils, tandis que les causes externes peuvent être liées à des défauts de fournisseurs.

**Impact et Risques**

L'application incorrecte du couple peut entraîner une défaillance des fixations, compromettant la stabilité de la nacelle du moteur. Cela pose un risque élevé de détachement du pylône en conditions extrêmes, avec des implications sévères sur la navigabilité et la sécurité.

**Plan d'Action**

1. **Mise à Jour des Spécifications** : Réviser les manuels de maintenance pour intégrer les nouvelles spécifications de couple.
2. **Formation Immédiate** : Organiser des sessions de formation pour aligner le personnel sur les nouvelles normes.
3. **Re-calibration des Outils** : Assurer la re-calibration de tous les outils de couple numériques avant la prochaine utilisation.
4. **Système de Surveillance** : Mettre en place un système de surveillance pour suivre l'application du couple lors des vérifications de maintenance.
5. **Audits Réguliers** : Planifier des audits pour garantir l'adhérence aux procédures mises à jour.

**Recommandation Finale**

Il est crucial de mettre en œuvre ces actions rapidement pour maintenir l'intégrité structurelle des pylônes du moteur A220 et assurer la sécurité opérationnelle. Les audits réguliers permettront de vérifier la conformité continue aux nouvelles spécifications et procédures.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 79",nc_label:"Engine mount bolt torque variance leading to vibration",nc_scenario_id:"ATA-79-083ce9bdf290d8be",nc_event_seed:1510,nc_event_date:"2024-10-21 21:50:58.247000+00:00",nc_event_id:"ATA-79-083ce9bdf290d8be-9a6a",analysis_history:{"000":[{date:"2024-10-21T21:50:58.247Z",role:"Quality Controler",observation:"Manual torque verification checks indicating discrepancies",name:"Léa Tremblay",description:`Observation of manual torque verification checks revealing inconsistencies in torque application on engine mount bolts. 

Specific issues noted: 
- Torque discrepancies detected in multiple instances. 
- Potential impact on engine stability and performance. 

Affected parts: 
- Part Number: ENG-MNT-BLT-4506 
- Serial: EMB-68801 
- Supplier: TorquePro Fasteners`,style:"concise and precise",label:"Torque Discrepancies in Engine Mount Bolts"}],100:[{date:"2024-10-21T22:50:58.247Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the report submitted by Quality Controller Léa Tremblay, it is evident that the torque discrepancies in engine mount bolts pose a significant risk to engine stability and performance. The inconsistencies in torque application are primarily attributed to lapses in torque tool calibration and the bypassing of manual torque checks due to operational time pressures. 

To address this issue, it is crucial to implement a robust calibration schedule for torque wrenches, ensuring that all tools are calibrated regularly and accurately. Additionally, we must reinforce the importance of adhering to manual torque verification checks, potentially integrating these checks into the standard operating procedures to mitigate time pressure concerns. 

I recommend conducting a thorough audit of the torque application process across all relevant teams to identify any further inconsistencies and to establish a training program focused on the importance of proper torque application. This will enhance the overall reliability of engine mounts and prevent future discrepancies.`,style:"verbose",label:"Initial Analysis of Torque Discrepancies"},{date:"2024-10-22T09:15:58.247Z",role:"Design Office Expert Elec",name:"Sophie Boucher",description:`In order to proceed with a comprehensive analysis of the torque discrepancies, I require additional information regarding the specific torque tools utilized during the assembly process. This includes details on the calibration history of these tools, the frequency of their use, and any maintenance records that may indicate potential issues. 

Understanding the operational context of these tools will allow us to better assess the root causes of the torque inconsistencies and develop targeted recommendations for improvement.`,style:"verbose",label:"Request for Additional Information on Torque Tools"},{date:"2024-10-22T10:30:58.247Z",role:"Quality Controler",name:"Léa Tremblay",description:`In response to the request from Design Office Expert Elec Sophie Boucher, I have gathered the necessary information regarding the torque tools used in the assembly of engine mount bolts. 

The torque wrenches in question were last calibrated on 2024-09-15, and records indicate that they have been used consistently since then. However, there have been instances where the calibration checks were not performed as scheduled due to operational demands. I will provide the detailed calibration logs and maintenance records for further analysis.`,style:"verbose",label:"Response to Information Request"},{date:"2024-10-23T11:45:58.247Z",role:"Design Office",name:"Marc Gagnon",description:`After receiving the calibration logs and maintenance records from Quality Controller Léa Tremblay, I have conducted a detailed analysis of the torque tool usage and calibration history. It is clear that the lapses in calibration checks directly correlate with the observed torque discrepancies. 

To mitigate this issue, I propose the following action plan: 
1. Establish a strict calibration schedule for all torque wrenches, with reminders set to ensure compliance. 
2. Implement a mandatory training program for all personnel involved in torque application, emphasizing the critical nature of accurate torque settings. 
3. Introduce a digital tracking system for torque tool usage and calibration status to ensure transparency and accountability. 
4. Schedule regular audits of the torque application process to identify and rectify any future discrepancies promptly. 

This comprehensive approach will enhance the reliability of engine mount installations and significantly reduce the risk of operational failures due to torque-related issues.`,style:"verbose",label:"Final Analysis and Action Plan Development"}],200:[{date:"2024-10-24T14:30:58.247Z",role:"Design Manager",name:"Julien Gagné",description:`Analysis of torque discrepancies in engine mount bolts indicates significant risk to engine stability. Causes identified: internal lapses in torque tool calibration and operational pressures leading to bypassing manual checks. 

Action plan includes: 
1. Strict calibration schedule for torque wrenches. 
2. Mandatory training for personnel on torque application. 
3. Digital tracking system for torque tool usage. 
4. Regular audits of torque application process. 

Recommendation: Implement action plan to enhance reliability and prevent future discrepancies.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-10-24T15:30:58.247Z",role:"Stress Office",name:"Émile Gagné",description:`Conducted initial stress calculations on engine mount bolt assembly. Results indicate that torque discrepancies can lead to uneven load distribution, potentially compromising structural integrity. 

**Recommendations:** 
1. Immediate recalibration of torque wrenches. 
2. Implement torque application training for assembly personnel. 
3. Schedule follow-up stress analysis post-implementation.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2024-10-24T16:00:58.247Z",role:"Stress Office Expert",name:"Julien Fortier",description:"Requesting detailed torque application data from Quality Controller Léa Tremblay. This includes specific torque values used during assembly and any deviations from standard operating procedures.",style:"concise and precise",label:"Request for Additional Data"},{date:"2024-10-24T17:00:58.247Z",role:"Quality Controller",name:"Léa Tremblay",description:"Provided detailed torque application records. Noted that torque values often deviated from specifications due to operational pressures. This data is critical for accurate stress analysis.",style:"verbose",label:"Response to Data Request"},{date:"2024-10-25T09:00:58.247Z",role:"Stress Office",name:"Émile Gagné",description:`Final stress calculations completed. Discrepancies in torque application confirmed to affect load distribution negatively. 

**Action Plan:** 
1. Enforce strict calibration schedule for torque wrenches. 
2. Mandatory training for assembly personnel on torque standards. 
3. Introduce digital tracking for torque tool usage. 
4. Conduct regular audits to ensure compliance. 

**Conclusion:** Implementing these measures will enhance structural integrity and reduce the risk of operational failures.`,style:"concise and precise",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2024-10-26T10:15:58.247Z",role:"Stress Manager",name:"Gabriel Lefebvre",description:`After reviewing the final stress calculations, it is confirmed that torque discrepancies negatively impact load distribution on engine mount bolts. This can lead to structural integrity issues over time.

**Action Plan Validation:**
1. Enforce strict calibration schedule for torque wrenches to ensure accuracy.
2. Implement mandatory training for assembly personnel focusing on torque standards and application.
3. Introduce a digital tracking system for torque tool usage to enhance accountability.
4. Conduct regular audits of the torque application process to identify and address any discrepancies promptly.

**Final Recommendation:**
Implement the proposed action plan to enhance the reliability of engine mounts and mitigate risks associated with torque-related failures. Continuous monitoring and adherence to these measures are essential for maintaining structural integrity.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-10-27T14:45:58.247Z",role:"Quality Manager",name:"Mathieu Bouchard",description:`### Analyse Finale

**Contexte:**
Les écarts de couple sur les boulons de fixation du moteur de l'A220 ont été identifiés comme un risque majeur pour la stabilité et la performance du moteur. Les causes principales incluent des erreurs internes telles que des lapsus dans la calibration des outils de couple et des pressions opérationnelles entraînant le contournement des vérifications manuelles.

**Causes Internes:**
- Calibration imprécise des clés dynamométriques.
- Pressions temporelles menant à l'omission des vérifications manuelles.

**Causes Externes:**
- Aucun défaut fournisseur ou facteur environnemental identifié.

### Plan d'Action
1. **Calibration Stricte:**
 - Établir un calendrier de calibration rigoureux pour toutes les clés dynamométriques.
 - Utiliser des rappels automatisés pour garantir la conformité.

2. **Formation Obligatoire:**
 - Mettre en place un programme de formation pour tout le personnel impliqué dans l'application du couple.
 - Insister sur l'importance des réglages précis du couple.

3. **Suivi Numérique:**
 - Introduire un système de suivi numérique pour l'utilisation et l'état de calibration des outils de couple.
 - Assurer la transparence et la responsabilité.

4. **Audits Réguliers:**
 - Planifier des audits réguliers du processus d'application du couple.
 - Identifier et corriger rapidement toute future divergence.

### Recommandation Finale
La mise en œuvre de ce plan d'action renforcera la fiabilité des installations des supports moteurs et réduira significativement le risque de défaillances opérationnelles liées aux problèmes de couple. Un suivi continu et une adhésion stricte à ces mesures sont essentiels pour maintenir l'intégrité structurelle et la conformité aux normes de navigabilité. Prioriser ces actions permettra également de réduire les coûts potentiels liés aux retards et aux réparations coûteuses. 

**Conclusion:**
Adopter ces mesures garantira la navigabilité, la fiabilité et la conformité des produits, tout en optimisant les délais de production et en minimisant les coûts.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 73",nc_label:"Fuel pump pressure irregularities",nc_scenario_id:"ATA-73-2ea4725f519bc23",nc_event_seed:6482,nc_event_date:"2024-03-28 17:50:58.186000+00:00",nc_event_id:"ATA-73-2ea4725f519bc23-3f3a",analysis_history:{"000":[{date:"2024-03-28T17:50:58.186Z",role:"Quality Controler",observation:"In-flight reports of engine performance inconsistencies",name:"Julien Tremblay",description:"Report regarding in-flight reports of engine performance inconsistencies. Specific observations noted include irregular fuel pump pressure readings. Measures taken during routine checks indicate deviations from expected parameters. Issues observed in the fuel pump component, part number FP220-73-10, serial SN-724108, supplied by Pump Solutions Ltd.",style:"elusive",label:"Engine Performance Inconsistencies Report"}],100:[{date:"2024-03-28T18:30:58.186Z",role:"Design Office",name:"Marc Gagnon",description:`Analyzed the report regarding irregular fuel pump pressure readings. 
Identified primary cause: improper maintenance procedures. 
Recommended immediate review of maintenance protocols to ensure compliance with recalibration standards.`,style:"concise and precise",label:"Initial Analysis of Engine Performance Inconsistencies"},{date:"2024-03-29T09:15:58.186Z",role:"Design Office Expert Hydro",name:"Sophie Boucher",description:`Conducted a detailed review of the hydraulic systems associated with the fuel pump. 
Confirmed that pressure irregularities are linked to maintenance lapses. 
Recommended enhanced training for maintenance personnel on recalibration techniques.`,style:"concise and precise",label:"Hydraulic System Review"},{date:"2024-03-29T10:45:58.186Z",role:"Design Office",name:"Marc Gagnon",description:`Consolidated findings from the hydraulic review. 
Developed a comprehensive action plan: 
1. Immediate retraining of maintenance staff. 
2. Implementation of a checklist for recalibration procedures. 
3. Schedule follow-up audits to ensure compliance.`,style:"concise and precise",label:"Consolidation of Findings"},{date:"2024-03-30T11:00:58.186Z",role:"Quality Controler",name:"Julien Tremblay",description:`Reviewed the proposed action plan from Design Office. 
Validated the need for retraining and checklist implementation. 
Suggested additional monitoring of fuel pump performance post-recalibration.`,style:"concise and precise",label:"Validation of Action Plan"}],200:[{date:"2024-03-31T14:30:58.186Z",role:"Design Manager",name:"Émile Boucher",description:`**Analysis Summary:**
- Confirmed irregularities in fuel pump pressure linked to maintenance failures.
- Identified primary cause: improper recalibration procedures.

**Action Plan:**
1. Immediate retraining of maintenance personnel on recalibration standards.
2. Implementation of a detailed checklist for maintenance procedures.
3. Schedule follow-up audits to ensure compliance with recalibration protocols.

**Final Recommendation:**
- Prioritize retraining and checklist implementation to mitigate risks.
- Monitor fuel pump performance post-recalibration to ensure effectiveness.
- Maintain focus on navigability and compliance to prevent operational disruptions.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-04-01T10:00:00.000Z",role:"Stress Office",name:"Louis Gagné",description:`Après une analyse approfondie des irrégularités de pression de la pompe à carburant, il est impératif de souligner que les fluctuations de pression peuvent avoir des répercussions significatives sur la structure de l'avion, notamment en ce qui concerne la résistance des composants associés au système de propulsion. 

**Analyse des résultats des calculs de stress :**
- Les simulations effectuées indiquent que les variations de pression peuvent entraîner des contraintes supplémentaires sur les supports de la pompe à carburant, ce qui pourrait compromettre l'intégrité structurelle à long terme. 
- Les données montrent également que des pressions irrégulières peuvent provoquer des vibrations excessives, affectant ainsi la durabilité des composants environnants. 

**Recommandations :**
1. **Validation des procédures de recalibrage :** Assurer que toutes les procédures de recalibrage soient strictement suivies pour éviter les fluctuations de pression. 
2. **Formation continue :** Établir un programme de formation continue pour le personnel de maintenance afin de garantir une compréhension approfondie des implications des erreurs de calibration. 
3. **Surveillance des performances :** Mettre en place un système de surveillance en temps réel des performances de la pompe à carburant pour détecter rapidement toute anomalie. 
4. **Audit régulier :** Planifier des audits réguliers des procédures de maintenance pour s'assurer de leur conformité et de leur efficacité. 

**Demande d'informations complémentaires :**
Pour finaliser cette analyse, je sollicite des données supplémentaires concernant les spécifications exactes des procédures de maintenance actuellement en vigueur, ainsi que des rapports d'audit précédents concernant la pompe à carburant FP220-73-10.`,style:"verbose",label:"Initial Stress Analysis and Recommendations"},{date:"2024-04-01T12:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`En réponse à la demande d'informations complémentaires du Stress Office, je fournis les détails suivants : 

**Procédures de maintenance actuelles :**
- Les procédures de maintenance pour la pompe à carburant FP220-73-10 incluent des étapes de vérification de la pression, de nettoyage des filtres, et de recalibrage, mais il a été noté que certains techniciens n'ont pas suivi les étapes de recalibrage de manière systématique. 

**Rapports d'audit précédents :**
- Les audits précédents ont révélé des lacunes dans la formation des techniciens sur les procédures de recalibrage, avec des recommandations pour des sessions de formation supplémentaires qui n'ont pas encore été mises en œuvre.`,style:"concise and precise",label:"Response to Stress Office Inquiry"},{date:"2024-04-02T09:00:00.000Z",role:"Stress Office",name:"Louis Gagné",description:`Suite à la réception des informations complémentaires fournies par le Quality Controller, une réévaluation des procédures de maintenance et des implications structurelles a été réalisée. 

**Analyse des résultats :**
- Il est devenu évident que les lacunes dans la formation des techniciens ont directement contribué aux irrégularités de pression. 
- Les calculs de stress ont confirmé que des pressions non calibrées peuvent entraîner des défaillances structurelles potentielles, augmentant le risque de pannes pendant les phases critiques du vol. 

**Plan d'action consolidé :**
1. **Formation immédiate :** Organiser une formation obligatoire pour tous les techniciens sur les procédures de recalibrage. 
2. **Mise à jour des procédures :** Réviser et mettre à jour les manuels de maintenance pour inclure des instructions détaillées sur le recalibrage de la pompe à carburant. 
3. **Système de suivi :** Développer un système de suivi pour assurer que chaque technicien complète une vérification de conformité après la formation. 
4. **Évaluation continue :** Mettre en place une évaluation continue des performances de la pompe à carburant pour détecter toute anomalie dès qu'elle se produit. 

**Conclusion :**
Ces mesures sont essentielles pour garantir la navigabilité et la sécurité de l'A220, tout en minimisant les coûts potentiels associés à des défaillances structurelles futures.`,style:"verbose",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2024-04-03T11:30:00.000Z",role:"Stress Manager",name:"Émile Gagnon",description:`**Analysis Summary:**
- Confirmed that irregular fuel pump pressure is a direct result of maintenance lapses.
- Stress calculations indicate that these pressure fluctuations can lead to significant structural stress on the aircraft components associated with the propulsion system.

**Action Plan Validation:**
1. **Immediate Training:** Mandatory training for all technicians on recalibration procedures is essential to mitigate risks.
2. **Procedure Update:** Maintenance manuals must be revised to include detailed instructions on fuel pump recalibration.
3. **Compliance Tracking:** A tracking system should be developed to ensure each technician completes a compliance check post-training.
4. **Continuous Monitoring:** Implement ongoing performance evaluations of the fuel pump to detect anomalies promptly.

**Final Recommendations:**
- Prioritize the immediate execution of the training and updates to maintenance procedures.
- Ensure that the compliance tracking system is operational within the next month to enhance accountability.
- Continuous monitoring of the fuel pump's performance is crucial to prevent future irregularities and ensure aircraft safety.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-04-04T15:45:00.000Z",role:"Quality Manager",name:"Alexandre Dubois",description:`**Analyse des Causes**

Les irrégularités de pression de la pompe à carburant sont principalement dues à des procédures de maintenance inadéquates, notamment une mauvaise calibration. Les causes internes incluent des erreurs de recalibrage par le personnel de maintenance, tandis que les causes externes pourraient être liées à des défauts de composants fournis par Pump Solutions Ltd.

**Impact et Risques**

- **Navigabilité** : Les fluctuations de pression peuvent compromettre la performance du moteur, augmentant le risque de panne en vol.
- **Structure** : Les calculs de stress indiquent que les variations de pression peuvent entraîner des contraintes structurelles, affectant la durabilité des composants.
- **Coûts** : Les coûts potentiels de recalibration et de réparation sont estimés à 400 000 $, impactant jusqu'à 15 appareils.

**Plan d'Action**

1. **Formation Immédiate** : Organiser une formation obligatoire pour tous les techniciens sur les procédures de recalibrage.
2. **Mise à Jour des Procédures** : Réviser les manuels de maintenance pour inclure des instructions détaillées sur le recalibrage.
3. **Suivi de Conformité** : Mettre en place un système de suivi pour assurer la conformité post-formation des techniciens.
4. **Surveillance Continue** : Implémenter une évaluation continue des performances de la pompe pour détecter rapidement les anomalies.

**Recommandation Finale**

- Prioriser la formation et la mise à jour des procédures pour réduire les risques de non-conformité.
- Activer le système de suivi de conformité dans le mois pour garantir la responsabilité.
- Maintenir une surveillance continue des performances de la pompe pour prévenir les irrégularités futures et assurer la sécurité des appareils.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 78",nc_label:"Cowl hinge misalignment",nc_scenario_id:"ATA-78-be0c71fdac1c7431",nc_event_seed:33064,nc_event_date:"2021-03-17 03:50:58.400000+00:00",nc_event_id:"ATA-78-be0c71fdac1c7431-988b",analysis_history:{"000":[{date:"2021-03-17T03:50:58.400Z",role:"Quality Controler",observation:"Visual asymmetry during maintenance checks",name:"Julien Tremblay",description:`Observation of visual asymmetry noted during maintenance checks on the engine cowl. 
Specific attention required on part number 64360, serial CH-291616 from supplier HingePlus. 
Issues related to hinge alignment may impact aerodynamic performance and overall aircraft efficiency.`,style:"verbose",label:"Cowl Hinge Misalignment Observation"}],100:[{date:"2021-03-17T09:00:00.400Z",role:"Design Office",name:"Marc Dupuis",description:`Review of the non-conformity report regarding cowl hinge misalignment. 
- Misalignment identified during maintenance checks. 
- Primary cause: improper gasket during hinge installation. 
- Impact: increased aerodynamic drag, affecting fuel efficiency and engine cooling. 
- Quantitative impact: additional fuel costs approx. $10,000 per aircraft annually. 

Recommendation: 
- Immediate realignment of cowl hinges to ensure optimal aerodynamic profile. 
- Monitor hinge oil detection rate (currently 2.7%). 
- Further investigation needed on the specific part number 64360.`,style:"skills limits",label:"Initial Analysis of Cowl Hinge Misalignment"},{date:"2021-03-17T10:30:00.400Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:`Request for assessment of potential electrical system impacts due to cowl hinge misalignment. 
- Need to ensure no interference with electrical components. 
- Review wiring routes in proximity to hinge area.`,style:"skills limits",label:"Request for Electrical System Impact Assessment"},{date:"2021-03-17T11:00:00.400Z",role:"Design Office Expert Hydro",name:"Louis Martin",description:`Request for review of hydraulic systems related to cowl hinge area. 
- Assess any potential hydraulic line interference or stress due to misalignment. 
- Ensure hydraulic performance is not compromised.`,style:"skills limits",label:"Request for Hydraulic System Review"},{date:"2021-03-17T12:00:00.400Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provide additional data on maintenance checks related to cowl hinge misalignment. 
- Specific focus on part number 64360. 
- Any historical data on previous alignments or issues noted.`,style:"skills limits",label:"Follow-up on Cowl Hinge Misalignment Investigation"},{date:"2021-03-18T09:00:00.400Z",role:"Design Office",name:"Marc Dupuis",description:`Consolidation of findings from experts and Quality Controler. 
- Electrical and hydraulic systems assessed; no immediate concerns identified. 
- Recommended actions: 
 - Realignment of cowl hinges. 
 - Implement monitoring of hinge oil detection. 
 - Schedule follow-up maintenance checks to ensure compliance. 
- Plan to mitigate potential overheating and drag issues.`,style:"skills limits",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2021-03-19T11:30:00.400Z",role:"Design Manager",name:"Émile Gagnon",description:`Analysis reviewed. Cowl hinge misalignment confirmed. 
- Primary cause: improper gasket installation. 
- Internal cause: assembly error. 
- External cause: supplier defect. 

Action plan: 
1. Immediate realignment of cowl hinges. 
2. Monitor hinge oil detection rate (currently 2.7%). 
3. Schedule follow-up maintenance checks. 

Recommendation: 
- Implement corrective actions swiftly to mitigate aerodynamic drag and overheating risks. 
- Ensure compliance with operational standards. 
- No structural impacts presumed at this stage.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-03-20T09:00:00.400Z",role:"Stress Office",name:"Alexandre Boucher",description:`Analyse des impacts structurels liés à la non-conformité des charnières du capot moteur.

- **Problème identifié** : Mauvaise installation du joint lors de l'assemblage des charnières, entraînant un désalignement.
- **Causes internes** : Erreur d'assemblage, mauvaise calibration des outils de montage.
- **Causes externes** : Défaut de fabrication du joint par le fournisseur HingePlus.

### Résultats des calculs de stress :
- **Impact sur la structure** : Aucune déformation significative détectée sur les composants critiques. Les charnières peuvent supporter les charges aérodynamiques avec un facteur de sécurité adéquat.
- **Recommandations** :
 1. **Réalignement immédiat des charnières** pour assurer un profil aérodynamique optimal.
 2. **Surveillance continue du taux de détection d'huile des charnières** (actuellement à 2.7%).
 3. **Planification de contrôles de maintenance réguliers** pour prévenir toute récidive de désalignement.

### Conclusion :
Les modifications proposées ne compromettent pas l'intégrité structurelle de l'A220. Les actions correctives doivent être mises en œuvre rapidement pour éviter des coûts supplémentaires liés à la consommation de carburant et à la surchauffe des composants moteurs.`,style:"skills limits",label:"Analyse des calculs de stress liés à l'alignement des charnières du capot moteur"},{date:"2021-03-20T11:00:00.400Z",role:"Quality Controller",name:"Julien Tremblay",description:`Demande d'informations supplémentaires concernant les vérifications de maintenance effectuées sur la pièce numéro 64360, série CH-291616. 

- **Données requises** :
 - Historique des alignements précédents.
 - Rapports de maintenance antérieurs liés à des problèmes similaires.

Ces informations sont cruciales pour compléter l'analyse et s'assurer que toutes les mesures correctives sont appropriées.`,style:"skills limits",label:"Demande d'informations complémentaires sur les vérifications de maintenance"},{date:"2021-03-21T10:00:00.400Z",role:"Stress Office",name:"Alexandre Boucher",description:`Réception des informations complémentaires du Quality Controller.

- **Analyse des données** : Les historiques montrent des problèmes récurrents d'alignement sur la pièce 64360, suggérant un besoin d'amélioration dans le processus d'assemblage.

### Recommandations mises à jour :
1. **Révision des procédures d'assemblage** pour inclure des contrôles de qualité plus stricts sur l'installation des joints.
2. **Formation supplémentaire pour le personnel d'assemblage** afin de minimiser les erreurs humaines.
3. **Mise en place d'un suivi régulier des performances des charnières** pour détecter rapidement tout problème futur.

Ces mesures visent à garantir la navigabilité et la fiabilité de l'A220 tout en réduisant les coûts à long terme.`,style:"skills limits",label:"Analyse des réponses et mise à jour des recommandations"}],400:[{date:"2021-03-22T11:30:00.400Z",role:"Stress Manager",name:"Émile Lefebvre",description:`### Analysis Summary:
- Cowl hinge misalignment confirmed due to improper gasket installation.
- Structural calculations show no significant deformation on critical components.
- Hinge can withstand aerodynamic loads with adequate safety factor.

### Action Plan:
1. Immediate realignment of cowl hinges to ensure optimal aerodynamic profile.
2. Continuous monitoring of hinge oil detection rate (currently at 2.7%).
3. Schedule regular maintenance checks to prevent recurrence of misalignment.
4. Revise assembly procedures to include stricter quality controls on gasket installation.
5. Provide additional training for assembly personnel to minimize human errors.

### Conclusion:
Implement corrective actions swiftly to mitigate aerodynamic drag and overheating risks. Ensure compliance with operational standards to maintain aircraft reliability.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-03-23T15:45:00.400Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale et Recommandation

#### Contexte et Problématique
- **Non-conformité identifiée** : Désalignement des charnières du capot moteur.
- **Cause primaire** : Installation incorrecte du joint lors de l'assemblage des charnières.
- **Causes internes** : Erreur d'assemblage, mauvaise calibration des outils.
- **Causes externes** : Défaut de fabrication du joint par le fournisseur HingePlus.

#### Impacts et Risques
- **Aérodynamique** : Augmentation de la traînée, impact potentiel sur l'efficacité énergétique.
- **Thermique** : Risque de surchauffe des composants moteurs.
- **Coût** : Surcoût en carburant estimé à 10 000 $ par avion annuellement.

#### Plan d'Action
1. **Réalignement immédiat des charnières** pour optimiser le profil aérodynamique.
2. **Surveillance continue** du taux de détection d'huile des charnières (actuellement 2.7%).
3. **Contrôles de maintenance réguliers** pour prévenir le désalignement récurrent.
4. **Révision des procédures d'assemblage** : Intégrer des contrôles qualité plus stricts.
5. **Formation supplémentaire** pour le personnel d'assemblage afin de réduire les erreurs humaines.

#### Synthèse et Consistance
- **Navigabilité et Fiabilité** : Assurer la conformité avec les normes opérationnelles pour maintenir la fiabilité de l'A220.
- **Réduction des Coûts** : Mise en œuvre rapide des actions correctives pour minimiser les coûts liés à la consommation de carburant et à la maintenance.
- **Efficacité** : Optimisation des processus de détection et de correction pour réduire les délais de production.

La mise en œuvre de ces actions est cruciale pour garantir la performance et la sécurité de l'appareil tout en maîtrisant les coûts opérationnels.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Aircraft Systems",ATA_code:"ATA 27",nc_label:"Incorrect AC mechanical binding control passenger cabin",nc_scenario_id:"ATA-27-e3a0d1c4d24100",nc_event_seed:2839,nc_event_date:"2024-08-27 12:50:56.024000+00:00",nc_event_id:"ATA-27-e3a0d1c4d24100-a71e",analysis_history:{"000":[{date:"2024-08-27T12:50:56.024Z",role:"Quality Controler",observation:"Passenger during manual deployment due ground tests",name:"Julien Tremblay",description:"During ground tests, passengers encountered issues while manually deploying the slats. Observations noted friction and resistance during the deployment process. Initial assessments indicate potential misalignment or lubrication issues affecting the slat mechanism. Immediate attention required to ensure safety and operational efficiency.",style:"verbose",label:"Non-Conformity Report: Manual Deployment Issues"}],100:[{date:"2024-08-27T14:30:00.024Z",role:"Design Office",name:"Marc Lefebvre",description:`- Review of manual deployment issues during ground tests.
- Identified mechanical binding in slat temperature control.
- Primary cause: misalignment during A220 assembly.
- Subpar lubrication causing friction in slat tracks.
- Immediate action required to address lubrication and alignment.
- Recommend further investigation into lubrication material and application process.`,style:"skills limits",label:"Initial Analysis of Non-Conformity"}],200:[{date:"2024-08-28T10:15:00.024Z",role:"Design Manager",name:"Émile Gagnon",description:`- Reviewed the initial analysis from the Design Office regarding manual deployment issues.
- Confirmed mechanical binding in slat temperature control as a primary concern.
- Identified internal causes: assembly misalignment during A220 production and inadequate lubrication.
- Recommended immediate actions: 
 - Improve lubrication process and materials used.
 - Conduct thorough alignment checks during assembly.
- Suggested further investigation into supplier practices to ensure compliance with quality standards.
- Emphasized the need for a robust monitoring system to detect similar issues early in the production cycle.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-08-29T12:30:00.024Z",role:"Stress Office",name:"Émile Boucher",description:`### Résultats de l'analyse de stress sur la structure A220

- **Problème identifié** : Lié à la liaison mécanique incorrecte des volets dans la cabine passagers, causée par un mauvais alignement lors de l'assemblage.
- **Analyse des causes internes** : 
 - Erreurs d'assemblage sur la ligne de production.
 - Lubrification inadéquate des pistes de volets, entraînant une résistance frictionnelle.
- **Analyse des causes externes** : 
 - Matériaux de lubrification non conformes fournis par WingWorks Inc.
- **Impact sur la structure** : 
 - Risque de blocage des volets, compromettant la navigabilité et la sécurité lors des manœuvres critiques.
- **Recommandations** : 
 1. **Amélioration du processus de lubrification** : 
 - Utiliser des matériaux de lubrification conformes aux normes de l'industrie.
 - Formation des opérateurs sur les techniques de lubrification appropriées.
 2. **Vérifications d'alignement** : 
 - Mise en place d'un protocole de vérification d'alignement rigoureux lors de l'assemblage.
 3. **Suivi des performances** : 
 - Développer un système de surveillance pour détecter les problèmes de liaison mécanique dès les premiers stades de production.
- **Plan d'action consolidé** : 
 - Lancer une campagne de re-lubrification sur les unités affectées.
 - Réaliser des tests de performance après les ajustements pour garantir la conformité aux normes de sécurité.`,style:"skills limits",label:"Analyse des Calculs de Stress"},{date:"2024-08-29T14:00:00.024Z",role:"Quality Controller",name:"Sophie Martin",description:"Demande d'informations supplémentaires concernant les matériaux de lubrification utilisés et les pratiques d'assemblage de WingWorks Inc. pour évaluer les impacts potentiels sur la production et la sécurité.",style:"concise and precise",label:"Demande d'informations complémentaires"},{date:"2024-08-30T09:15:00.024Z",role:"Stress Office",name:"Émile Boucher",description:`### Analyse des réponses reçues

- **Matériaux de lubrification** : 
 - Les matériaux fournis par WingWorks Inc. ne respectent pas les spécifications requises.
- **Pratiques d'assemblage** : 
 - Des écarts dans le processus d'assemblage ont été identifiés, nécessitant une révision des procédures.
- **Recommandations supplémentaires** : 
 1. **Collaboration avec WingWorks Inc.** : 
 - Travailler avec le fournisseur pour garantir la conformité des matériaux.
 2. **Révision des procédures d'assemblage** : 
 - Mettre à jour les manuels d'assemblage pour inclure des vérifications de qualité supplémentaires.
- **Conclusion** : 
 - Un suivi régulier et des audits de qualité sont nécessaires pour prévenir la récurrence de cette non-conformité.`,style:"skills limits",label:"Analyse des Réponses"}],400:[{date:"2024-08-31T11:30:00.024Z",role:"Stress Manager",name:"Émile Caron",description:`### Validation of Stress Analysis and Recommendations

- **Overview**: Reviewed stress calculations related to the mechanical binding of slats in the A220 passenger cabin.
- **Findings**: Confirmed issues of misalignment during assembly and inadequate lubrication leading to frictional resistance.
- **Impact Assessment**: 
 - Risks identified include potential slat jamming, compromising safety during critical maneuvers.
 - Estimated costs for re-lubrication and alignment checks could reach $10,000 per aircraft.
- **Recommendations**: 
 1. **Lubrication Improvement**: Ensure compliance with industry standards for lubrication materials.
 2. **Assembly Alignment Checks**: Implement rigorous alignment verification protocols during assembly.
 3. **Supplier Collaboration**: Work closely with WingWorks Inc. to ensure material compliance and improve assembly practices.
- **Conclusion**: Immediate action is necessary to mitigate risks and ensure operational efficiency. A follow-up audit is recommended to prevent recurrence.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-09-01T15:45:00.024Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale et Recommandation

#### Contexte et Problématique
- **Non-conformité** : Contrôle mécanique incorrect des volets dans la cabine passagers de l'A220.
- **Causes internes** :
 - **Erreur d'assemblage** : Mauvais alignement lors de la production.
 - **Lubrification insuffisante** : Matériaux et application inappropriés.
- **Causes externes** :
 - **Fournisseur** : Matériaux de lubrification non conformes fournis par WingWorks Inc.

#### Impact et Risques
- **Sécurité** : Risque de blocage des volets, compromettant la sécurité lors des manœuvres critiques.
- **Coûts** : Estimation des coûts de re-lubrification et vérifications d'alignement à $10,000 par appareil.
- **Efficacité** : Impact direct sur le confort et l'efficacité, potentiellement source de plaintes clients.

#### Plan d'Action
1. **Amélioration de la Lubrification**
 - Utilisation de matériaux conformes aux normes de l'industrie.
 - Formation des opérateurs sur les techniques de lubrification adéquates.

2. **Vérification d'Alignement**
 - Mise en place de protocoles rigoureux de vérification lors de l'assemblage.

3. **Collaboration Fournisseur**
 - Travailler avec WingWorks Inc. pour garantir la conformité des matériaux.
 - Révision des procédures d'assemblage pour inclure des vérifications de qualité supplémentaires.

4. **Système de Surveillance**
 - Développement d'un système de détection précoce des problèmes de liaison mécanique.

#### Conclusion
- **Action Immédiate** : Lancer une campagne de re-lubrification et alignement des unités affectées.
- **Suivi** : Audits réguliers pour prévenir la récurrence.
- **Objectif** : Assurer la navigabilité, la fiabilité et la conformité des A220 tout en optimisant les coûts et délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Improper fastener crack fuselage skin corrosion",nc_scenario_id:"ATA-57-15a57432b979b75e",nc_event_seed:21277,nc_event_date:"2022-07-21 06:50:57.259000+00:00",nc_event_id:"ATA-57-15a57432b979b75e-1cf4",analysis_history:{"000":[{date:"2022-07-21T06:50:57.259Z",role:"Quality Controler",observation:"Routine maintenance check discovers cracks",name:"Émile Tremblay",description:"During a routine maintenance check, cracks were discovered on the fuselage skin. The fasteners were noted to have irregularities. Specific issues were observed on part number 57-502-FAS, serial SN74810, supplied by StringerTech Aviation. Immediate attention required for further inspection.",style:"elusive",label:"Cracks Discovered During Maintenance Check"}],100:[{date:"2022-07-21T08:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Analyzed the report of cracks on fuselage skin. Noted irregularities in fasteners, specifically part 57-502-FAS, SN74810. 

**Recommendations:** 
1. Conduct detailed inspection of affected area. 
2. Review torque specifications against current standards. 
3. Update training programs for maintenance personnel.`,style:"concise and precise",label:"Initial Analysis of Cracks"},{date:"2022-07-21T09:15:00.000Z",role:"Design Office Expert Elec",name:"Sophie Lemieux",description:`Requesting assessment of potential electrical impacts due to structural integrity loss. 

**Needed Information:** 
1. Electrical systems affected by pylon stability. 
2. Any historical data on electrical failures related to structural issues.`,style:"concise and precise",label:"Request for Electrical Impact Analysis"},{date:"2022-07-21T10:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:`Provided historical data on electrical failures. 

**Findings:** 
1. No direct correlation found between structural cracks and electrical failures. 
2. Recommend monitoring electrical systems during further inspections.`,style:"concise and precise",label:"Response to Electrical Impact Request"},{date:"2022-07-21T11:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Consolidated findings from initial analysis and electrical impact assessment. 

**Final Action Plan:** 
1. Schedule immediate detailed inspection of part 57-502-FAS. 
2. Review and update torque specifications. 
3. Implement training updates for maintenance staff. 
4. Monitor electrical systems during inspections.`,style:"concise and precise",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2022-07-22T09:30:00.000Z",role:"Design Manager",name:"Mathieu Gagné",description:`Validation of the analysis and action plan regarding cracks on fuselage skin for part 57-502-FAS, SN74810. 

**Summary of Findings:** 
- Cracks identified during routine checks indicate potential fastener integrity issues. 
- Outdated torque specifications contribute to improper fastener application. 
- Training programs for maintenance personnel require immediate updates to prevent recurrence. 

**Final Recommendations:** 
1. Conduct a detailed inspection of the affected area as soon as possible. 
2. Review and update torque specifications to align with current standards. 
3. Implement updates to training programs for maintenance staff to ensure compliance with revised specifications. 
4. Monitor the stability of electrical systems during inspections to ensure no indirect impacts arise from structural issues.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-07-22T12:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Après avoir effectué une modélisation approfondie des impacts structurels liés aux irrégularités observées sur les attaches de la peau du fuselage, en particulier sur la pièce numéro 57-502-FAS, numéro de série SN74810, plusieurs éléments critiques ont été identifiés. 

**Analyse des Résultats :** 
1. **Intégrité des Attaches :** Les calculs de stress indiquent que les irrégularités des attaches, exacerbées par un couple incorrect appliqué, compromettent la résistance structurelle de la nacelle. 
2. **Stabilité de la Nacelle :** La perte potentielle de stabilité de la nacelle pourrait entraîner des conséquences graves sur la navigabilité de l'A220, notamment en cas de défaillance des attaches. 
3. **Risques de Détachement :** En l'absence de mesures correctives, le risque de détachement des pylônes pourrait se matérialiser, entraînant des scénarios d'accidents potentiellement catastrophiques. 

**Recommandations :** 
1. **Inspection Immédiate :** Il est impératif de procéder à une inspection détaillée de la zone affectée pour évaluer l'étendue des dommages. 
2. **Révision des Spécifications de Couple :** Les spécifications de couple doivent être mises à jour pour refléter les normes actuelles, en tenant compte des résultats de l'analyse de stress. 
3. **Formation du Personnel :** Un programme de formation mis à jour pour le personnel de maintenance est essentiel afin d'assurer une application correcte des spécifications de couple. 
4. **Surveillance Continue :** Mettre en place un système de surveillance continue de la stabilité des systèmes électriques pendant les inspections pour détecter toute anomalie potentielle. 

**Conclusion :** Il est crucial d'agir rapidement pour garantir la sécurité et la navigabilité de l'A220. Les mesures recommandées doivent être mises en œuvre sans délai pour éviter des conséquences financières et opérationnelles significatives.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2022-07-22T13:30:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:"Suite à l'analyse des calculs de stress, je sollicite des informations supplémentaires concernant les spécifications de couple actuelles appliquées aux attaches de la pièce 57-502-FAS, ainsi que les résultats des inspections précédentes effectuées sur cette pièce. Ces données sont essentielles pour valider les recommandations proposées par le Stress Office.",style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2022-07-22T15:00:00.000Z",role:"Stress Office Expert",name:"Sophie Lemieux",description:`En réponse à la demande d'informations complémentaires du Quality Controller, je fournis les détails suivants : 

**Spécifications de Couple Actuelles :** 
- Les spécifications de couple actuellement appliquées aux attaches de la pièce 57-502-FAS sont basées sur des normes obsolètes, ce qui a contribué aux irrégularités observées. 

**Résultats des Inspections Précédentes :** 
- Les inspections antérieures n'ont pas révélé de problèmes significatifs, mais il est important de noter que la fréquence de ces inspections n'était pas suffisante pour détecter les anomalies mineures qui ont conduit à la situation actuelle. 

**Conclusion :** Il est recommandé d'augmenter la fréquence des inspections et de mettre à jour les spécifications de couple pour garantir la sécurité et l'intégrité structurelle des attaches.`,style:"verbose",label:"Réponse à la Demande d'Informations"}],400:[{date:"2022-07-23T10:30:00.000Z",role:"Stress Manager",name:"Gabriel Fournier",description:`Following the stress analysis conducted on the irregularities observed in the fasteners of the fuselage skin, particularly on part number 57-502-FAS, serial SN74810, several critical points have been identified.

**Summary of Findings:**
1. **Fastener Integrity:** The stress calculations indicate that the irregularities in the fasteners, exacerbated by incorrect torque application, compromise the structural integrity of the nacelle.
2. **Nacelle Stability:** The potential loss of nacelle stability could lead to severe consequences for the aircraft's navigability, especially in the event of fastener failure.
3. **Detachment Risks:** If corrective measures are not implemented, the risk of pylon detachment may materialize, leading to potentially catastrophic accident scenarios.

**Final Recommendations:**
1. **Immediate Inspection:** It is imperative to conduct a detailed inspection of the affected area to assess the extent of the damage.
2. **Torque Specifications Review:** Torque specifications must be updated to reflect current standards, taking into account the results of the stress analysis.
3. **Training Program Updates:** An updated training program for maintenance personnel is essential to ensure correct application of torque specifications.
4. **Continuous Monitoring:** Implement a continuous monitoring system for the stability of electrical systems during inspections to detect any potential anomalies.

**Conclusion:** Immediate action is crucial to ensure the safety and navigability of the A220. The recommended measures must be implemented without delay to avoid significant financial and operational consequences.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-07-24T14:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte
Lors d'une inspection de routine, des fissures ont été découvertes sur la peau du fuselage de l'A220, spécifiquement sur la pièce 57-502-FAS, SN74810. Les attaches présentaient des irrégularités dues à un couple incorrect, lié à des spécifications obsolètes.

#### Causes Identifiées
- **Internes :**
 - Erreur d'assemblage avec application de couple incorrect.
 - Programmes de formation du personnel de maintenance non mis à jour.
- **Externes :**
 - Spécifications de couple obsolètes fournies par le fournisseur.

#### Impact et Risques
- **Navigabilité :** Compromis par la perte de stabilité de la nacelle.
- **Sécurité :** Risque de détachement des pylônes, potentiellement catastrophique.
- **Coûts :** Potentiel de 10 000 $ pour réinspection et retorquage.

#### Plan d'Action
1. **Inspection Immédiate :**
 - Effectuer une inspection détaillée de la zone affectée pour évaluer les dommages.
2. **Mise à Jour des Spécifications :**
 - Réviser et aligner les spécifications de couple avec les normes actuelles.
3. **Formation du Personnel :**
 - Mettre à jour les programmes de formation pour assurer la conformité aux spécifications révisées.
4. **Surveillance Continue :**
 - Mettre en place un système de surveillance continue pour détecter les anomalies potentielles.

#### Synthèse
Les mesures proposées visent à garantir la sécurité et la navigabilité de l'A220 tout en minimisant les coûts et les délais de production. Une action rapide est essentielle pour éviter des conséquences financières et opérationnelles significatives. L'approche adoptée est réaliste et contextualisée pour l'industrie aéronautique.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 78",nc_label:"Cowl hinge misalignment",nc_scenario_id:"ATA-78-be8c40fdac1c7431",nc_event_seed:5811,nc_event_date:"2024-04-25 16:50:58.408000+00:00",nc_event_id:"ATA-78-be8c40fdac1c7431-86ac",analysis_history:{"000":[{date:"2024-04-25T16:50:58.408Z",role:"Quality Controler",observation:"misfit Visual asymmetry during maintenance checks stain during inspection",name:"Julien Tremblay",description:`Observation of visual asymmetry noted during maintenance checks. 
Issues with cowl hinge alignment observed. 
Potential misalignment could affect cowl fitting. 
Part affected: HingePlus 25730, Serial: CH-147347. 
Further investigation needed.`,style:"not fully fluent",label:"Cowl Hinge Misalignment Observation"}],100:[{date:"2024-04-25T17:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Preliminary review of the reported misalignment. Visual asymmetry noted during maintenance checks. Potential aerodynamic implications identified. 

- Misalignment could lead to increased drag, affecting fuel efficiency and engine cooling. 
- Recommend further investigation into installation procedures. 
- Suggest collaboration with Quality Controler for additional insights.`,style:"elusive",label:"Initial Analysis of Cowl Hinge Misalignment"},{date:"2024-04-25T18:00:00.000Z",role:"Design Office Expert Elec",name:"Marie-Claude Fortin",description:`Requesting assessment of potential impacts on electrical systems due to increased vibrations from misaligned cowl hinges. 

- Need to evaluate if electrical components may be affected. 
- Collaboration with Design Office required for comprehensive analysis.`,style:"elusive",label:"Request for Electrical System Impact Assessment"},{date:"2024-04-25T19:00:00.000Z",role:"Design Office Expert Hydro",name:"Louis-Philippe Boucher",description:`Requesting evaluation of hydraulic systems in relation to cowl hinge misalignment. 

- Assess if hydraulic components are at risk due to potential overheating and vibrations. 
- Coordination with Design Office for detailed analysis needed.`,style:"elusive",label:"Request for Hydraulic System Evaluation"},{date:"2024-04-26T09:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided additional data regarding maintenance checks and previous incidents of misalignment. 

- Historical data indicates similar issues in 2% of units. 
- Recommend monitoring and documenting any further occurrences.`,style:"elusive",label:"Response to Additional Information Requests"},{date:"2024-04-26T10:30:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Consolidated findings from various assessments. 

- Misalignment confirmed as a concern impacting aerodynamic performance. 
- Action Plan: 
 - Immediate realignment of affected cowl hinges. 
 - Implement additional training for installation teams. 
 - Schedule follow-up inspections to monitor effectiveness.`,style:"elusive",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2024-04-27T11:15:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`### Analysis Summary:
- Confirmed misalignment of cowl hinge (HingePlus 25730, Serial: CH-147347).
- Identified causes:
 - Internal: Installation errors, lack of proper alignment tools.
 - External: Supplier quality issues, potential environmental factors.

### Action Plan:
1. Immediate realignment of affected hinges.
2. Enhanced training for installation teams to ensure proper alignment techniques.
3. Implement regular follow-up inspections to monitor hinge alignment and performance.

### Recommendation:
- Proceed with the proposed action plan to mitigate aerodynamic drag and associated operational costs. Ensure collaboration with Quality Control for ongoing monitoring and data collection.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-04-27T14:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Résultats de l'Analyse:
- **Modélisation effectuée**: Utilisation de MATLAB pour simuler les impacts de la réalignment des charnières sur la structure de l'avion.
- **Constatations**:
 - La mauvaise alignement des charnières a entraîné des contraintes supplémentaires sur la structure, augmentant le risque de fatigue des matériaux.
 - Les simulations indiquent une augmentation de la résistance à la traction de 15% après réalignment, réduisant ainsi le risque de défaillance structurelle.

### Causes Identifiées:
- **Internes**:
 - Erreurs d'assemblage durant l'installation des charnières.
 - Manque de formation adéquate pour les équipes d'assemblage sur les techniques d'alignement.
- **Externes**:
 - Variabilité dans la qualité des pièces fournies par HingePlus.
 - Conditions environnementales extrêmes pouvant affecter l'installation.

### Recommandations:
1. **Réalignement immédiat** des charnières affectées pour minimiser l'impact sur la performance aérodynamique.
2. **Formation renforcée** pour les équipes d'installation, axée sur les techniques d'alignement précises.
3. **Inspections régulières** des charnières pour détecter rapidement toute nouvelle asymétrie.
4. **Collaboration** avec le Quality Controller pour suivre les incidents et ajuster les processus d'assemblage.

### Suivi:
- Demande d'informations supplémentaires sur les incidents passés de non-conformité pour affiner l'analyse.`,style:"elusive",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2024-04-27T16:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Informations Complémentaires:
- **Historique des incidents**: Environ 2% des unités ont présenté des problèmes d'alignement similaires dans le passé.
- **Données de maintenance**: Rapports d'inspection indiquant des vibrations excessives sur les unités affectées.
- **Recommandation**: Mettre en place un système de suivi pour documenter les occurrences d'asymétrie et les actions correctives.`,style:"elusive",label:"Fourniture d'Informations Complémentaires"},{date:"2024-04-28T09:30:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`### Analyse des Données Complémentaires:
- **Évaluation des impacts**: Les données fournies confirment une corrélation entre les incidents d'alignement et les vibrations excessives.
- **Conclusions**:
 - Les vibrations peuvent affecter les systèmes électriques et hydrauliques, nécessitant une évaluation approfondie.
 - Un suivi rigoureux des incidents est crucial pour prévenir des défaillances futures.

### Plan d'Action Consolidé:
1. **Réalignement**: Prioriser le réalignement des charnières sur toutes les unités concernées.
2. **Formation**: Implémenter un programme de formation continue pour les équipes d'assemblage.
3. **Surveillance**: Établir un protocole de surveillance pour détecter et documenter les problèmes d'alignement en temps réel.`,style:"elusive",label:"Analyse Complémentaire des Données"}],400:[{date:"2024-04-29T11:45:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`### Summary of Stress Analysis:
- Confirmed structural impacts from cowl hinge misalignment.
- Stress calculations indicate increased material fatigue risk due to misalignment.
- Realignment improves tensile strength by 15%, reducing failure risk.

### Action Plan:
1. **Immediate realignment** of affected hinges to minimize aerodynamic drag.
2. **Enhanced training** for installation teams on alignment techniques.
3. **Regular inspections** to monitor hinge performance and prevent future issues.
4. **Collaboration** with Quality Control for ongoing monitoring and data collection.

### Final Recommendation:
- Proceed with the proposed action plan to address misalignment and its impacts on fuel efficiency and structural integrity. Ensure thorough documentation of all corrective actions.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-04-30T15:30:00.000Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse et Synthèse:
- **Contexte**: La non-conformité concerne un mauvais alignement des charnières du capot moteur, impactant l'aérodynamisme et la consommation de carburant.
- **Causes Internes**:
 - Erreurs d'assemblage lors de l'installation des charnières.
 - Manque de calibration précise des outils d'alignement.
- **Causes Externes**:
 - Variabilité dans la qualité des pièces fournies par HingePlus.
 - Conditions environnementales extrêmes affectant l'installation.

### Plan d'Action:
1. **Réalignement immédiat** des charnières affectées pour réduire la traînée aérodynamique.
2. **Formation renforcée** pour les équipes d'installation sur les techniques d'alignement précises.
3. **Inspections régulières** pour surveiller la performance des charnières et prévenir les problèmes futurs.
4. **Collaboration continue** avec le Contrôle Qualité pour le suivi des incidents et l'ajustement des processus.

### Recommandation Finale:
- **Mise en œuvre immédiate** du plan d'action pour atténuer les impacts sur l'efficacité énergétique et l'intégrité structurelle.
- **Documentation rigoureuse** de toutes les actions correctives pour assurer la traçabilité et l'amélioration continue.
- **Optimisation des délais** de production par l'intégration de moyens de détection rapide et d'analyse optimisée.

### Conclusion:
L'approche proposée garantit la navigabilité, la fiabilité et la conformité des produits, tout en réduisant les coûts opérationnels et les délais de production.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 80",nc_label:"Engine overheating under in operational phase",nc_scenario_id:"ATA-80-c6ef2e4999868b15",nc_event_seed:20102,nc_event_date:"2022-09-08 05:50:58.359000+00:00",nc_event_id:"ATA-80-c6ef2e4999868b15-d8f4",analysis_history:{"000":[{date:"2022-09-08T05:50:58.359Z",role:"Quality Controler",observation:"Warning alarms triggered in routine flights",name:"Émile Tremblay",description:`Observation of warning alarms during routine flights. 
Noted potential overheating issues. 
Initial inspection suggests possible airflow obstruction. 
Relevant part: COOL-9021, Serial: A220-CLD-9845, Supplier: FlowDynamics Inc. 
Further investigation required to confirm findings.`,style:"elusive",label:"Engine Overheating Alarm Issue"}],100:[{date:"2022-09-08T06:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:"Analyzed the overheating alarm issue related to part COOL-9021. Initial findings indicate airflow obstruction due to partially blocked engine cooling ducts. Further investigation required to quantify airflow metrics and assess cooling efficiency.",style:"concise and precise",label:"Initial Analysis of Engine Overheating Issue"},{date:"2022-09-08T08:00:00.000Z",role:"Design Office Expert Elec",name:"Sophie Roy",description:"Requesting a review of the electrical alarm system associated with the engine overheating issue. Need to confirm if alarms are functioning correctly and if they provide accurate readings during operational phases.",style:"concise and precise",label:"Request for Electrical System Review"},{date:"2022-09-08T09:30:00.000Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Requesting an assessment of the hydraulic systems that may influence engine cooling performance. Need to evaluate if hydraulic flow rates are within acceptable limits and if any obstructions exist.",style:"concise and precise",label:"Request for Hydraulic System Assessment"},{date:"2022-09-09T10:00:00.000Z",role:"Quality Controler",name:"Émile Tremblay",description:"Provided additional data on the operational history of part COOL-9021, including maintenance records and previous inspections. Confirmed that no prior overheating issues were reported before the alarms triggered.",style:"concise and precise",label:"Response to Requests for Additional Information"},{date:"2022-09-09T11:30:00.000Z",role:"Design Office",name:"Julien Gagnon",description:`Based on the analysis and additional information received, the following mitigation plan is recommended:
1. Immediate cleaning of engine cooling ducts to restore airflow.
2. Implement routine inspections focusing on airflow metrics.
3. Update maintenance protocols to include checks for potential obstructions.
4. Schedule follow-up inspections post-cleaning to ensure effectiveness.`,style:"concise and precise",label:"Final Analysis and Mitigation Plan"}],200:[{date:"2022-09-10T12:15:00.000Z",role:"Design Manager",name:"Léa Boucher",description:`Analysis confirmed overheating issue linked to part COOL-9021. Airflow obstruction identified as primary cause. Recommended actions:
1. Immediate cleaning of engine cooling ducts to restore airflow.
2. Routine inspections focusing on airflow metrics.
3. Update maintenance protocols for obstruction checks.
4. Follow-up inspections post-cleaning to ensure effectiveness.

Final recommendation: Implement mitigation plan swiftly to prevent potential thermal damage. Monitor effectiveness closely.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-09-11T09:00:00.000Z",role:"Stress Office",name:"Julien Fortin",description:`Après avoir effectué une modélisation approfondie des structures associées à la partie COOL-9021, nous avons identifié plusieurs facteurs critiques influençant la performance et la sécurité de l'avion. Les calculs de stress ont révélé que l'obstruction des conduits de refroidissement du moteur entraîne une augmentation significative des températures internes, ce qui pourrait compromettre l'intégrité structurelle des composants critiques. 

### Résultats de l'Analyse :
1. **Températures Maximales** : Les simulations indiquent que les températures peuvent atteindre des niveaux dangereux, dépassant les limites de sécurité établies.
2. **Dilatation Thermique** : Les composants en métal, en particulier ceux en aluminium, montrent des signes de dilatation thermique qui pourraient entraîner des déformations permanentes.
3. **Risques de Fatigue** : Une exposition prolongée à des températures élevées pourrait induire des risques de fatigue prématurée des matériaux, augmentant ainsi le risque de défaillance en vol.

### Recommandations :
- **Nettoyage Immédiat** : Procéder à un nettoyage immédiat des conduits de refroidissement pour restaurer le flux d'air optimal.
- **Surveillance Continue** : Mettre en place un système de surveillance continue des températures et des flux d'air dans les conduits de refroidissement.
- **Inspections Régulières** : Établir un calendrier d'inspections régulières pour s'assurer qu'aucune obstruction ne se reproduise.
- **Mise à Jour des Protocoles** : Réviser les protocoles de maintenance pour inclure des vérifications spécifiques sur les conduits de refroidissement.

### Demande d'Informations Complémentaires :
Pour finaliser cette analyse, nous sollicitons les données suivantes :
- Historique des températures enregistrées pour la pièce COOL-9021 lors des derniers vols.
- Détails sur les procédures de nettoyage précédemment effectuées sur les conduits de refroidissement.

Ces informations nous permettront d'affiner notre évaluation et de garantir que toutes les mesures nécessaires sont prises pour assurer la sécurité et la navigabilité de l'A220.`,style:"verbose",label:"Analyse des Calculs de Stress et Évaluation des Impacts"},{date:"2022-09-11T12:30:00.000Z",role:"Quality Controller",name:"Émile Tremblay",description:`Suite à la demande du Stress Office, voici les informations complémentaires concernant la pièce COOL-9021 :
- **Historique des Températures** : Les températures maximales enregistrées lors des derniers vols étaient de 95°C, avec des seuils de sécurité fixés à 85°C.
- **Procédures de Nettoyage** : Les conduits de refroidissement ont été nettoyés pour la dernière fois il y a 6 mois, sans rapport de blocage depuis lors.

Ces données devraient aider à finaliser l'analyse de stress et à évaluer les risques associés.`,style:"concise and precise",label:"Fourniture d'Informations Complémentaires Demandées"},{date:"2022-09-12T10:00:00.000Z",role:"Stress Office",name:"Julien Fortin",description:`Après avoir pris en compte les informations supplémentaires fournies par le Quality Controller, nous avons mis à jour notre évaluation des risques associés à la pièce COOL-9021. 

### Évaluation Finale :
1. **Températures Élevées** : Les températures dépassant les seuils de sécurité sont préoccupantes et nécessitent une attention immédiate.
2. **Impact sur la Structure** : Les données indiquent que la dilatation thermique pourrait affecter la résistance des composants critiques, augmentant le risque de défaillance.

### Plan d'Action Consolidé :
- **Nettoyage Urgent** : Organiser un nettoyage des conduits de refroidissement dans les plus brefs délais.
- **Surveillance Temporelle** : Installer des capteurs de température pour un suivi en temps réel.
- **Inspections Fréquentes** : Mettre en place un programme d'inspections mensuelles pour prévenir les obstructions futures.
- **Formation du Personnel** : Former le personnel de maintenance sur l'importance de la vérification des conduits de refroidissement.

### Conclusion :
Il est impératif de mettre en œuvre ces recommandations pour garantir la sécurité et la performance de l'A220. Nous restons à disposition pour toute question ou clarification supplémentaire.`,style:"verbose",label:"Finalisation de l'Analyse de Stress et Recommandations Consolidées"}],400:[{date:"2022-09-13T11:30:00.000Z",role:"Stress Manager",name:"Mathieu Gagnon",description:`### Analysis Summary:
The stress calculations confirm significant overheating risks associated with part COOL-9021 due to airflow obstruction. The temperatures recorded exceed safety limits, leading to potential thermal expansion and structural integrity issues.

### Recommended Action Plan:
1. **Immediate Cleaning**: Conduct urgent cleaning of engine cooling ducts to restore optimal airflow.
2. **Temperature Monitoring**: Install real-time temperature sensors to monitor cooling performance continuously.
3. **Regular Inspections**: Implement a monthly inspection schedule to prevent future obstructions.
4. **Maintenance Training**: Train maintenance personnel on the importance of checking cooling ducts regularly.

### Conclusion:
These measures are critical to ensuring the safety and performance of the A220. Immediate implementation is necessary to mitigate risks and enhance operational reliability.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-09-14T15:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse Finale et Recommandation

#### Contexte
L'analyse finale confirme que la surchauffe du moteur est principalement due à une obstruction des conduits de refroidissement, identifiée sur la pièce COOL-9021. Les températures enregistrées dépassent les limites de sécurité, posant des risques pour l'intégrité structurelle.

#### Causes
- **Internes** :
 - Erreur d'assemblage lors de l'installation des conduits de refroidissement.
 - Calibration inadéquate des systèmes de détection de température.
- **Externes** :
 - Défauts potentiels fournis par FlowDynamics Inc.
 - Conditions environnementales extrêmes non anticipées.

#### Plan d'Action
1. **Nettoyage Immédiat** :
 - Procéder à un nettoyage urgent des conduits de refroidissement pour rétablir le flux d'air optimal.
2. **Surveillance Temporelle** :
 - Installer des capteurs de température en temps réel pour un suivi continu.
3. **Inspections Régulières** :
 - Mettre en place un programme d'inspections mensuelles pour prévenir les obstructions futures.
4. **Formation du Personnel** :
 - Former le personnel de maintenance sur l'importance de la vérification des conduits de refroidissement.

#### Synthèse et Mise en Consistance
- **Réduction des Coûts** :
 - La mise en œuvre rapide de ce plan d'action est essentielle pour éviter des réparations coûteuses et des temps d'arrêt prolongés.
- **Efficacité Temporelle** :
 - Optimiser les étapes d'analyse et utiliser des moyens de détection rapide pour minimiser les délais.
- **Pertinence Industrielle** :
 - Assurer la navigabilité et la fiabilité de l'A220 en garantissant que les procédures de maintenance et de surveillance sont conformes aux normes de l'industrie aéronautique.

La mise en œuvre immédiate de ces recommandations est cruciale pour garantir la sécurité et la performance de l'A220. Nous restons disponibles pour toute clarification supplémentaire.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 78",nc_label:"Fuel nozzle obstruction",nc_scenario_id:"ATA-78-9b0447bc9a582e51",nc_event_seed:19984,nc_event_date:"2022-09-13 03:50:58.415000+00:00",nc_event_id:"ATA-78-9b0447bc9a582e51-9967",analysis_history:{"000":[{date:"2022-09-13T03:50:58.415Z",role:"Quality Controler",observation:"Visual inspection showing reduced or checks fuel during pattern",name:"Julien Tremblay",description:`Report regarding the observation of non-conformity:
- Visual inspection indicated reduced fuel flow during operational checks.
- Potential particulate contamination noted in the fuel nozzle cowl flow.
- Initial assessment suggests blockage may impact combustion efficiency.
- Affected part: Fuel nozzle, Part Number: 864907, Serial Number: FN-421454, Supplier: HingePlus UK.`,style:"skills limits",label:"Fuel Nozzle Obstruction Report"}],100:[{date:"2022-09-13T09:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Review of non-conformity report regarding fuel nozzle obstruction.
- Observed particulate contamination in fuel nozzle cowl flow.
- Blockage impacts fuel flow, combustion efficiency.
- Immediate concern: reduced thrust, potential engine flameout.
- Recommend further investigation into contamination sources and nozzle maintenance history.`,style:"skills limits",label:"Initial Analysis of Fuel Nozzle Obstruction"},{date:"2022-09-13T10:30:00.000Z",role:"Design Office Expert Hydro",name:"Marie-Claude Lefebvre",description:`Need details on fuel system maintenance and cleaning procedures.
- Assess if contamination is recurring.
- Identify any changes in fuel quality or supplier issues.
- Request data on previous incidents of nozzle obstruction.`,style:"skills limits",label:"Request for Additional Information on Contamination Sources"},{date:"2022-09-13T12:00:00.000Z",role:"Quality Controler",name:"Julien Tremblay",description:`Provided maintenance logs and cleaning schedules for affected nozzle.
- No significant changes in fuel quality noted.
- Previous incidents: 2 similar cases in last year, both resolved with cleaning.
- Recommend implementing a more rigorous inspection schedule.`,style:"skills limits",label:"Response to Additional Information Request"},{date:"2022-09-14T08:00:00.000Z",role:"Design Office",name:"Alexandre Gagnon",description:`Consolidated findings from reports and maintenance data.
- Particulate contamination linked to operational environment.
- Recommend:
 1. Increase frequency of nozzle inspections to every 50 flight hours.
 2. Implement a cleaning protocol post any incident of reduced fuel flow.
 3. Monitor fuel quality closely, especially during seasonal changes.
- Document all findings and recommendations for future reference.`,style:"skills limits",label:"Final Analysis and Mitigation Plan"}],200:[{date:"2022-09-15T09:30:00.000Z",role:"Design Manager",name:"Émile Boucher",description:`Analysis of fuel nozzle obstruction confirmed. 
- Particulate contamination identified as primary cause. 
- Internal factors: maintenance lapses, inspection frequency insufficient. 
- External factors: operational environment, potential fuel quality issues. 

Recommendations: 
1. Increase nozzle inspections to every 50 flight hours. 
2. Implement cleaning protocol after any fuel flow reduction incident. 
3. Monitor fuel quality closely, especially during seasonal changes. 

Action needed to mitigate risk of engine performance loss. Ensure compliance with maintenance protocols to enhance safety and reliability.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-09-16T10:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Analyse des impacts de l'obstruction des buses de carburant sur la structure de l'A220.

- **Modélisation** : Utilisation de MATLAB pour simuler les effets de la réduction du débit de carburant sur la performance du moteur.
- **Résultats** :
 - La diminution du débit de carburant entraîne une perte de poussée de 15% dans des conditions critiques.
 - Risque accru de surchauffe des composants moteurs, pouvant mener à des défaillances structurelles.
- **Causes internes** :
 - Maintenance insuffisante des buses, entraînant une accumulation de contaminants.
 - Fréquence d'inspection inappropriée, augmentant le risque d'obstruction.
- **Causes externes** :
 - Qualité variable du carburant, particulièrement en période de changements saisonniers.
 - Conditions environnementales difficiles pouvant exacerber la contamination.

### Recommandations :
1. **Augmenter la fréquence des inspections** des buses à tous les 50 heures de vol pour détecter rapidement les obstructions.
2. **Mettre en œuvre un protocole de nettoyage** systématique après tout incident de réduction de débit de carburant.
3. **Surveiller la qualité du carburant** de manière proactive, en particulier lors des changements saisonniers.
4. **Former le personnel de maintenance** sur les meilleures pratiques pour minimiser la contamination des buses.

Ces mesures sont essentielles pour garantir la navigabilité et la performance de l'A220, tout en réduisant les coûts potentiels liés à des réparations majeures.`,style:"skills limits",label:"Analyse des Calculs de Stress"},{date:"2022-09-16T11:30:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:`Demande d'informations supplémentaires concernant l'historique de maintenance des buses de carburant et les incidents précédents.

- **Informations requises** :
 - Détails sur les procédures de nettoyage effectuées sur la buse 864907.
 - Historique des incidents de contamination et des mesures prises.
 - Évaluation de l'impact des changements de qualité du carburant sur les performances des moteurs.`,style:"skills limits",label:"Demande d'Informations Complémentaires"},{date:"2022-09-17T09:00:00.000Z",role:"Stress Office",name:"Marc Dupuis",description:`Analyse consolidée des résultats des calculs de stress et des informations complémentaires reçues.

- **Évaluation des données** :
 - Les informations fournies par le Quality Controller confirment des incidents antérieurs similaires, tous résolus par nettoyage.
 - La maintenance des buses doit être renforcée pour éviter des obstructions futures.

### Plan d'Action Consolidé :
1. **Implémenter un calendrier de nettoyage** régulier basé sur les heures de vol et les incidents signalés.
2. **Établir un protocole de communication** entre le Design Office et le Quality Control pour assurer un suivi des incidents de contamination.
3. **Former le personnel** sur les nouveaux protocoles et l'importance de la qualité du carburant.
4. **Réévaluer les fournisseurs de carburant** pour garantir une qualité constante et réduire le risque de contamination.

Ces actions visent à améliorer la sécurité et la fiabilité de l'A220, tout en minimisant les coûts associés à des défaillances potentielles.`,style:"skills limits",label:"Analyse Complète et Plan d'Action Consolidé"}],400:[{date:"2022-09-18T11:00:00.000Z",role:"Stress Manager",name:"Émile Gagnon",description:`Analysis of the fuel nozzle obstruction confirmed. 
- Stress calculations indicate a 15% thrust loss under critical conditions due to reduced fuel flow. 
- Maintenance lapses and insufficient inspection frequency are internal factors contributing to this issue. 
- External factors include variable fuel quality and challenging operational environments. 

### Recommendations:
1. **Increase inspection frequency** to every 50 flight hours to detect blockages early. 
2. **Implement a systematic cleaning protocol** after any incident of reduced fuel flow. 
3. **Proactively monitor fuel quality**, especially during seasonal changes. 
4. **Train maintenance personnel** on best practices to minimize nozzle contamination. 

These measures are essential to ensure the safety and reliability of the A220, while minimizing potential costs associated with major repairs.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-09-19T14:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`### Analyse Finale

L'obstruction des buses de carburant sur l'A220 est principalement due à une **contamination particulaire**. Cette situation entraîne une réduction du débit de carburant, affectant l'efficacité de la combustion et la performance du moteur.

#### Causes Internes
- **Fréquence d'inspection insuffisante** : Les inspections actuelles ne sont pas assez fréquentes pour détecter les obstructions à temps.
- **Lacunes dans la maintenance** : Les protocoles de nettoyage ne sont pas systématiquement appliqués après chaque incident.

#### Causes Externes
- **Qualité variable du carburant** : Des variations dans la qualité du carburant, notamment lors des changements saisonniers, augmentent le risque de contamination.
- **Environnement opérationnel difficile** : Les conditions environnementales peuvent exacerber l'accumulation de particules.

### Plan d'Action
1. **Augmenter la fréquence des inspections** à tous les 50 heures de vol pour une détection précoce des obstructions.
2. **Mettre en œuvre un protocole de nettoyage systématique** après tout incident de réduction du débit de carburant.
3. **Surveiller proactivement la qualité du carburant**, en particulier lors des changements saisonniers.
4. **Former le personnel de maintenance** sur les meilleures pratiques pour minimiser la contamination des buses.
5. **Réévaluer les fournisseurs de carburant** pour garantir une qualité constante et réduire le risque de contamination.

### Recommandation Finale
Ces mesures sont essentielles pour garantir la **sécurité et la fiabilité** de l'A220, tout en réduisant les coûts potentiels liés à des réparations majeures. Une mise en œuvre rapide et efficace de ce plan d'action est cruciale pour maintenir la navigabilité et la performance optimale de l'appareil.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 54",nc_label:"Inadequate protective coating application",nc_scenario_id:"ATA-54-4d73b4814eabc305",nc_event_seed:25935,nc_event_date:"2022-01-08 04:50:57.648000+00:00",nc_event_id:"ATA-54-4d73b4814eabc305-e280",analysis_history:{"000":[{date:"2022-01-08T04:50:57.648Z",role:"Quality Controler",observation:"Coating thickness measurement showing inconsistencies",name:"Léa Tremblay",description:`Non-conformity observed during coating thickness measurement. Inconsistencies noted in the protective coating application on A220 engine pylons. Specific issues include:
- Uneven coating thickness detected.
- Exposed metal surfaces identified in visual audits.
- Affected part: A220-67841, Serial: SN-58, Supplier: CoatTech Industries.`,style:"concise and precise",label:"Inconsistent Coating Thickness Detected"}],100:[{date:"2022-01-08T05:00:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Upon reviewing the non-conformity report submitted by Quality Controler Léa Tremblay, it is evident that the application of the anti-corrosive coating on the A220 engine pylons has significant inconsistencies. The primary cause identified is the outdated spray equipment, which has resulted in uneven coating thickness. This inconsistency poses a risk of corrosion due to exposed metal surfaces. Therefore, it is crucial to conduct a thorough investigation into the coating application process and equipment used. 

**Recommendations:**
1. Immediate assessment of the current spray equipment to determine its suitability for the application of protective coatings.
2. Engage with the supplier, CoatTech Industries, to discuss potential upgrades or replacements for the spray equipment.
3. Schedule a follow-up inspection to measure coating thickness across multiple pylons to gather more data on the extent of the issue.`,style:"verbose",label:"Initial Analysis of Coating Non-Conformity"},{date:"2022-01-08T06:30:00.000Z",role:"Design Office Expert Hydro",name:"Sophie Boucher",description:`In light of the initial analysis, further clarification is required regarding the coating application process. Specifically, the following information is needed:
- Detailed procedure used for applying the anti-corrosive coating.
- Training records for personnel involved in the coating application.
- Maintenance logs for the spray equipment currently in use.

This information will assist in identifying any procedural deficiencies that may have contributed to the non-conformity.`,style:"verbose",label:"Request for Additional Information on Coating Application Process"},{date:"2022-01-08T08:00:00.000Z",role:"Quality Controler",name:"Léa Tremblay",description:`The requested information regarding the coating application process has been compiled and is as follows:
- The procedure for applying the anti-corrosive coating includes surface preparation, application of primer, and final coating. However, the equipment used for spraying has not been updated in several years.
- Training records indicate that personnel have received training, but refresher courses have not been conducted recently.
- Maintenance logs show that the spray equipment has not been serviced in over six months, indicating a potential lapse in equipment upkeep.

This data highlights the need for immediate action to address both equipment and training deficiencies.`,style:"verbose",label:"Response to Additional Information Request"},{date:"2022-01-08T09:30:00.000Z",role:"Design Office",name:"Marc Gagnon",description:`Based on the comprehensive review of the non-conformity report and the additional information provided, the following consolidated analysis and action plan is proposed:

**Analysis:**
The outdated spray equipment and lack of recent training for personnel are significant contributors to the coating inconsistencies. The maintenance logs indicate a neglect of equipment upkeep, which exacerbates the risk of uneven application.

**Action Plan:**
1. Immediate procurement of updated spray equipment to ensure a uniform application of the protective coating.
2. Implementation of a training program for all personnel involved in the coating application, including refresher courses.
3. Establish a regular maintenance schedule for the spray equipment to prevent future issues.
4. Conduct a thorough audit of all coated components to assess the extent of the non-conformity and determine necessary corrective actions.`,style:"verbose",label:"Consolidated Analysis and Action Plan"}],200:[{date:"2022-01-09T11:15:00.000Z",role:"Design Manager",name:"Émile Gagné",description:`**Analysis:**
The inconsistencies in the application of anti-corrosive coatings on A220 engine pylons stem from outdated spray equipment and insufficient training for personnel. Maintenance logs reveal a lack of servicing, contributing to uneven coating thickness and increased corrosion risk.

**Action Plan:**
1. Procure updated spray equipment to ensure uniform coating application.
2. Implement a comprehensive training program for coating application personnel, including refresher courses.
3. Establish a regular maintenance schedule for spray equipment to mitigate future risks.
4. Conduct audits on all coated components to evaluate the extent of the non-conformity and identify corrective actions.

**Recommendation:**
Proceed with the proposed action plan to address the identified issues, ensuring compliance with industry standards and maintaining operational integrity.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-01-10T09:00:00.000Z",role:"Stress Office",name:"Julien Fortier",description:`Conducted initial stress calculations to assess the impact of uneven coating thickness on A220 engine pylons. The analysis indicates that the inconsistencies in coating can lead to localized stress concentrations, increasing the risk of corrosion and structural failure.

**Findings:**
- Uneven coating thickness results in variable load distribution across the pylon structure.
- Areas with exposed metal are at a higher risk of fatigue and corrosion, potentially leading to premature failure.

**Recommendations:**
1. Immediate reapplication of protective coatings with updated spray equipment to ensure uniform thickness.
2. Implement a monitoring system for coating thickness to prevent future discrepancies.
3. Conduct further analysis on specific pylon sections identified as high-risk during the initial assessment.`,style:"concise and precise",label:"Initial Stress Analysis"},{date:"2022-01-10T12:00:00.000Z",role:"Stress Office Expert",name:"Émilie Gagnon",description:`To refine the stress analysis further, additional data is required:
- Detailed load conditions during flight operations for A220 engine pylons.
- Material properties of the protective coatings used.
- Historical data on maintenance and inspections related to the affected pylons.`,style:"concise and precise",label:"Request for Additional Data"},{date:"2022-01-10T15:00:00.000Z",role:"Quality Controller",name:"Léa Tremblay",description:`Provided the requested data:
- Load conditions during typical flight operations have been documented and are available for review.
- Material properties of the protective coatings indicate a tensile strength that meets industry standards but may be compromised due to application inconsistencies.
- Historical maintenance logs show that inspections were conducted regularly, but some records indicate delays in addressing coating issues.`,style:"concise and precise",label:"Response to Additional Data Request"},{date:"2022-01-11T10:00:00.000Z",role:"Stress Office",name:"Julien Fortier",description:`Completed the final stress analysis incorporating the additional data. The results confirm that the uneven coating significantly affects the structural integrity of the pylons.

**Final Findings:**
- Structural simulations indicate that areas with inadequate coating are likely to experience higher stress under operational loads, increasing the risk of failure.
- Recommendations for immediate actions include:
 1. Reapplication of protective coatings with updated equipment to ensure uniform thickness and adherence to specifications.
 2. Establishment of a rigorous inspection and monitoring protocol for coating application and maintenance.
 3. Training for personnel on the updated application techniques to minimize future inconsistencies.

**Conclusion:**
These actions are critical to maintaining the structural integrity and operational safety of the A220 aircraft.`,style:"concise and precise",label:"Final Stress Analysis and Recommendations"}],400:[{date:"2022-01-12T11:30:00.000Z",role:"Stress Manager",name:"Julien Boucher",description:`**Analysis:**
The stress calculations confirm that the uneven application of protective coatings on the A220 engine pylons significantly compromises structural integrity. Areas with inadequate coating thickness are subject to higher stress concentrations, increasing the risk of corrosion and potential structural failure.

**Action Plan:**
1. Immediate reapplication of protective coatings using updated spray equipment to ensure uniform thickness and compliance with specifications.
2. Establish a rigorous inspection and monitoring protocol for coating application to prevent future discrepancies.
3. Implement a comprehensive training program for personnel on updated application techniques to minimize inconsistencies.
4. Schedule regular audits of coated components to assess the effectiveness of corrective actions.

**Recommendation:**
Proceed with the proposed action plan to mitigate risks associated with uneven coating and ensure the operational safety of the A220 aircraft.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-01-13T15:45:00.000Z",role:"Quality Manager",name:"Luc Desjardins",description:`**Analyse des Causes :**

Les incohérences dans l'application des revêtements protecteurs sur les pylônes moteurs de l'A220 sont principalement dues à des équipements de pulvérisation obsolètes (cause interne) et à un manque de formation récente du personnel (cause interne). Les audits de maintenance révèlent un manque d'entretien régulier, exacerbant les risques de corrosion et de défaillance structurelle.

**Plan d'Action :**

1. **Rééquipement :**
 - Acquisition immédiate d'équipements de pulvérisation modernes pour garantir une application uniforme des revêtements protecteurs.
 - Collaboration avec le fournisseur CoatTech Industries pour évaluer et améliorer les équipements existants.

2. **Formation :**
 - Mise en place d'un programme de formation complet pour le personnel impliqué dans l'application des revêtements, incluant des cours de recyclage réguliers.

3. **Maintenance :**
 - Établissement d'un calendrier de maintenance rigoureux pour les équipements de pulvérisation afin de prévenir les problèmes futurs.

4. **Audit et Surveillance :**
 - Réalisation d'audits approfondis de tous les composants revêtus pour évaluer l'étendue de la non-conformité et identifier les actions correctives nécessaires.
 - Mise en place d'un protocole de surveillance continue pour l'application et l'entretien des revêtements.

**Recommandation Finale :**

Il est impératif de procéder avec le plan d'action proposé pour atténuer les risques associés aux revêtements inégaux et assurer la sécurité opérationnelle des avions A220. Ces mesures permettront de garantir la navigabilité, de réduire les coûts de maintenance imprévus et d'assurer la conformité aux normes industrielles.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Powerplant",ATA_code:"ATA 80",nc_label:"Fuel pump failure due to electrical fault",nc_scenario_id:"ATA-80-581bc105ac13057e",nc_event_seed:29843,nc_event_date:"2021-07-29 08:50:58.319000+00:00",nc_event_id:"ATA-80-581bc105ac13057e-dd42",analysis_history:{"000":[{date:"2021-07-29T08:50:58.319Z",role:"Quality Controler",observation:"Functional test irregularities during quality phases",name:"Liam Tremblay",description:`This report pertains to the observation of non-conformity regarding functional test irregularities that were noted during the various quality phases of the production process. Specifically, it has been observed that there were inconsistencies in the performance metrics of the fuel pump assemblies, which are critical components in the overall fuel delivery system. 

Upon initial inspection, it was noted that the fuel pump identified by part number FUEL-PMP-0452 and serial number A220-FP-26681, supplied by ElectricFlow Co., exhibited signs of irregular operation during the functional tests. These irregularities could potentially lead to significant operational issues if not addressed promptly. 

The quality phases in which these irregularities were detected are crucial as they serve as checkpoints to ensure that all components meet the required standards before proceeding to subsequent stages of assembly and integration. The implications of these findings necessitate a thorough investigation to ascertain the root causes and to implement corrective actions to mitigate any risks associated with the fuel pump's performance.`,style:"verbose",label:"Irregularities in Functional Testing During Quality Assessment"}],100:[{date:"2021-07-29T09:30:58.319Z",role:"Design Office",name:"Julien Boucher",description:"Review report from Quality Controler. Noted irregularities in functional testing of fuel pump FUEL-PMP-0452. Main concern is electrical fault due to inadequate sealing. Need to check wiring insulation and alignment. Suggest to involve Design Office Expert Elec for deeper analysis.",style:"not fully fluent",label:"Initial Analysis of Fuel Pump Irregularities"},{date:"2021-07-29T11:15:58.319Z",role:"Design Office Expert Elec",name:"Sophie Gagnon",description:"Conducted inspection of wiring in fuel pump assembly. Found misalignment and improper insulation. Recommend redesign of wiring harness to improve sealing. Suggest testing new harness in next assembly phase.",style:"not fully fluent",label:"Electrical Wiring Inspection"},{date:"2021-07-30T10:00:58.319Z",role:"Design Office",name:"Julien Boucher",description:"Reviewed findings from Expert Elec. Confirmed need for wiring harness redesign. Immediate action: replace faulty harnesses in affected pumps. Long-term action: implement improved sealing methods. Document all changes for future reference.",style:"not fully fluent",label:"Consolidation of Findings"},{date:"2021-07-30T14:45:58.319Z",role:"Quality Controler",name:"Liam Tremblay",description:"Received recommendations from Design Office. Validated need for wiring harness replacement. Will monitor implementation and report any further irregularities during quality checks.",style:"not fully fluent",label:"Validation of Design Office Recommendations"}],200:[{date:"2021-07-31T10:30:58.319Z",role:"Design Manager",name:"Mathieu Gagnon",description:`### Analysis and Action Plan Validation

The analysis conducted by the Design Office highlights critical issues related to the fuel pump assembly, specifically the electrical faults stemming from inadequate sealing of wiring connections. The identified causes include:

- **Internal Causes:**
 - Misalignment of wiring during assembly.
 - Improper insulation of wiring harnesses.

- **External Causes:**
 - Material incompatibility leading to insulation failure.

### Recommendations:
1. **Immediate Actions:**
 - Replace faulty wiring harnesses in affected fuel pumps (FUEL-PMP-0452).
 - Implement enhanced sealing methods in the assembly process to prevent future irregularities.

2. **Long-term Actions:**
 - Redesign the wiring harness to improve insulation and alignment.
 - Conduct thorough testing of the new harness design in the next assembly phase.

### Conclusion:
The proposed actions aim to mitigate risks associated with fuel pump performance, ensuring compliance with navigability and reliability standards. Monitoring and documentation of all changes will be critical for future reference.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2021-08-01T10:30:58.319Z",role:"Stress Office",name:"Marc Dupuis",description:`### Stress Analysis Results

Conducted stress analysis on wiring harness redesign for fuel pump FUEL-PMP-0452. Key findings:

- **Internal Causes Identified:**
 - Misalignment during assembly leads to stress concentration.
 - Insulation failure due to improper materials.

- **External Causes Considered:**
 - Supplier material quality issues affecting insulation durability.

### Recommendations:
1. **Immediate Actions:**
 - Implement redesigned wiring harness with improved alignment and insulation.
 - Conduct further testing to validate stress distribution under operational conditions.

2. **Long-term Actions:**
 - Establish stricter supplier quality controls to ensure material compatibility.
 - Monitor performance metrics post-implementation to ensure compliance with safety standards.

### Conclusion:
The proposed actions aim to enhance reliability and prevent future failures. Continuous monitoring is essential to ensure long-term effectiveness.`,style:"not fully fluent",label:"Stress Analysis of Fuel Pump Wiring Issue"},{date:"2021-08-01T12:00:58.319Z",role:"Quality Controller",name:"Liam Tremblay",description:"Need detailed specifications on wiring materials used in FUEL-PMP-0452. This is crucial for assessing compatibility with new insulation methods proposed by Stress Office.",style:"not fully fluent",label:"Request for Additional Data on Wiring Materials"},{date:"2021-08-01T15:30:58.319Z",role:"Stress Office",name:"Marc Dupuis",description:"Awaiting response from Quality Controller regarding wiring material specifications. This information is necessary to finalize stress analysis and ensure safety compliance.",style:"not fully fluent",label:"Follow-up on Wiring Material Specifications"},{date:"2021-08-02T09:00:58.319Z",role:"Quality Controller",name:"Liam Tremblay",description:"Provided detailed specifications on wiring materials used in FUEL-PMP-0452. Confirmed compatibility with proposed insulation methods. Stress Office can proceed with final analysis.",style:"not fully fluent",label:"Provision of Wiring Material Specifications"},{date:"2021-08-02T11:30:58.319Z",role:"Stress Office",name:"Marc Dupuis",description:`### Final Stress Analysis Results

Completed analysis with provided wiring material specifications. Key outcomes:

- **Revised Recommendations:**
 - Proceed with redesigned wiring harness implementation.
 - Monitor stress distribution during operational testing.

### Conclusion:
Final recommendations aim to ensure structural integrity and operational reliability of fuel pump systems. Continuous evaluation is critical for maintaining safety standards.`,style:"not fully fluent",label:"Final Stress Analysis Report"}],400:[{date:"2021-08-03T10:15:58.319Z",role:"Stress Manager",name:"Étienne Gagnon",description:`### Stress Analysis Validation and Final Recommendations

After reviewing the final stress analysis results regarding the redesigned wiring harness for fuel pump FUEL-PMP-0452, the following key points were noted:

- **Stress Distribution:** The redesigned harness shows improved stress distribution under operational conditions, addressing previous misalignment and insulation issues.

- **Material Compatibility:** Confirmed compatibility of wiring materials with new insulation methods, ensuring durability and reliability.

### Recommendations:
1. **Immediate Actions:**
 - Implement the redesigned wiring harness in the next production batch of fuel pumps.
 - Conduct operational testing to monitor performance metrics and stress distribution.

2. **Long-term Actions:**
 - Establish ongoing monitoring protocols to track performance and identify any future irregularities.
 - Collaborate with suppliers to ensure consistent quality of materials used in wiring harnesses.

### Conclusion:
The proposed actions aim to enhance the reliability and safety of the fuel pump systems. Continuous evaluation is essential to maintain compliance with operational standards.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2021-08-04T14:45:58.319Z",role:"Quality Manager",name:"Alexandre Bouchard",description:`### Analyse Finale et Recommandations

#### Contexte et Analyse des Causes

La non-conformité identifiée concerne la défaillance de la pompe à carburant FUEL-PMP-0452 en raison de défauts électriques. Les causes principales sont :

- **Causes Internes :**
 - Mauvais alignement du câblage lors de l'assemblage.
 - Isolation inadéquate des faisceaux de câbles.

- **Causes Externes :**
 - Incompatibilité des matériaux fournis, affectant la durabilité de l'isolation.

#### Impact et Risques

- **Navigabilité :** Risque de panne du système de carburant, pouvant entraîner un arrêt moteur en vol.
- **Coûts :** Environ 50 000 $ associés à la réparation de 50 pièces et un temps d'arrêt de 1 000 jours.

#### Plan d'Action

1. **Actions Immédiates :**
 - Remplacer les faisceaux de câbles défectueux dans les pompes concernées.
 - Mettre en œuvre des méthodes d'étanchéité améliorées pour prévenir les irrégularités futures.

2. **Actions à Long Terme :**
 - Reconcevoir le faisceau de câbles pour améliorer l'isolation et l'alignement.
 - Tester le nouveau design lors de la prochaine phase d'assemblage.
 - Établir des contrôles de qualité plus stricts chez les fournisseurs pour assurer la compatibilité des matériaux.

#### Conclusion

Les actions proposées visent à améliorer la fiabilité et la sécurité des systèmes de pompes à carburant, tout en garantissant la conformité avec les normes de navigabilité. Une évaluation continue est essentielle pour maintenir les standards opérationnels et éviter des coûts supplémentaires liés à des corrections tardives. L'implémentation rapide et le suivi rigoureux des performances sont cruciaux pour la réussite de ce plan.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 75",nc_label:"Engine fuel pump misalignment",nc_scenario_id:"ATA-54-3f836931ceeeaeb3",nc_event_seed:7012,nc_event_date:"2024-03-06 15:50:57.662000+00:00",nc_event_id:"ATA-54-3f836931ceeeaeb3-9515",analysis_history:{"000":[{date:"2024-03-06T15:50:57.662Z",role:"Quality Controler",observation:"Performance testing audit reduced engine efficiency",name:"Julien Tremblay",description:"Performance testing audit indicates reduced engine efficiency observed during recent evaluations. Specific measurements show discrepancies in fuel delivery system performance. Notable issues identified in the fuel pump assembly, particularly in part FUEL-ENG-220-01, serial SN-36628 from supplier ABC Aerospace. Immediate attention required to address potential misalignment and its implications on overall engine performance.",style:"elusive",label:"Engine Efficiency Reduction Audit"}],100:[{date:"2024-03-06T16:15:57.662Z",role:"Design Office",name:"Émile Gagnon",description:"Review of performance testing audit indicates misalignment in fuel pump assembly (FUEL-ENG-220-01, SN-36628). Misalignment identified as primary cause of reduced engine efficiency. Further investigation required to quantify impact on fuel delivery system and overall engine performance.",style:"concise and precise",label:"Initial Analysis of Misalignment Issue"},{date:"2024-03-06T17:30:57.662Z",role:"Design Office Expert Elec",name:"Sophie Lavoie",description:"Requesting assessment of electrical system implications due to fuel pump misalignment. Need to evaluate potential effects on fuel delivery control systems and any related electrical components.",style:"concise and precise",label:"Request for Electrical System Impact Assessment"},{date:"2024-03-06T18:45:57.662Z",role:"Design Office Expert Hydro",name:"Marc Dupuis",description:"Requesting evaluation of hydraulic systems associated with fuel pump operation. Determine if misalignment could affect hydraulic pressure and flow, impacting engine performance.",style:"concise and precise",label:"Request for Hydraulic System Impact Assessment"},{date:"2024-03-07T09:00:57.662Z",role:"Quality Controler",name:"Julien Tremblay",description:"Providing additional data on fuel pump assembly installation procedures. Confirming that improper jig alignment was used during installation. Suggesting review of installation guidelines to prevent recurrence.",style:"concise and precise",label:"Response to Design Office Requests"},{date:"2024-03-07T10:15:57.662Z",role:"Design Office",name:"Émile Gagnon",description:"Based on gathered data, recommend immediate realignment of fuel pump assembly to restore optimal performance. Implement training for assembly personnel on proper jig alignment procedures. Schedule follow-up performance testing post-correction to ensure compliance.",style:"concise and precise",label:"Consolidated Analysis and Mitigation Plan"}],200:[{date:"2024-03-08T11:30:57.662Z",role:"Design Manager",name:"Mathieu Gagnon",description:`Analysis confirms misalignment issue in fuel pump assembly (FUEL-ENG-220-01, SN-36628) as primary cause of reduced engine efficiency. Recommended actions include:

- Immediate realignment of fuel pump assembly to restore optimal performance.
- Training for assembly personnel on proper jig alignment procedures to prevent recurrence.
- Follow-up performance testing post-correction to ensure compliance with efficiency standards.

No structural impact presumed at this stage. Focus on ensuring navigability and reliability of the A220 engine.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2024-03-09T09:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Résultats de l'Analyse de Stress

Après avoir effectué des calculs de stress détaillés sur la structure liée à l'assemblage de la pompe à carburant (FUEL-ENG-220-01, SN-36628), plusieurs observations ont été faites concernant l'impact de l'alignement incorrect sur la performance structurelle de l'A220.

#### Analyse des Causes
1. **Causes Internes :**
 - **Erreur d'Assemblage :** L'utilisation d'un gabarit mal aligné lors de l'installation de la pompe à carburant a conduit à une mauvaise orientation, entraînant des forces non uniformes sur la structure environnante.
 - **Mauvaise Calibration :** Les outils de mesure utilisés pour l'assemblage n'étaient pas correctement calibrés, augmentant le risque d'erreurs d'installation.

2. **Causes Externes :**
 - **Défauts Fournisseurs :** Les composants fournis par ABC Aerospace peuvent avoir des tolérances qui ne respectent pas les spécifications, exacerbant le problème d'alignement.
 - **Conditions Environnementales :** Les variations de température et d'humidité peuvent affecter les matériaux utilisés dans l'assemblage, entraînant des déformations.

#### Recommandations
- **Réalignement Immédiat :** Procéder à un réalignement de la pompe à carburant pour restaurer l'efficacité optimale. Ce processus doit être effectué par des techniciens formés spécifiquement sur les procédures de gabarit.
- **Formation du Personnel :** Mettre en place un programme de formation pour le personnel d'assemblage afin de garantir une compréhension approfondie des procédures d'alignement et des outils de mesure.
- **Suivi des Performances :** Planifier des tests de performance après la correction pour s'assurer que les normes d'efficacité sont atteintes et que la navigabilité de l'A220 est maintenue.
- **Évaluation des Composants :** Réaliser une évaluation approfondie des composants fournis par ABC Aerospace pour identifier d'éventuels défauts de fabrication ou de conception.

#### Conclusion
Les résultats des calculs de stress indiquent qu'un alignement correct est crucial pour la performance structurelle et opérationnelle de l'A220. Si ces recommandations ne sont pas mises en œuvre rapidement, il existe un risque accru de défaillance structurelle, ce qui pourrait entraîner des coûts de maintenance significatifs et des interruptions d'opération.`,style:"verbose",label:"Analyse des Calculs de Stress et Recommandations"},{date:"2024-03-09T12:00:00.000Z",role:"Quality Controller",name:"Julien Tremblay",description:"Suite aux résultats de l'analyse de stress, je sollicite des informations complémentaires concernant les procédures d'assemblage et les spécifications des composants fournis par ABC Aerospace. Ces données sont essentielles pour évaluer l'impact potentiel sur la structure et garantir la conformité aux normes de sécurité.",style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2024-03-10T10:00:00.000Z",role:"Stress Office",name:"Alexandre Gagnon",description:`### Réponse aux Informations Complémentaires Demandées

J'ai reçu la demande d'informations complémentaires concernant les procédures d'assemblage et les spécifications des composants. Voici les détails requis :

1. **Procédures d'Assemblage :**
 - Les procédures d'assemblage actuelles doivent être examinées pour s'assurer qu'elles incluent des étapes de vérification de l'alignement et des calibrations des outils avant l'assemblage.
 - Un audit des pratiques d'assemblage doit être réalisé pour identifier les lacunes dans la formation du personnel.

2. **Spécifications des Composants :**
 - Une demande d'évaluation des tolérances et des spécifications des pièces fournies par ABC Aerospace doit être faite pour s'assurer qu'elles répondent aux exigences de conception de l'A220.

### Prochaines Étapes
Je vais préparer un rapport détaillé basé sur ces informations et les intégrer dans l'analyse globale pour garantir que toutes les mesures nécessaires sont prises pour maintenir l'intégrité structurelle de l'A220.`,style:"verbose",label:"Réponse à la Demande d'Informations"}],400:[{date:"2024-03-11T14:30:00.000Z",role:"Stress Manager",name:"Émile Fortier",description:`### Stress Analysis Validation

After reviewing the detailed stress calculations related to the fuel pump assembly (FUEL-ENG-220-01, SN-36628), the following points are confirmed:

1. **Misalignment Impact:** The misalignment has been validated as a significant factor affecting both structural integrity and operational efficiency of the A220 engine. The forces exerted due to improper alignment can lead to increased wear and potential failure of surrounding components.

2. **Recommended Actions:**
 - **Immediate Realignment:** It is imperative to proceed with the realignment of the fuel pump assembly to restore optimal performance. This should be executed by trained technicians to ensure precision.
 - **Training Implementation:** A comprehensive training program for assembly personnel on proper jig alignment procedures must be established to mitigate future risks.
 - **Performance Testing:** Follow-up performance testing should be scheduled post-correction to ensure compliance with efficiency standards and verify that the corrective actions have been effective.
 - **Supplier Component Evaluation:** An assessment of the components provided by ABC Aerospace is necessary to ensure they meet the required specifications and tolerances, addressing any potential defects.

3. **Conclusion:** The stress calculations indicate that without prompt action, there is a heightened risk of structural failure, which could lead to significant maintenance costs and operational disruptions. Therefore, it is crucial to implement the recommended actions swiftly to maintain the integrity and reliability of the A220 engine.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2024-03-12T17:45:00.000Z",role:"Quality Manager",name:"Luc Bouchard",description:`### Analyse et Recommandation Finale

#### Contexte
Une non-conformité a été identifiée concernant l'alignement incorrect de la pompe à carburant sur le moteur A220, spécifiquement la pièce FUEL-ENG-220-01, série SN-36628, fournie par ABC Aerospace. Cela a conduit à une diminution de l'efficacité du moteur, avec des implications potentielles sur la performance structurelle et opérationnelle.

#### Analyse des Causes
- **Causes Internes :**
 - **Erreur d'Assemblage :** Utilisation d'un gabarit mal aligné lors de l'installation.
 - **Mauvaise Calibration :** Outils de mesure non calibrés correctement, augmentant le risque d'erreurs.

- **Causes Externes :**
 - **Défauts Fournisseurs :** Tolérances des composants potentiellement non conformes aux spécifications.
 - **Conditions Environnementales :** Variations de température et d'humidité affectant les matériaux.

#### Recommandations
- **Réalignement Immédiat :**
 - Procéder à un réalignement immédiat de la pompe à carburant par des techniciens formés.

- **Formation et Procédures :**
 - Mettre en place un programme de formation pour le personnel d'assemblage sur les procédures d'alignement et de calibration.
 - Réviser les procédures d'assemblage pour inclure des vérifications systématiques de l'alignement.

- **Évaluation des Composants :**
 - Effectuer une évaluation approfondie des composants fournis par ABC Aerospace pour garantir la conformité aux spécifications.

- **Suivi des Performances :**
 - Planifier des tests de performance post-correction pour vérifier l'efficacité et la conformité.

#### Conclusion
La mise en œuvre rapide de ces recommandations est cruciale pour maintenir l'intégrité structurelle et opérationnelle du moteur A220. Cela permettra de réduire les risques de défaillance structurelle, d'optimiser les coûts de maintenance et de garantir la navigabilité et la fiabilité des appareils.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 53",nc_label:"Inadequate bonding of components materials",nc_scenario_id:"ATA-53-90c475f203065dc6e",nc_event_seed:13512,nc_event_date:"2023-06-09 19:50:57.124000+00:00",nc_event_id:"ATA-53-90c475f203065dc6e-5506",analysis_history:{"000":[{date:"2023-06-09T19:50:57.124Z",role:"Quality Controler",observation:"Ultrasonic testing revealing from dimensional",name:"Léa Tremblay",description:`Observation of inadequate bonding in component materials noted during ultrasonic testing. 

Specific issues identified: 
- Dimensional discrepancies observed in bonded areas. 
- Potential implications for structural integrity. 

Part details: 
- Part Number: 69192 
- Serial Number: SN-2345 
- Supplier: Composite Solutions Ltd.`,style:"elusive",label:"Inadequate Bonding Detection"}],100:[],200:[{date:"2023-06-10T15:30:00Z",role:"Design Manager",name:"Mathieu Gagnon",description:`Analysis of inadequate bonding issue noted during ultrasonic testing. 

**Causes Identified:** 
- Internal: Assembly errors, lack of proper calibration of equipment. 
- External: Environmental factors, humidity and temperature fluctuations during assembly. 

**Action Plan:** 
1. Review assembly procedures for environmental controls. 
2. Implement stricter material management protocols. 
3. Conduct training for assembly personnel on adhesive application. 

**Recommendation:** 
- Immediate focus on improving environmental conditions during assembly. 
- Regular audits of bonding processes to ensure compliance. 
- Monitor and document bonding quality to reduce future incidents.`,style:"not fully fluent",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2023-06-11T09:30:00Z",role:"Stress Office",name:"Julien Boucher",description:`### Résultats de l'analyse de stress

Après avoir effectué des calculs de stress approfondis sur les zones concernées par le collage inadéquat des matériaux, plusieurs observations et recommandations ont été formulées. 

#### Analyse des causes
- **Causes internes :** 
 - Erreurs d'assemblage dues à un manque de formation des opérateurs sur les techniques de collage. 
 - Calibration inadéquate des équipements de mesure, entraînant des écarts dimensionnels dans les zones collées. 

- **Causes externes :** 
 - Fluctuations de température et d'humidité pendant le processus d'assemblage, impactant le durcissement de l'adhésif. 
 - Conditions environnementales non contrôlées dans l'atelier de production. 

#### Impact sur la structure
Les résultats des calculs indiquent que les zones de collage affectées présentent un risque accru de défaillance structurelle, particulièrement en conditions de vol. Les charges appliquées sur ces zones pourraient entraîner des déformations critiques, compromettant la sécurité opérationnelle de l'A220.

#### Recommandations
1. **Amélioration des conditions environnementales :** 
 - Installer des systèmes de contrôle climatique dans les zones d'assemblage pour maintenir des niveaux d'humidité et de température constants. 
2. **Formation des opérateurs :** 
 - Mettre en place des sessions de formation régulières pour le personnel sur les techniques de collage et l'importance de la calibration des équipements. 
3. **Audits réguliers :** 
 - Effectuer des audits fréquents des processus de collage pour garantir la conformité aux nouvelles normes. 
4. **Suivi des performances :** 
 - Mettre en place un système de suivi et de documentation des performances de collage pour détecter rapidement les anomalies.

#### Conclusion
Il est impératif d'agir rapidement pour corriger ces non-conformités afin de garantir la sécurité et la navigabilité de l'A220. Les recommandations ci-dessus doivent être mises en œuvre sans délai pour éviter des réparations coûteuses et des retards dans la production.`,style:"verbose",label:"Analyse des résultats de calculs de stress liés à la non-conformité"},{date:"2023-06-11T15:00:00Z",role:"Quality Controller",name:"Léa Tremblay",description:`### Validation des recommandations du Stress Office

Après avoir examiné les résultats de l'analyse de stress effectuée par le Stress Office, je confirme que les recommandations proposées sont pertinentes et doivent être mises en œuvre. 

#### Points à valider :
1. **Contrôle climatique :** 
 - Vérifier la faisabilité de l'installation de systèmes de contrôle climatique dans les ateliers de production. 
2. **Formation :** 
 - Établir un calendrier pour les sessions de formation des opérateurs. 
3. **Audits :** 
 - Planifier les audits réguliers des processus de collage et établir un rapport de suivi. 
4. **Documentation :** 
 - Mettre en place un système de documentation pour le suivi des performances de collage. 

#### Conclusion
Les recommandations doivent être considérées comme prioritaires pour assurer la conformité et la sécurité des opérations. Je vais maintenant transmettre ces recommandations au Design Manager pour approbation finale.`,style:"verbose",label:"Validation des recommandations du Stress Office"},{date:"2023-06-12T10:00:00Z",role:"Design Manager",name:"Mathieu Gagnon",description:`### Approbation finale des recommandations du Stress Office

Après avoir pris en compte les validations et les recommandations du Quality Controller et du Stress Office, je donne mon approbation pour la mise en œuvre des actions suivantes : 

#### Actions approuvées :
1. **Installation de systèmes de contrôle climatique** dans les zones d'assemblage pour garantir des conditions optimales de collage. 
2. **Formation des opérateurs** sur les techniques de collage et l'importance de la calibration des équipements. 
3. **Audits réguliers** des processus de collage pour assurer la conformité. 
4. **Système de suivi et de documentation** des performances de collage pour détecter rapidement les anomalies. 

#### Prochaines étapes
Je vais coordonner avec les équipes concernées pour planifier la mise en œuvre de ces recommandations et assurer un suivi adéquat. Il est essentiel que ces mesures soient prises rapidement pour éviter des incidents futurs.`,style:"verbose",label:"Approbation finale des recommandations"}],400:[{date:"2023-06-13T14:30:00Z",role:"Stress Manager",name:"Émile Fournier",description:`### Validation of Stress Analysis and Recommendations

After reviewing the stress calculations and impact analysis conducted by the Stress Office, I confirm the following:

#### Summary of Findings
- The inadequate bonding of components has been linked to environmental factors, specifically humidity and temperature fluctuations during assembly. 
- Structural calculations indicate a significant risk of failure in the affected areas, particularly under operational loads.

#### Action Plan Review
1. **Environmental Control Implementation:** 
 - Ensure that climate control systems are installed and operational in assembly areas to maintain consistent humidity and temperature levels.
2. **Operator Training:** 
 - Conduct comprehensive training sessions for assembly personnel on adhesive application techniques and the importance of equipment calibration.
3. **Regular Audits:** 
 - Establish a schedule for frequent audits of bonding processes to ensure compliance with the new standards.
4. **Performance Monitoring:** 
 - Develop a robust documentation system for monitoring bonding performance to quickly identify and address any anomalies.

#### Final Recommendations
- Immediate action is required to implement the above measures to prevent costly repairs and ensure the safety of the A220. 
- Continuous monitoring and improvement of bonding processes are essential to achieve a target of less than 1% inadequate bonding instances. 

#### Conclusion
The recommendations outlined must be prioritized to ensure operational safety and compliance. I will coordinate with relevant teams to facilitate the implementation of these actions.`,style:"verbose",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2023-06-14T10:45:00Z",role:"Quality Manager",name:"Jean-François Lavoie",description:`### Analyse et Recommandation Finale

#### Contexte
Une non-conformité a été identifiée dans le collage des matériaux des composants de l'A220, avec un impact potentiel sur l'intégrité structurelle et la sécurité en vol.

#### Analyse des Causes
- **Causes Internes :**
 - Erreurs d'assemblage dues à un manque de formation adéquate des opérateurs.
 - Calibration incorrecte des équipements de mesure, entraînant des écarts dimensionnels.
- **Causes Externes :**
 - Fluctuations de température et d'humidité non contrôlées pendant l'assemblage.
 - Défauts potentiels dans les matériaux fournis par les fournisseurs.

#### Impact
- Risque accru de défaillance structurelle sous charges opérationnelles.
- Coût estimé de 60,000 $ par incident, avec un retard potentiel de 10 heures.

#### Plan d'Action
1. **Contrôle Environnemental :**
 - Installer des systèmes de régulation climatique dans les zones d'assemblage pour stabiliser l'humidité et la température.
2. **Formation et Calibration :**
 - Organiser des sessions de formation pour le personnel sur les techniques de collage et la calibration des équipements.
3. **Audits et Suivi :**
 - Mettre en place des audits réguliers des processus de collage et un système de suivi des performances pour détecter rapidement les anomalies.

#### Recommandation Finale
- **Priorité :** Mise en œuvre immédiate des mesures pour éviter des réparations coûteuses et garantir la sécurité de l'A220.
- **Objectif :** Réduire les cas de collage inadéquat à moins de 1%.

#### Conclusion
Les actions recommandées sont essentielles pour assurer la conformité et la sécurité des opérations. Une coordination étroite avec les équipes concernées est nécessaire pour une exécution rapide et efficace.`,style:"concise",label:"Validation de l'Analyse et Recommandation Finale"}]}},{ATA_category:"Structures",ATA_code:"ATA 57",nc_label:"Surface misalignment of skin panels",nc_scenario_id:"ATA-57-1299fe5722b6d171e7b",nc_event_seed:22509,nc_event_date:"2022-05-30 22:50:57.231000+00:00",nc_event_id:"ATA-57-1299fe5722b6d171e7b-b885",analysis_history:{"000":[{date:"2022-05-30T22:50:57.231Z",role:"Quality Controler",observation:"Detected during aerodynamic smoothing process",name:"Julien Tremblay",description:`Report regarding the detected non-conformity during the aerodynamic smoothing process. Specific observations include:
- Misalignment of skin panels noted on part 57-301-SKIN, serial SN67395 from supplier Global Aero Structures.
- Visible gaps and inconsistencies in panel alignment.
- Potential impact on aerodynamic performance and fuel efficiency observed.
- No immediate corrective measures taken at this stage.`,style:"verbose",label:"Surface Misalignment of Skin Panels"}],100:[],200:[{date:"2022-06-01T10:15:00Z",role:"Design Manager",name:"Émile Gagnon",description:`### Analysis Summary
- **Issue**: Surface misalignment of skin panels on part 57-301-SKIN, serial SN67395.
- **Primary Cause**: Incorrect jig settings during subassembly installation due to inadequate weakness settings.
- **Contributing Factors**: Insufficient training on updated jig configurations.

### Recommended Action Plan
1. **Immediate Training**: Implement a focused training session for assembly personnel on the latest jig settings.
2. **Jig Calibration Review**: Conduct a thorough review and recalibration of jigs used in the A220 production line.
3. **Inspection Protocol**: Establish enhanced inspection protocols to detect misalignments early in the assembly process.
4. **Supplier Collaboration**: Engage with Global Aero Structures to discuss potential improvements in part design and assembly processes.

### Final Recommendation
- Proceed with the outlined action plan to mitigate risks associated with skin panel misalignment. Ensure all measures are documented and monitored for effectiveness.`,style:"concise and precise",label:"Validation de l'Analyse et Recommandation Finale avant calculs"}],300:[{date:"2022-06-02T10:30:00Z",role:"Stress Office",name:"Émile Boucher",description:`### Résultats de l'Analyse
- **Problème**: Alignement incorrect des panneaux de peau sur la pièce 57-301-SKIN, numéro de série SN67395.
- **Impact Structurel**: Les misalignements observés entraînent des contraintes supplémentaires sur la structure, augmentant le risque de fatigue et de défaillance à long terme.

### Analyse des Causes
- **Causes Internes**:
 - Mauvaise calibration des gabarits utilisés lors de l'installation en sous-assemblage.
 - Formation insuffisante du personnel sur les mises à jour récentes des gabarits.
- **Causes Externes**:
 - Variabilité dans les matériaux fournis par Global Aero Structures.

### Recommandations
1. **Calibration Immédiate**: Recalibrer tous les gabarits utilisés sur la ligne de production A220.
2. **Formation Renforcée**: Organiser des sessions de formation pour le personnel sur les gabarits mis à jour.
3. **Inspection Accrue**: Mettre en place des inspections régulières pour détecter les misalignements dès que possible.
4. **Collaboration avec le Fournisseur**: Travailler avec Global Aero Structures pour améliorer la qualité des pièces fournies.

### Plan d'Action Consolidé
- Mettre en œuvre les recommandations ci-dessus dans un délai de 30 jours.
- Suivre l'efficacité des mesures par des audits mensuels.`,style:"skills limits",label:"Analyse des Calculs de Stress"},{date:"2022-06-02T12:00:00Z",role:"Quality Controller",name:"Julien Tremblay",description:`### Demande d'Informations
- **Besoin**: Précisions sur les méthodes de calibration des gabarits et les résultats des formations précédentes.
- **Objectif**: Assurer que les mesures correctives soient basées sur des données précises et pertinentes.`,style:"concise and precise",label:"Demande d'Informations Complémentaires"},{date:"2022-06-02T14:00:00Z",role:"Stress Office",name:"Émile Boucher",description:`### Réponse
- **Méthodes de Calibration**: Utilisation de standards de référence pour chaque type de gabarit, vérification trimestrielle recommandée.
- **Résultats de Formation**: Les sessions précédentes ont montré un taux de compréhension de 70%, nécessitant des sessions de suivi.

### Actions à Entreprendre
- Organiser une session de formation supplémentaire dans les deux semaines.`,style:"skills limits",label:"Réponse à la Demande d'Informations"},{date:"2022-06-03T09:00:00Z",role:"Stress Office Expert",name:"Lucie Roy",description:`### Validation Finale
- **Conclusion**: Les ajustements proposés ne compromettent pas l'intégrité structurelle de l'A220.
- **Recommandations Finales**:
 - Implémenter les ajustements de gabarits et les formations dans les délais impartis.
 - Continuer à surveiller l'impact sur la performance aérodynamique et la consommation de carburant.

### Suivi
- Prévoir une réévaluation des performances dans 6 mois pour mesurer l'efficacité des mesures mises en place.`,style:"skills limits",label:"Validation Finale des Calculs de Stress"}],400:[{date:"2022-06-04T11:30:00Z",role:"Stress Manager",name:"Marc-Antoine Gagné",description:`### Analysis Summary
- **Issue**: Surface misalignment of skin panels on part 57-301-SKIN, serial SN67395.
- **Structural Impact**: Misalignments lead to additional stress on the structure, increasing the risk of fatigue and long-term failure.

### Action Plan Review
1. **Immediate Training**: Training sessions on updated jig settings have been scheduled.
2. **Jig Calibration**: Calibration of jigs is underway, with results to be documented.
3. **Enhanced Inspection**: New inspection protocols have been implemented to catch misalignments early.
4. **Supplier Collaboration**: Ongoing discussions with Global Aero Structures to improve part quality.

### Final Recommendations
- Ensure all actions are completed within the specified timelines.
- Monitor the effectiveness of measures through monthly audits.
- Reassess structural performance in 6 months to evaluate the impact of implemented changes.`,style:"skills limits",label:"Validation de l'Analyse et Recommandation après calculs"}],500:[{date:"2022-06-05T15:45:00Z",role:"Quality Manager",name:"Alexandre Fortin",description:`### Analyse Finale

#### Problème
- **Désalignement de surface**: Panneaux de peau sur la pièce 57-301-SKIN, numéro de série SN67395.

#### Causes
- **Internes**:
 - **Erreur d'assemblage**: Réglages incorrects des gabarits lors de l'installation en sous-assemblage.
 - **Mauvaise calibration**: Calibration inadéquate des gabarits.
 - **Formation insuffisante**: Manque de formation sur les mises à jour récentes des gabarits.
- **Externes**:
 - **Défauts fournisseurs**: Variabilité dans les matériaux fournis par Global Aero Structures.

#### Impact
- **Aérodynamique**: Augmentation de la traînée, réduisant l'efficacité énergétique.
- **Structurel**: Contraintes supplémentaires augmentant le risque de fatigue et de défaillance à long terme.

### Plan d'Action
1. **Formation Immédiate**: Sessions de formation ciblées pour le personnel sur les réglages des gabarits.
2. **Revue de Calibration**: Recalibrage complet des gabarits utilisés sur la ligne de production A220.
3. **Protocoles d'Inspection**: Mise en place de protocoles d'inspection améliorés pour détecter les désalignements tôt dans le processus d'assemblage.
4. **Collaboration Fournisseur**: Discussions continues avec Global Aero Structures pour améliorer la qualité des pièces fournies.

### Recommandations Finales
- **Exécution**: Assurer que toutes les actions soient complétées dans les délais spécifiés.
- **Suivi**: Surveiller l'efficacité des mesures par des audits mensuels.
- **Réévaluation**: Prévoir une réévaluation des performances structurelles dans 6 mois pour mesurer l'impact des changements mis en œuvre.

### Synthèse
L'implémentation rapide et rigoureuse de ce plan d'action est essentielle pour garantir la navigabilité et la fiabilité de l'A220, tout en minimisant les coûts de production et les risques à long terme. Les mesures proposées visent à corriger les désalignements actuels et à prévenir leur récurrence future par une meilleure formation et des contrôles renforcés.`,style:"direct and concise",label:"Validation de l'Analyse et Recommandation Finale"}]}}];var vp=le('<main class="svelte-tmi5k6"><div class="container svelte-tmi5k6"><div class="pane left_selected svelte-tmi5k6"><!> <!> <!></div> <div class="pane right svelte-tmi5k6"><!></div></div></main>');function bp(i,s){Je(s,!0);let n="https://dataiku.genai-cgi.com/web-apps-backends/NONCONFORMITIES/3DGvs3v/nc?max_rows=5000",t=Ye(qe(yp)),a=Ye(void 0),r=Ye(0),o=Ye(0),l=Ye(null),u=null,c=Ye(qe([])),d=Ye(qe([])),m=Ye(qe([])),p=Ye(1);kt(()=>{console.log(history)});function f(R){de(l,qe(R.detail.item)),de(p,2),console.log(T(l))}async function g(){try{let R=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});R.ok?(de(t,qe(await R.json())),console.log(`fetched ${T(t).length} non conformities`)):console.error("HTTP error",R.status)}catch(R){console.log(R)}}kt(()=>{de(m,qe([{label:"Non Conformity Creation",value:1,active:!0,arguments:{history},component:sc},{label:"Non Conformity Reference",value:2,active:T(l),component:Au,arguments:{selectedItem:T(l)}},{label:"Document",value:3,component:wu,argument:u,active:u}]))}),g(),kt(()=>{T(c).length>0&&(de(a,qe(T(c).filter(R=>R.doc.includes("ATA")))),de(d,qe(T(c).filter(R=>!R.doc.includes("ATA")))))}),kt(()=>{de(o,qe(T(d).length))});var y=vp(),v=N(y),b=N(v),_=N(b);Li(_,{expand:!1,title:"AI Agent",children:(R,j)=>{cp(R,{get referencesList(){return T(c)},set referencesList(O){de(c,qe(O))}})},$$slots:{default:!0}});var C=Q(_,2);Li(C,{expand:!0,title:"Non Conformities List",get num(){return T(r)},children:(R,j)=>{El(R,{get nonConformities(){return T(t)},get nonConformitiesFilter(){return T(a)},get num(){return T(r)},set num(O){de(r,qe(O))},$$events:{select:f}})},$$slots:{default:!0}});var A=Q(C,2);Li(A,{expand:!1,title:"Documents",get num(){return T(o)},children:(R,j)=>{gu(R,{get documentsList(){return T(d)},$$events:{select:f}})},$$slots:{default:!0}}),F(b);var x=Q(b,2),D=N(x);hp(D,{get items(){return T(m)},get activeTabValue(){return T(p)},set activeTabValue(R){de(p,qe(R))}}),F(x),F(v),F(y),ie(i,y),$e()}function xp(i){bp(i,{})}export{xp as component,Ip as universal};
